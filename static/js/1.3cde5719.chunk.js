(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,r){e.exports=r(288)()},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){var n=r(159),i=r(160);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}},function(e,t,r){var n=r(61);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){r(1);var n=r(169);function i(t,r,s){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,r){var i=n(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(r):s.value}},i(t,r,s||t)}e.exports=i},function(e,t,r){"use strict";e.exports=r(117)},function(e,t,r){e.exports=r(115)},function(e,t){function r(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var a=e.apply(t,n);function o(e){r(a,i,s,o,c,"next",e)}function c(e){r(a,i,s,o,c,"throw",e)}o(void 0)})}}},function(e,t,r){"use strict";var n=r(167),i=r(2),s=r(4),a=r(1),o=r(5),c=r(13);e.exports=function e(t,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var d=Object.entries(r);var h=function(){var r=c(d[l],2),h=r[0],p=r[1],f=Object.assign(u,n({},h,function(e){function t(e){var r;return i(this,t),(r=s(this,a(t).call(this,e))).constructor=f,r.__proto__=f.prototype,r.message=e,r}return o(t,e),t}(t)))[h];e(f,p,u)};for(var l=0;l<d.length;l++)h();return u}(Error,{BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},ArgumentsRequired:{},BadRequest:{},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{},OrderImmediatelyFillable:{},OrderNotFillable:{},DuplicateOrderId:{}},NotSupported:{}},NetworkError:{DDoSProtection:{},ExchangeNotAvailable:{},InvalidNonce:{},RequestTimeout:{}}}})},function(e,t,r){"use strict";(function(t){var n=r(8),i=r(9),s=r(124),a=r(13),o=r(2),c=r(3),u=r(73),d=r(166),h=u.isNode,l=(u.keys,u.values,u.deepExtend),p=u.extend,f=u.clone,v=u.flatten,m=u.unique,y=u.indexBy,g=u.sortBy,b=u.groupBy,k=u.aggregate,w=(u.uuid,u.unCamelCase),x=(u.precisionFromString,u.throttle),T=u.capitalize,_=u.now,C=(u.sleep,u.timeout),O=u.TimedOut,S=u.buildOHLCVC,E=u.decimalToPrecision,B=r(10),I=B.ExchangeError,A=B.InvalidAddress,M=B.NotSupported,P=B.AuthenticationError,F=B.DDoSProtection,R=B.RequestTimeout,D=B.ExchangeNotAvailable,L=u.precisionConstants,N=L.TRUNCATE,q=L.ROUND,G=L.DECIMAL_PLACES,U="undefined"===typeof fetch?r(168)().fetch:fetch,V=void 0,j=void 0,H=void 0,K=void 0;try{V=r(!function(){var e=new Error("Cannot find module 'web3'");throw e.code="MODULE_NOT_FOUND",e}()),j=r(!function(){var e=new Error("Cannot find module 'ethereumjs-abi'");throw e.code="MODULE_NOT_FOUND",e}()),H=r(!function(){var e=new Error("Cannot find module 'ethereumjs-util'");throw e.code="MODULE_NOT_FOUND",e}()),K=r(!function(){var e=new Error("Cannot find module 'bignumber.js'");throw e.code="MODULE_NOT_FOUND",e}())}catch(z){}var W=void 0;e.exports=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),Object.assign(this,u,{encode:function(e){return e},decode:function(e){return e}}),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.iso8601=function(e){var t=parseInt(e,10);if(!(isNaN(t)||t<0))try{return new Date(t).toISOString()}catch(z){return}},this.parse8601=function(e){if("string"===typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{var t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(isNaN(t))return;return t}catch(z){return}},this.parseDate=function(e){if("string"===typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(z){return}return t.parse8601(e)}},this.microseconds=function(){return 1e3*_()},this.seconds=function(){return Math.floor(_()/1e3)},this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.fetchImplementation=U,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.journal="debug.json",this.userAgent=void 0,this.twofa=void 0,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.privateKey=void 0,this.walletAddress=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders={},this.trades={},this.transactions={},this.requiresWeb3=!1,this.enableLastJsonResponse=!0,this.enableLastHttpResponse=!0,this.enableLastResponseHeaders=!0,this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0,this.arrayConcat=function(e,t){return e.concat(t)};!function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;if(null!==r){var n=!0,i=!1,s=void 0;try{for(var a,o=Object.getOwnPropertyNames(r)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;t[w(c)]=t[c]}}catch(u){i=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}e(Object.getPrototypeOf(r))}}();for(var n=l(this.describe(),r),i=Object.entries(n),s=0;s<i.length;s++){var c=a(i[s],2),d=c[0],h=c[1];this[d]=l(this[d],h)}for(var p in this.has)this["has"+T(p)]=!!this.has[p];if(this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets),this.debug&&W&&W(function(){return t.journal},this,Object.keys(this.has)),this.requiresWeb3&&!this.web3&&V){var f=this.web3ProviderURL?new V.providers.HttpProvider(this.web3ProviderURL):new V.providers.HttpProvider;this.web3=new V(V.givenProvider||f)}}return c(e,[{key:"getMarket",value:function(e){this.marketClasses||(this.marketClasses={});var t=this.marketClasses[e];return t||(t=new d(this,e),this.marketClasses[e]=t,t)}},{key:"describe",value:function(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!1,rateLimit:2e3,certified:!1,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelOrders:!1,createDepositAddress:!1,createOrder:!0,createMarketOrder:!0,createLimitOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!1,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1,privateKey:!1,walletAddress:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},skipJsonOnStatusCodes:[],exceptions:void 0,httpExceptions:{422:I,418:F,429:F,404:D,409:D,500:D,501:D,502:D,520:D,521:D,522:D,525:D,526:D,400:D,403:D,405:D,503:D,530:D,408:R,504:R,401:P,511:P},dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH",BCHABC:"BCH",BCHSV:"BSV"},precisionMode:G}}}]),c(e,[{key:"defaults",value:function(){return{}}},{key:"nonce",value:function(){return this.seconds()}},{key:"milliseconds",value:function(){return _()}},{key:"encodeURIComponent",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return encodeURIComponent.apply(void 0,arguments)})},{key:"checkRequiredCredentials",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.keys(this.requiredCredentials).forEach(function(r){if(e.requiredCredentials[r]&&!e[r]){if(t)throw new P(e.id+" requires `"+r+"`");return t}})}},{key:"checkAddress",value:function(e){if(void 0===e)throw new A(this.id+" address is undefined");if(1===m(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new A(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+this.json(e)+'"');return e}},{key:"initRestRateLimiter",value:function(){var e=this;if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({refillRate:1/this.rateLimit,delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=x(this.tokenBucket),this.executeRestRequest=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=e.fetchImplementation,o={method:r,headers:n,body:i,timeout:e.timeout};if(e.httpAgent&&0===t.indexOf("http://"))o.agent=e.httpAgent;else if(e.httpsAgent&&0===t.indexOf("https://"))o.agent=e.httpsAgent;else if(e.agent){var c=t.split("//"),u=s(c),d=u[0];u.slice(1);d===e.agent.protocol&&(o.agent=e.agent)}var l=a(t,e.extend(o,e.fetchOptions)).catch(function(n){if(h)throw new D([e.id,r,t,n.type,n.message].join(" "));throw n}).then(function(s){return e.handleRestResponse(s,t,r,n,i)});return C(e.timeout,l).catch(function(n){if(n instanceof O)throw new R(e.id+" "+r+" "+t+" request timed out ("+e.timeout+" ms)");throw n})}}},{key:"setSandboxMode",value:function(e){if(e){if(!("test"in this.urls))throw new M(this.id+" does not have a sandbox URL");this.urls.api_backup=f(this.urls.api),this.urls.api=f(this.urls.test)}else"api_backup"in this.urls&&(this.urls.api=f(this.urls.api_backup))}},{key:"defineRestApi",value:function(e,t){for(var r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.keys(e),o=function(){for(var o=a[c],u=Object.keys(e[o]),d=0;d<u.length;d++)for(var h=u[d],l=e[o][h],p=function(e){var a=l[e].trim(),c=a.split(/[^a-zA-Z0-9]/),u=h.toUpperCase(),d=h.toLowerCase(),p=r.capitalize(d),f=c.map(r.capitalize).join(""),v=c.map(function(e){return e.trim().toLowerCase()}).filter(function(e){return e.length>0}).join("_"),m=o+p+r.capitalize(f),y=o+"_"+d+"_"+v;"suffixes"in s&&("camelcase"in s.suffixes&&(m+=s.suffixes.camelcase),"underscore"in s.suffixes&&(y+=s.suffixes.underscore)),"underscore_suffix"in s&&(y+=s.underscoreSuffix),"camelcase_suffix"in s&&(m+=s.camelcaseSuffix);var g=function(){var e=i(n.mark(function e(i){return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r[t](a,o,u,i||{}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();r[m]=g,r[y]=g},f=0;f<l.length;f++)p(f)},c=0;c<a.length;c++)o()}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return h&&this.userAgent&&("string"===typeof this.userAgent?r=p({"User-Agent":this.userAgent},r):"object"===typeof this.userAgent&&"User-Agent"in this.userAgent&&(r=p(this.userAgent,r))),"function"===typeof this.proxy?(e=this.proxy(e),h&&(r=p({Origin:this.origin},r))):"string"===typeof this.proxy&&(this.proxy.length&&h&&(r=p({Origin:this.origin},r)),e=this.proxy+e),r=p(this.headers,r),this.verbose&&console.log("fetch:\n",this.id,t,e,"\nRequest:\n",r,"\n",n,"\n"),this.executeRestRequest(e,t,r,n)}},{key:"fetch2",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,!this.enableRateLimit){e.next=8;break}return e.next=8,this.throttle();case 8:return c=this.sign(t,r,i,s,a,o),e.abrupt("return",this.fetch(c.url,c.method,c.headers,c.body));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return this.fetch2(e,t,r,n,i,s)}},{key:"parseJson",value:function(e){return JSON.parse(e)}},{key:"parseRestResponse",value:function(e,t,r,n){try{return t.length>0?this.parseJson(t):{}}catch(z){this.verbose&&console.log("parseJson:\n",this.id,n,r,e.status,"error",z,"response body:\n'"+t+"'\n");var i=void 0,s=t.match(/<title>([^<]+)/i);s&&(i=s[1].trim());var a=t.match(/offline|busy|retry|wait|unavailable|maintain|maintenance|maintenancing/i),o=t.match(/cloudflare|incapsula|overload|ddos/i);if(z instanceof SyntaxError){var c=D,u="not accessible from this location at the moment";throw a&&(u="offline, on maintenance or unreachable from this location at the moment"),e.status<500&&o&&(c=F),new c([this.id,n,r,e.status,i,u].join(" "))}throw z}}},{key:"findBroadlyMatchedKey",value:function(e,t){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if(t.indexOf(i)>=0)return i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){}},{key:"defaultErrorHandler",value:function(e,t,r,n){var i=e.status,s=e.statusText;if(!(i>=200&&i<=299)){var a=void 0,o=t,c=t.match(/<title>([^<]+)/i);throw c&&(o=c[1].trim()),(a=this.httpExceptions[i.toString()]||I)===D&&(t.match(/cloudflare|incapsula|overload|ddos/i)?a=F:o+=" (possible reasons: "+["invalid API keys","bad or old nonce","exchange is down or offline","on maintenance","DDoS protection","rate-limiting"].join(", ")+")"),new a([this.id,n,r,i,s,o].join(" "))}}},{key:"isJsonEncodedObject",value:function(e){return"string"===typeof e&&e.length>=2&&("{"===e[0]||"["===e[0])}},{key:"getResponseHeaders",value:function(e){var t={};return e.headers.forEach(function(e,r){r=r.split("-").map(function(e){return T(e)}).join("-"),t[r]=e}),t}},{key:"handleRestResponse",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.text().then(function(i){var s=r.isJsonEncodedObject(i)&&!r.skipJsonOnStatusCodes.includes(e.status)?r.parseRestResponse(e,i,t,n):void 0,a=r.getResponseHeaders(e);r.enableLastResponseHeaders&&(r.last_response_headers=a),r.enableLastHttpResponse&&(r.last_http_response=i),r.enableLastJsonResponse&&(r.last_json_response=s),r.verbose&&console.log("handleRestResponse:\n",r.id,n,t,e.status,e.statusText,"\nResponse:\n",a,"\n",i,"\n");var o=[e.status,e.statusText,t,n,a,i,s];return r.handleErrors.apply(r,o),r.defaultErrorHandler(e,i,t,n),s||i})}},{key:"setMarkets",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object.values(e).map(function(e){return l({limits:t.limits,precision:t.precision},t.fees.trading,e)});if(this.markets=l(this.markets,y(n,"symbol")),this.marketsById=y(e,"id"),this.markets_by_id=this.marketsById,this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),r)this.currencies=l(r,this.currencies);else{var i=n.filter(function(e){return"base"in e}).map(function(e){return{id:e.baseId||e.base,numericId:void 0!==e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8}}),s=n.filter(function(e){return"quote"in e}).map(function(e){return{id:e.quoteId||e.quote,numericId:void 0!==e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8}}),a=i.concat(s),o=b(a,"code"),c=Object.keys(o).map(function(e){return o[e].reduce(function(e,t){return e.precision>t.precision?e:t},o[e][0])}),u=g(v(c),"code");this.currencies=l(y(u,"code"),this.currencies)}return this.currencies_by_id=y(this.currencies,"id"),this.markets}},{key:"loadMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],r=a.length>1&&void 0!==a[1]?a[1]:{},t||!this.markets){e.next=6;break}if(this.markets_by_id){e.next=5;break}return e.abrupt("return",this.setMarkets(this.markets));case 5:return e.abrupt("return",this.markets);case 6:return e.next=8,this.fetchMarkets(r);case 8:if(i=e.sent,s=void 0,!this.has.fetchCurrencies){e.next=14;break}return e.next=13,this.fetchCurrencies();case 13:s=e.sent;case 14:return e.abrupt("return",this.setMarkets(i,s));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadAccounts",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],r=i.length>1&&void 0!==i[1]?i[1]:{},!t){e.next=8;break}return e.next=5,this.fetchAccounts(r);case 5:this.accounts=e.sent,e.next=15;break;case 8:if(!this.accounts){e.next=12;break}return e.abrupt("return",this.accounts);case 12:return e.next=14,this.fetchAccounts(r);case 14:this.accounts=e.sent;case 15:return e.abrupt("return",this.accounts);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBidsAsks",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new M(this.id+" fetchBidsAsks not supported yet")}},{key:"fetchOHLCVC",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"1m",i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},this.has.fetchTrades){e.next=6;break}throw new M(this.id+" fetchOHLCV() not supported yet");case 6:return e.next=8,this.loadMarkets();case 8:return e.next=10,this.fetchTrades(t,i,s,a);case 10:return o=e.sent,c=S(o,r,i,s),e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:"1m",i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},this.has.fetchTrades){e.next=6;break}throw new M(this.id+" fetchOHLCV() not supported yet");case 6:return e.next=8,this.loadMarkets();case 8:return e.next=10,this.fetchTrades(t,i,s,a);case 10:return o=e.sent,c=S(o,r,i,s),e.abrupt("return",c.map(function(e){return e.slice(0,-1)}));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTradingViewOHLCV",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(s,t,r,n,i)}},{key:"convertTradingViewToOHLCV",value:function(e){for(var t=[],r=0;r<e.t.length;r++)t.push([1e3*e.t[r],e.o[r],e.h[r],e.l[r],e.c[r],e.v[r]]);return t}},{key:"convertOHLCVToTradingView",value:function(e){for(var t={t:[],o:[],h:[],l:[],c:[],v:[]},r=0;r<e.length;r++)t.t.push(parseInt(e[r][0]/1e3)),t.o.push(e[r][1]),t.h.push(e[r][2]),t.l.push(e[r][3]),t.c.push(e[r][4]),t.v.push(e[r][5]);return t}},{key:"fetchTickers",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new M(this.id+" fetchTickers not supported yet")}},{key:"purgeCachedOrders",value:function(e){var t=Object.values(this.orders).filter(function(t){return"open"===t.status||t.timestamp>=e});return this.orders=y(t,"id"),this.orders}},{key:"fetchOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new M(this.id+" fetchOrder not supported yet")}},{key:"fetchOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchOrders not supported yet")}},{key:"fetchOpenOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchOpenOrders not supported yet")}},{key:"fetchClosedOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchClosedOrders not supported yet")}},{key:"fetchMyTrades",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchMyTrades not supported yet")}},{key:"fetchTransactions",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchTransactions not supported yet")}},{key:"fetchDeposits",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchDeposits not supported yet")}},{key:"fetchWithdrawals",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new M(this.id+" fetchWithdrawals not supported yet")}},{key:"fetchCurrencies",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t,r){return t(e.currencies)})}},{key:"fetchMarkets",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t,r){return t(Object.values(e.markets))})}},{key:"fetchOrderStatus",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.fetchOrder(t,r,i);case 4:return s=e.sent,e.abrupt("return",s.status);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"account",value:function(){return{free:0,used:0,total:0}}},{key:"commonCurrencyCode",value:function(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}},{key:"currencyId",value:function(e){if(void 0===this.currencies)throw new I(this.id+" currencies not loaded");if(e in this.currencies)return this.currencies[e].id;for(var t={},r=Object.keys(this.commonCurrencies),n=0;n<r.length;n++){var i=r[n];t[this.commonCurrencies[i]]=i}return this.safeString(t,e,e)}},{key:"currency",value:function(e){if(void 0===this.currencies)throw new I(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new I(this.id+" does not have currency code "+e)}},{key:"findMarket",value:function(e){if(void 0===this.markets)throw new I(this.id+" markets not loaded");if("string"===typeof e){if(e in this.markets_by_id)return this.markets_by_id[e];if(e in this.markets)return this.markets[e]}return e}},{key:"findSymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0===t&&(t=this.findMarket(e)),"object"===typeof t?t.symbol:e}},{key:"market",value:function(e){if(void 0===this.markets)throw new I(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new I(this.id+" does not have market symbol "+e)}},{key:"marketId",value:function(e){var t=this.market(e);return void 0!==t?t.id:e}},{key:"marketIds",value:function(e){var t=this;return e.map(function(e){return t.marketId(e)})}},{key:"symbol",value:function(e){return this.market(e).symbol||e}},{key:"extractParams",value:function(e){for(var t=/{([\w-]+)}/g,r=[],n=t.exec(e);n;)r.push(n[1]),n=t.exec(e);return r}},{key:"implodeParams",value:function(e,t){for(var r in t)e=e.replace("{"+r+"}",t[r]);return e}},{key:"url",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.implodeParams(e,t),n=this.omit(t,this.extractParams(e));return Object.keys(n).length&&(r+="?"+this.urlencode(n)),r}},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return[parseFloat(e[t]),parseFloat(e[r])]}},{key:"parseBidsAsks",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object.values(e||[]).map(function(e){return t.parseBidAsk(e,r,n)})}},{key:"fetchL2OrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.fetchOrderBook(t,r,i);case 4:return s=e.sent,e.abrupt("return",p(s,{bids:g(k(s.bids),0,!0),asks:g(k(s.asks),0)}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderBook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bids",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asks",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return{bids:g(r in e?this.parseBidsAsks(e[r],i,s):[],0,!0),asks:g(n in e?this.parseBidsAsks(e[n],i,s):[],0),timestamp:t,datetime:this.iso8601(t),nonce:void 0}}},{key:"getCurrencyUsedOnOpenOrders",value:function(e){var t=this;return Object.values(this.orders).filter(function(e){return"open"===e.status}).reduce(function(r,n){var i=n.symbol,s=t.markets[i],a=n.remaining;return e===s.base&&"sell"===n.side?r+a:e===s.quote&&"buy"===n.side?r+n.price*a:r},0)}},{key:"parseBalance",value:function(e){var t=this;return Object.keys(this.omit(e,"info")).forEach(function(r){if(void 0!==e[r].free&&void 0===e[r].used)if(t.dontGetUsedBalanceFromStaleCache&&"open_orders"in e.info){var n=e.info.open_orders;Object.values(t.orders).filter(function(e){return"open"===e.status}).length===n&&(e[r].used=t.getCurrencyUsedOnOpenOrders(r),e[r].total=(e[r].used||0)+(e[r].free||0))}else e[r].used=t.getCurrencyUsedOnOpenOrders(r),e[r].total=(e[r].used||0)+(e[r].free||0);["free","used","total"].forEach(function(t){e[t]=e[t]||{},e[t][r]=e[r][t]})}),e}},{key:"fetchPartialBalance",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.fetchBalance(r);case 3:return i=e.sent,e.abrupt("return",i[t]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFreeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("free",e)}},{key:"fetchUsedBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("used",e)}},{key:"fetchTotalBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("total",e)}},{key:"loadTradingLimits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]&&o[1],o.length>2&&void 0!==o[2]?o[2]:{},!this.has.fetchTradingLimits){e.next=10;break}if(!r&&"limitsLoaded"in this.options){e.next=10;break}return e.next=7,this.fetchTradingLimits(t);case 7:for(i=e.sent,s=0;s<t.length;s++)a=t[s],this.markets[a]=this.deepExtend(this.markets[a],i[a]);this.options.limitsLoaded=this.milliseconds();case 10:return e.abrupt("return",this.markets);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"filterBySinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0!==t&&null!==t&&(e=e.filter(function(e){return e.timestamp>=t})),void 0!==r&&null!==r&&(e=e.slice(0,r)),e}},{key:"filterByValueSinceLimit",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=void 0!==r&&null!==r,a=void 0!==n&&null!==n;return(s||a)&&(e=Object.values(e).filter(function(e){return(!s||e[t]===r)&&(!a||e.timestamp>=n)})),void 0!==i&&null!==i&&(e=Object.values(e).slice(0,i)),e}},{key:"filterBySymbolSinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return this.filterByValueSinceLimit(e,"symbol",t,r,n)}},{key:"filterByCurrencySinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return this.filterByValueSinceLimit(e,"currency",t,r,n)}},{key:"filterByArray",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e=Object.values(e),void 0===r||null===r)return n?y(e,t):e;for(var i=[],s=0;s<e.length;s++)r.includes(e[s][t])&&i.push(e[s]);return n?y(i,t):i}},{key:"parseTrades",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=Object.values(e||[]).map(function(e){return t.parseTrade(e,r)});s=g(s,"timestamp");var a=void 0!==r?r.symbol:void 0;return this.filterBySymbolSinceLimit(s,a,n,i)}},{key:"parseTransactions",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=Object.values(e||[]).map(function(e){return t.parseTransaction(e,r)});s=this.sortBy(s,"timestamp");var a=void 0!==r?r.code:void 0;return this.filterByCurrencySinceLimit(s,a,n,i)}},{key:"parseLedger",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=[],s=Object.values(e||[]),a=0;a<s.length;a++)i.push(this.parseLedgerEntry(s[a],t));i=this.sortBy(i,"timestamp");var o=void 0!==t?t.code:void 0;return this.filterByCurrencySinceLimit(i,o,r,n)}},{key:"parseOrders",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=Object.values(e).map(function(e){return t.parseOrder(e,r)});s=g(s,"timestamp");var a=void 0!==r?r.symbol:void 0;return this.filterBySymbolSinceLimit(s,a,n,i)}},{key:"safeCurrencyCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=void 0,i=this.safeString(e,t);return i in this.currencies_by_id?r=this.currencies_by_id[i]:n=this.commonCurrencyCode(i),void 0!==r&&(n=r.code),n}},{key:"filterBySymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0!==t?e.filter(function(e){return e.symbol===t}):e}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Array.isArray(e)?e.slice(0,6):e}},{key:"parseOHLCVs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;e=Object.values(e||[]);for(var s=[],a=0;a<e.length&&!(i&&s.length>=i);a++){var o=this.parseOHLCV(e[a],t,r,n,i);n&&o[0]<n||s.push(o)}return this.sortBy(s,0)}},{key:"editLimitBuyOrder",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.editLimitOrder.apply(this,[e,t,"buy"].concat(n))}},{key:"editLimitSellOrder",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.editLimitOrder.apply(this,[e,t,"sell"].concat(n))}},{key:"editLimitOrder",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.editOrder.apply(this,[e,t,"limit"].concat(n))}},{key:"editOrder",value:function(){var e=i(n.mark(function e(t,r){var i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enableRateLimit){e.next=2;break}throw new I(this.id+" editOrder() requires enableRateLimit = true");case 2:return e.next=4,this.cancelOrder(t,r);case 4:for(i=o.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=o[a];return e.abrupt("return",this.createOrder.apply(this,[r].concat(s)));case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"createLimitOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"limit"].concat(r))}},{key:"createMarketOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"market"].concat(r))}},{key:"createLimitBuyOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"limit","buy"].concat(r))}},{key:"createLimitSellOrder",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.createOrder.apply(this,[e,"limit","sell"].concat(r))}},{key:"createMarketBuyOrder",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createOrder(e,"market","buy",t,void 0,r)}},{key:"createMarketSellOrder",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createOrder(e,"market","sell",t,void 0,r)}},{key:"costToPrecision",value:function(e,t){return E(t,q,this.markets[e].precision.price,this.precisionMode)}},{key:"priceToPrecision",value:function(e,t){return E(t,q,this.markets[e].precision.price,this.precisionMode)}},{key:"amountToPrecision",value:function(e,t){return E(t,N,this.markets[e].precision.amount,this.precisionMode)}},{key:"feeToPrecision",value:function(e,t){return E(t,q,this.markets[e].precision.price,this.precisionMode)}},{key:"currencyToPrecision",value:function(e,t){return this.decimalToPrecision(t,q,this.currencies[e].precision,this.precisionMode)}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[s],c=parseFloat(this.costToPrecision(e,n*i));return{type:s,currency:a.quote,rate:o,cost:parseFloat(this.feeToPrecision(e,o*c))}}},{key:"mdy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";t=t||"";var r=new Date(e),n=r.getUTCFullYear().toString(),i=r.getUTCMonth()+1,s=r.getUTCDate();return(i=i<10?"0"+i:i.toString())+t+(s=s<10?"0"+s:s.toString())+t+n}},{key:"ymd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";t=t||"";var r=new Date(e),n=r.getUTCFullYear().toString(),i=r.getUTCMonth()+1,s=r.getUTCDate();return n+t+(i=i<10?"0"+i:i.toString())+t+(s=s<10?"0"+s:s.toString())}},{key:"ymdhms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=new Date(e),n=r.getUTCFullYear(),i=r.getUTCMonth()+1,s=r.getUTCDate(),a=r.getUTCHours(),o=r.getUTCMinutes(),c=r.getUTCSeconds();return n+"-"+(i=i<10?"0"+i:i)+"-"+(s=s<10?"0"+s:s)+t+(a=a<10?"0"+a:a)+":"+(o=o<10?"0"+o:o)+":"+(c=c<10?"0"+c:c)}},{key:"checkRequiredDependencies",value:function(){if(!e.hasWeb3())throw new I("The following npm modules are required:\nnpm install web3 ethereumjs-util ethereumjs-abi bignumber.js --no-save")}},{key:"ethDecimals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ether";return this.safeValue({wei:0,kwei:3,babbage:3,femtoether:3,mwei:6,lovelace:6,picoether:6,gwei:9,shannon:9,nanoether:9,nano:9,szabo:12,microether:12,micro:12,finney:15,milliether:15,milli:15,ether:18,kether:21,grand:21,mether:24,gether:27,tether:30},e)}},{key:"ethUnit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:18;return this.safeValue({0:"wei",3:"kwei",6:"mwei",9:"gwei",12:"szabo",15:"finney",18:"ether",21:"kether",24:"mether",27:"gether",30:"tether"},e)}},{key:"fromWei",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ether",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;return void 0===e?e:(e=18!==r?new K(e).times(new K(Math.pow(10,18-r))).toFixed():new K(e).toFixed(),parseFloat(this.web3.utils.fromWei(e,t)))}},{key:"toWei",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ether",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;return void 0===e?e:(e=18!==r?new K(this.numberToString(e)).div(new K(Math.pow(10,18-r))).toFixed():this.numberToString(e),this.web3.utils.toWei(e,t))}},{key:"decryptAccountFromJson",value:function(e,t){return this.decryptAccount("string"===typeof e?JSON.parse(e):e,t)}},{key:"decryptAccount",value:function(e,t){return this.web3.eth.accounts.decrypt(e,t)}},{key:"decryptAccountFromPrivateKey",value:function(e){return this.web3.eth.accounts.privateKeyToAccount(e)}},{key:"soliditySha3",value:function(e){var t=this.solidityValues(e),r=this.solidityTypes(t);return"0x"+j.soliditySHA3(r,t).toString("hex")}},{key:"soliditySha256",value:function(e){var t=this.solidityValues(e),r=this.solidityTypes(t);return"0x"+j.soliditySHA256(r,t).toString("hex")}},{key:"solidityTypes",value:function(e){var t=this;return e.map(function(e){return t.web3.utils.isAddress(e)?"address":"uint256"})}},{key:"solidityValues",value:function(e){var t=this;return e.map(function(e){return t.web3.utils.isAddress(e)?e:new K(e).toFixed()})}},{key:"getZeroExOrderHash",value:function(e){return this.soliditySha3([e.exchangeContractAddress,e.maker,e.taker,e.makerTokenAddress,e.takerTokenAddress,e.feeRecipient,e.makerTokenAmount,e.takerTokenAmount,e.makerFee,e.takerFee,e.expirationUnixTimestampSec,e.salt])}},{key:"getZeroExOrderHashV2",value:function(e){var r="000000000000000000000000",n=j.soliditySHA3(["bytes","bytes","address"],[t.from("91ab3d17e3a50a9d89e63fd30b92be7f5336b03b287bb946787a83a9d62a2766f0f24618f4c4be1e62e026fb039a20ef96f4495294817d1027ffaa6d1f70e61ead7c5bef027816a800da1736444fb58a807ef4c9603b7848673f7e3a68eb14a5","hex"),t.from(r,"hex"),e.exchangeAddress]),i=j.soliditySHA3(["bytes","bytes","address","bytes","address","bytes","address","bytes","address","uint256","uint256","uint256","uint256","uint256","uint256","string","string"],[t.from("770501f88a26ede5c04a20ef877969e961eb11fc13b78aaf414b633da0d4f86f","hex"),t.from(r,"hex"),e.makerAddress,t.from(r,"hex"),e.takerAddress,t.from(r,"hex"),e.feeRecipientAddress,t.from(r,"hex"),e.senderAddress,e.makerAssetAmount,e.takerAssetAmount,e.makerFee,e.takerFee,e.expirationTimeSeconds,e.salt,H.keccak(t.from(e.makerAssetData.slice(2),"hex")),H.keccak(t.from(e.takerAssetData.slice(2),"hex"))]);return"0x"+H.keccak(t.concat([t.from("1901","hex"),n,i])).toString("hex")}},{key:"signZeroExOrder",value:function(e,t){var r=this.getZeroExOrderHash(e),n=this.signMessage(r,t);return this.extend(e,{orderHash:r,ecSignature:n})}},{key:"signZeroExOrderV2",value:function(e,t){var r=this.getZeroExOrderHashV2(e),n=this.signMessage(r,t);return this.extend(e,{orderHash:r,signature:this.convertECSignatureToSignatureHex(n)})}},{key:"convertECSignatureToSignatureHex",value:function(e){var r=e.v;return 27!==r&&28!==r&&(r+=27),"0x"+t.concat([H.toBuffer(r),H.toBuffer(e.r),H.toBuffer(e.s)]).toString("hex")+"03"}},{key:"hashMessage",value:function(e){return this.web3.eth.accounts.hashMessage(e)}},{key:"signHash",value:function(e,r){var n=H.ecsign(t.from(e.slice(-64),"hex"),t.from(r.slice(-64),"hex"));return{v:n.v,r:"0x"+n.r.toString("hex"),s:"0x"+n.s.toString("hex")}}},{key:"signMessage",value:function(e,t){var r=this.decryptAccountFromPrivateKey(t).sign(e,t.slice(-64));return{v:parseInt(r.v.slice(2),16),r:r.r,s:r.s}}},{key:"signMessage2",value:function(e,t){return this.signHash(this.hashMessage(e),t.slice(-64))}},{key:"oath",value:function(e){if("undefined"!==typeof this.twofa)return this.totp(e);throw new I(this.id+" this.twofa has not been set")}}],[{key:"hasWeb3",value:function(){return V&&H&&j&&K}}]),e}()}).call(this,r(120).Buffer)},function(e,t,r){"use strict";var n=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(n(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(a=new Error(t.replace(/%s/g,function(){return String(i[o++])}))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(e,t,r){var n=r(70),i=r(125),s=r(72);e.exports=function(e,t){return n(e)||i(e,t)||s()}},function(e,t,r){e.exports=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},s=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var a=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=a<<24-(n+s)%4*8}else for(var s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var t=t,r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var o=i(4294967296*(r||e.random()));r=987654071*o(),n.push(4294967296*o()|0)}return new a.init(n,t)}}),o=n.enc={},c=o.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,s=this.blockSize,o=4*s,c=i/o,u=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*s,d=e.min(4*u,i);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(n,h);var l=n.splice(0,u);r.sigBytes-=d}return new a.init(l,d)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(i.Hasher=h.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new l.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e}()},function(e,t,r){"use strict";var n=r(16),i=r(43),s=r(44),a={position:"absolute",left:0,right:0,top:0,bottom:0},o={absoluteFill:i.a.register(a),absoluteFillObject:a,compose:function(e,t){return e&&t?[e,t]:e||t},create:function(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r]&&i.a.register(e[r]);t[r]=n}),t},flatten:s.a,hairlineWidth:1};n.canUseDOM&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=o.flatten);t.a=o},function(e,t,r){"use strict";var n=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},function(e,t,r){"use strict";var n;r(28);n=function(){},t.a=n},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(20),void(s.lib.Cipher||function(e){var t=s,r=t.lib,n=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,o=t.enc,c=(o.Utf8,o.Base64),u=t.algo,d=u.EvpKDF,h=r.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?T:k}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),l=(r.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),t.mode={}),p=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=l.CBC=function(){var t=p.extend();function r(t,r,n){var i=this._iv;if(i){var s=i;this._iv=e}else var s=this._prevBlock;for(var a=0;a<n;a++)t[r+a]^=s[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,s=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=s}}),t}(),v=t.pad={},m=v.Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,s=n<<24|n<<16|n<<8|n,a=[],o=0;o<n;o+=4)a.push(s);var c=i.create(a,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(r.BlockCipher=h.extend({cfg:h.cfg.extend({mode:f,padding:m}),reset:function(){h.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=t.format={},b=g.OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else var n=t;return n.toString(c)},parse:function(e){var t=c.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return y.create({ciphertext:t,salt:n})}},k=r.SerializableCipher=n.extend({cfg:n.extend({format:b}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),s=i.finalize(t),a=i.cfg;return y.create({ciphertext:s,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=e.createDecryptor(r,n).finalize(t.ciphertext);return i},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=t.kdf={},x=w.OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var s=d.create({keySize:t+r}).compute(e,n),a=i.create(s.words.slice(t),4*r);return s.sigBytes=4*t,y.create({key:s,iv:a,salt:n})}},T=r.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:x}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var s=k.encrypt.call(this,e,t,i.key,n);return s.mixIn(i),s},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);n.iv=i.iv;var s=k.decrypt.call(this,e,t,i.key,n);return s}})}()))}()},function(e,t,r){"use strict";var n=r(129),i=r(13),s=r(58),a=s.isString,o=(s.isNumber,Math.max),c={ROUND:0,TRUNCATE:1,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,NO_PADDING:0,PAD_WITH_ZERO:1};function u(e){if(a(e))return e;if(Math.abs(e)<1){var t=e.toString(),r=parseInt(t.split("e-")[1]),n="-"===t[0];r&&(e*=Math.pow(10,r-1),e=(n?"-":"")+"0."+new Array(r).join("0")+e.toString().substring(n?3:2))}else{var i=parseInt(e.toString().split("+")[1]);i>20&&(i-=20,e/=Math.pow(10,i),e+=new Array(i+1).join("0"))}return e.toString()}var d=[],h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=u(e),t>0){var r=d[t]||(d[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)")),n=e.toString().match(r)||[null,e];return i(n,2)[1].toString()}return parseInt(e).toString()};e.exports={numberToString:u,precisionFromString:function(e){var t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0},decimalToPrecision:function e(t,r,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(i<0){var c=Math.pow(10,-i);if(0===r)return(c*e(t/c,r,0,s,a)).toString();if(1===r)return(t-t%c).toString()}for(var d=u(t),h="-"===d[0],l=h?1:0,p=d.length,f=0;f<p&&"."!==d[f];f++);var v=f<d.length,m=new Uint8Array(p-l+(v?0:1));m[0]=48;for(var y=m.length,g=-1,b=-1,k=1,w=l;w<p;w++,k++){var x=d.charCodeAt(w);if(46===x)y=k--;else{if(x<48||x>57)throw new Error("".concat(d,": invalid number (contains an illegal character '").concat(d[k-1],"')"));m[k]=x,48!==x&&g<0&&(g=k)}}g<0&&(g=1);var T=0===s?y:g,_=T+i;b=-1;for(var C=!0,O=h,S=m.length-1,E=0;S>=0;S--){var B=m[S];0!==S?(B+=E,S>=T+i&&(B=0===r&&B>=53&&(53!==B||!E)?58:48),B>57?(B=48,E=1):E=0):E&&(B=49),m[S]=B,48!==B&&(C=!1,g=S,b=b<0?S+1:b)}1===s&&(_=(T=g)+i),C&&(O=!1);var I=g>=y||C?y-1:g,A=b<y?y:b,M=O?1:0,P=M+(y-I),F=o(A-y,0),R=A-I,D=o((0===a?R:_-I)-R,0),L=P+1+F,N=L+D,q=F+D===0,G=new Uint8Array(P+(q?0:1)+F+D);for(O&&(G[0]=45),k=M,w=I;k<P;k++,w++)G[k]=m[w];for(q||(G[P]=46),k=P+1,w=y;k<L;k++,w++)G[k]=m[w];for(k=L;k<N;k++)G[k]=48;return String.fromCharCode.apply(String,n(G))},truncate_to_string:h,truncate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(h(e,t))},precisionConstants:c,ROUND:0,TRUNCATE:1,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,NO_PADDING:0,PAD_WITH_ZERO:1}},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(59),r(60),function(){var e=s,t=e.lib,r=t.Base,n=t.WordArray,i=e.algo,a=i.MD5,o=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,i=r.hasher.create(),s=n.create(),a=s.words,o=r.keySize,c=r.iterations;a.length<o;){u&&i.update(u);var u=i.update(e).finalize(t);i.reset();for(var d=1;d<c;d++)u=i.finalize(u),i.reset();s.concat(u)}return s.sigBytes=4*o,s}});e.EvpKDF=function(e,t,r){return o.create(r).compute(e,t)}}(),s.EvpKDF)}()},function(e,t,r){"use strict";var n=r(35),i=r(27),s=r(0),a=r(25),o={accessibilityComponentType:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityTraits:!0,accessible:!0,children:!0,disabled:!0,importantForAccessibility:!0,nativeID:!0,onBlur:!0,onContextMenu:!0,onFocus:!0,onMoveShouldSetResponder:!0,onMoveShouldSetResponderCapture:!0,onResponderEnd:!0,onResponderGrant:!0,onResponderMove:!0,onResponderReject:!0,onResponderRelease:!0,onResponderStart:!0,onResponderTerminate:!0,onResponderTerminationRequest:!0,onScrollShouldSetResponder:!0,onScrollShouldSetResponderCapture:!0,onSelectionChangeShouldSetResponder:!0,onSelectionChangeShouldSetResponderCapture:!0,onStartShouldSetResponder:!0,onStartShouldSetResponderCapture:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0,pointerEvents:!0,style:!0,testID:!0,onScroll:!0,onWheel:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0,className:!0,href:!0,onClick:!0,onClickCapture:!0,rel:!0,target:!0},c=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(o[r]||0===r.indexOf("aria-")||0===r.indexOf("data-"))&&(t[r]=e[r]);return t},u=(r(12),r(15)),d=r(7),h=r.n(d);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.hitSlop,t=c(this.props);var r=this.context.isInAParentText;if(t.style=u.a.compose(f.initial,u.a.compose(r&&f.inline,this.props.style)),e){var n=function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]=n>0?-1*n:0}return t}(e),i=Object(a.a)("span",{style:[f.hitSlop,n]});t.children=h.a.Children.toArray([i,t.children])}return Object(a.a)("div",t)},n}(d.Component);p.displayName="View",p.contextTypes={isInAParentText:s.bool},p.propTypes={};var f=u.a.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0},inline:{display:"inline-flex"},hitSlop:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){l(e,t,r[t])})}return e}({},u.a.absoluteFillObject,{zIndex:-1})});t.a=Object(n.a)(Object(i.a)(p))},function(e,t,r){"use strict";var n=r(31);t.a=function(e){var t;try{t=Object(n.findDOMNode)(e)}catch(r){}return t}},function(e,t,r){"use strict";var n=r(29),i=r(46);var s=function(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||i.a.hasOwnProperty(e)&&i.a[e]?(""+t).trim():t+"px"},a=r(41);var o=function(e,t,r){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=0===i.indexOf("--"),c="string"===typeof t[i]&&t[i].indexOf("!important")>-1,u=s(i,t[i],o);if("float"===i&&(i="cssFloat"),o||c){var d=o?i:Object(a.default)(i);if(c){var h=u.split("!"),l=h[0],p=h[1];n.setProperty(d,l,p)}else n.setProperty(d,u)}else n[i]=u}},c=function(e){var t=Object(n.a)(e),r=t.x,i=t.y,s=t.top,a=t.left;return{x:r,y:i,width:e.offsetWidth,height:e.offsetHeight,top:s,left:a}},u=function(e,t,r){var i=t||e&&e.parentNode;e&&i&&setTimeout(function(){var t=Object(n.a)(i),s=c(e),a=s.height,o=s.left,u=s.top,d=s.width,h=o-t.left,l=u-t.top;r(h,l,d,a,o,u)},0)},d={A:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},h={blur:function(e){try{e.blur()}catch(t){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&null==d[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(r){}},measure:function(e,t){u(e,null,t)},measureInWindow:function(e,t){e&&setTimeout(function(){var r=c(e),n=r.height,i=r.left,s=r.top,a=r.width;t(i,s,a,n)},0)},measureLayout:function(e,t,r,n){u(e,t,n)},updateView:function(e,t,r){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];switch(n){case"style":o(e,i,r._reactInternalInstance);break;case"class":case"className":e.setAttribute("class",i);break;case"text":case"value":e.value=i;break;default:e.setAttribute(n,i)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}};t.a=h},function(e,t,r){"use strict";var n=r(23),i={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&n.a.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&n.a.blur(e))}};t.a=i},function(e,t,r){"use strict";var n=r(30),i=r(52),s=r(45),a=r.n(s),o=r(29),c=[],u=function(){},d=function(e){return e?Array.prototype.slice.call(e).map(function(e){var t,r=e.identifier>20?e.identifier%20:e.identifier;return{_normalized:!0,clientX:e.clientX,clientY:e.clientY,force:e.force,get locationX(){if(t=t||Object(o.a)(e.target))return e.pageX-t.left},get locationY(){if(t=t||Object(o.a)(e.target))return e.pageY-t.top},identifier:r,pageX:e.pageX,pageY:e.pageY,radiusX:e.radiusX,radiusY:e.radiusY,rotationAngle:e.rotationAngle,screenX:e.screenX,screenY:e.screenY,target:e.target,timestamp:Date.now()}}):c};var h=function(e){return!e||e._normalized?e:(e.type||"").indexOf("mouse")>=0?function(e){var t,r=[{_normalized:!0,clientX:e.clientX,clientY:e.clientY,force:e.force,identifier:0,get locationX(){if(t=t||Object(o.a)(e.target))return e.pageX-t.left},get locationY(){if(t=t||Object(o.a)(e.target))return e.pageY-t.top},pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,target:e.target,timestamp:Date.now()}],n="function"===typeof e.preventDefault?e.preventDefault.bind(e):u,i="function"===typeof e.stopImmediatePropagation?e.stopImmediatePropagation.bind(e):u,s="function"===typeof e.stopPropagation?e.stopPropagation.bind(e):u;return{_normalized:!0,bubbles:e.bubbles,cancelable:e.cancelable,changedTouches:r,defaultPrevented:e.defaultPrevented,identifier:r[0].identifier,get locationX(){return r[0].locationX},get locationY(){return r[0].locationY},pageX:e.pageX,pageY:e.pageY,preventDefault:n,stopImmediatePropagation:i,stopPropagation:s,target:e.target,timestamp:r[0].timestamp,touches:"mouseup"===e.type?c:r,type:e.type,which:e.which}}(e):function(e){var t=d(e.changedTouches),r=d(e.touches),n="function"===typeof e.preventDefault?e.preventDefault.bind(e):u,i="function"===typeof e.stopImmediatePropagation?e.stopImmediatePropagation.bind(e):u,s="function"===typeof e.stopPropagation?e.stopPropagation.bind(e):u,a=t[0];return{_normalized:!0,bubbles:e.bubbles,cancelable:e.cancelable,changedTouches:t,defaultPrevented:e.defaultPrevented,identifier:a?a.identifier:void 0,get locationX(){return a?a.locationX:void 0},get locationY(){return a?a.locationY:void 0},pageX:a?a.pageX:e.pageX,pageY:a?a.pageY:e.pageY,preventDefault:n,stopImmediatePropagation:i,stopPropagation:s,target:e.target,timestamp:Date.now(),touches:r,type:e.type,which:e.which}}(e)},l=r(7),p=r.n(l),f=a.a.ResponderEventPlugin,v=a.a.ResponderTouchHistoryStore;if(!f.eventTypes.responderMove.dependencies){var m=["topTouchCancel","topTouchEnd","topMouseUp"],y=["topTouchMove","topMouseMove"],g=["topTouchStart","topMouseDown"];f.eventTypes.responderMove.dependencies=y,f.eventTypes.responderEnd.dependencies=m,f.eventTypes.responderStart.dependencies=g,f.eventTypes.responderRelease.dependencies=m,f.eventTypes.responderTerminationRequest.dependencies=[],f.eventTypes.responderGrant.dependencies=[],f.eventTypes.responderReject.dependencies=[],f.eventTypes.responderTerminate.dependencies=[],f.eventTypes.moveShouldSetResponder.dependencies=y,f.eventTypes.selectionChangeShouldSetResponder.dependencies=["topSelectionChange"],f.eventTypes.scrollShouldSetResponder.dependencies=["topScroll"],f.eventTypes.startShouldSetResponder.dependencies=g}var b=null,k=f.extractEvents;f.extractEvents=function(e,t,r,n){var i=v.touchHistory.numberActiveTouches>0,s=r.type,a=!1;if(s.indexOf("touch")>-1)b=Date.now();else if(b&&s.indexOf("mouse")>-1){a=Date.now()-b<1e3}if(("mousemove"!==s&&"mouseup"!==s||i)&&1!==r.button&&2!==r.button&&!a){var o=h(r);return k.call(f,e,t,o,n)}};var w=f;Object(s.injectEventPluginsByName)({ResponderEventPlugin:w});var x={onBlur:!0,onClick:!0,onClickCapture:!0,onContextMenu:!0,onFocus:!0,onResponderRelease:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0};t.a=function(e,t){var r;e&&e.constructor===String&&(r=n.a.propsToAccessibilityComponent(t));var s=r||e,a=Object(i.a)(s,t);!function(e){var t=e.onClick,r=e.onResponderRelease,i=e.role,s=n.a.buttonLikeRoles[i],a=n.a.isDisabled(e),o="link"===i;Object.keys(e).forEach(function(t){var r=e[t];"function"===typeof r&&x[t]&&(e[t]=s&&a?void 0:function(e){return e.nativeEvent=h(e.nativeEvent),r(e)})}),o&&r&&(e.onClick=function(t){var r;t.isDefaultPrevented()||(r=t.nativeEvent).metaKey||r.altKey||r.ctrlKey||r.shiftKey||e.target||t.preventDefault()}),s&&!a&&(e.onKeyPress=function(e){e.isDefaultPrevented()||13!==e.which&&32!==e.which||(e.preventDefault(),t&&t(e))})}(a);for(var o=arguments.length,c=new Array(o>2?o-2:0),u=2;u<o;u++)c[u-2]=arguments[u];return p.a.createElement.apply(p.a,[s,a].concat(c))}},function(e,t,r){"use strict";var n=r(68);t.a=n.a},function(e,t,r){"use strict";var n=r(52),i=r(22),s=r(38),a=r(23),o={blur:function(){a.a.blur(Object(i.a)(this))},focus:function(){a.a.focus(Object(i.a)(this))},measure:function(e){a.a.measure(Object(i.a)(this),e)},measureInWindow:function(e){a.a.measureInWindow(Object(i.a)(this),e)},measureLayout:function(e,t,r){a.a.measureLayout(Object(i.a)(this),e,r,t)},setNativeProps:function(e){if(e){var t=Object(i.a)(this);if(t){var r=Object(n.a)(null,e,function(e){return s.a.resolveWithNode(e,t)});a.a.updateView(t,r,this)}}}};t.a=function(e){return Object.keys(o).forEach(function(t){e.prototype[t]||(e.prototype[t]=o[t])}),e}},function(e,t,r){"use strict";var n=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")},i=r(106),s=r.n(i),a=function(e){if(void 0===e||null===e)return e;var t=s()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0};t.a=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&n(e))return e;var r=a(e);if(null!=r)return"rgba("+(r>>16&255)+","+(r>>8&255)+","+(255&r)+","+((r>>24&255)/255*t).toFixed(2)+")"}}},function(e,t,r){"use strict";t.a=function(e){if(e&&1===e.nodeType&&"function"===typeof e.getBoundingClientRect)return e.getBoundingClientRect()}},function(e,t,r){"use strict";var n={button:"button",none:"presentation"},i={adjustable:"slider",button:"button",header:"heading",image:"img",link:"link",none:"presentation",search:"search",summary:"region"},s={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},a=function(e){var t=e.accessibilityComponentType,r=e.accessibilityRole,a=e.accessibilityTraits;if(r){var o=s[r];if(null!==o)return o||r}if(a){var c=Array.isArray(a)?a[0]:a;return i[c]}if(t)return n[t]},o={article:"article",banner:"header",complementary:"aside",contentinfo:"footer",form:"form",link:"a",list:"ul",listitem:"li",main:"main",navigation:"nav",region:"section"},c={},u={buttonLikeRoles:{button:!0,menuitem:!0},isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=c),"label"===e.accessibilityRole)return"label";var t=a(e);return t?"heading"===t?"h"+(e["aria-level"]||1):o[t]:void 0},propsToAriaRole:a};t.a=u},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(291)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}r.d(t,"a",function(){return i})},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(){var e=i,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],s=0;s<r;s+=3)for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;o<4&&s+.75*o<r;o++)i.push(n.charAt(a>>>6*(3-o)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var r=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<n.length;s++)i[n.charCodeAt(s)]=s}var a=n.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(r=o)}return function(e,r,n){for(var i=[],s=0,a=0;a<r;a++)if(a%4){var o=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2;i[s>>>2]|=(o|c)<<24-s%4*8,s++}return t.create(i,s)}(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(e){var t=i,r=t.lib,n=r.WordArray,s=r.Hasher,a=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,a=e[t+0],c=e[t+1],p=e[t+2],f=e[t+3],v=e[t+4],m=e[t+5],y=e[t+6],g=e[t+7],b=e[t+8],k=e[t+9],w=e[t+10],x=e[t+11],T=e[t+12],_=e[t+13],C=e[t+14],O=e[t+15],S=s[0],E=s[1],B=s[2],I=s[3];S=u(S,E,B,I,a,7,o[0]),I=u(I,S,E,B,c,12,o[1]),B=u(B,I,S,E,p,17,o[2]),E=u(E,B,I,S,f,22,o[3]),S=u(S,E,B,I,v,7,o[4]),I=u(I,S,E,B,m,12,o[5]),B=u(B,I,S,E,y,17,o[6]),E=u(E,B,I,S,g,22,o[7]),S=u(S,E,B,I,b,7,o[8]),I=u(I,S,E,B,k,12,o[9]),B=u(B,I,S,E,w,17,o[10]),E=u(E,B,I,S,x,22,o[11]),S=u(S,E,B,I,T,7,o[12]),I=u(I,S,E,B,_,12,o[13]),B=u(B,I,S,E,C,17,o[14]),S=d(S,E=u(E,B,I,S,O,22,o[15]),B,I,c,5,o[16]),I=d(I,S,E,B,y,9,o[17]),B=d(B,I,S,E,x,14,o[18]),E=d(E,B,I,S,a,20,o[19]),S=d(S,E,B,I,m,5,o[20]),I=d(I,S,E,B,w,9,o[21]),B=d(B,I,S,E,O,14,o[22]),E=d(E,B,I,S,v,20,o[23]),S=d(S,E,B,I,k,5,o[24]),I=d(I,S,E,B,C,9,o[25]),B=d(B,I,S,E,f,14,o[26]),E=d(E,B,I,S,b,20,o[27]),S=d(S,E,B,I,_,5,o[28]),I=d(I,S,E,B,p,9,o[29]),B=d(B,I,S,E,g,14,o[30]),S=h(S,E=d(E,B,I,S,T,20,o[31]),B,I,m,4,o[32]),I=h(I,S,E,B,b,11,o[33]),B=h(B,I,S,E,x,16,o[34]),E=h(E,B,I,S,C,23,o[35]),S=h(S,E,B,I,c,4,o[36]),I=h(I,S,E,B,v,11,o[37]),B=h(B,I,S,E,g,16,o[38]),E=h(E,B,I,S,w,23,o[39]),S=h(S,E,B,I,_,4,o[40]),I=h(I,S,E,B,a,11,o[41]),B=h(B,I,S,E,f,16,o[42]),E=h(E,B,I,S,y,23,o[43]),S=h(S,E,B,I,k,4,o[44]),I=h(I,S,E,B,T,11,o[45]),B=h(B,I,S,E,O,16,o[46]),S=l(S,E=h(E,B,I,S,p,23,o[47]),B,I,a,6,o[48]),I=l(I,S,E,B,g,10,o[49]),B=l(B,I,S,E,C,15,o[50]),E=l(E,B,I,S,m,21,o[51]),S=l(S,E,B,I,T,6,o[52]),I=l(I,S,E,B,f,10,o[53]),B=l(B,I,S,E,w,15,o[54]),E=l(E,B,I,S,c,21,o[55]),S=l(S,E,B,I,b,6,o[56]),I=l(I,S,E,B,O,10,o[57]),B=l(B,I,S,E,y,15,o[58]),E=l(E,B,I,S,_,21,o[59]),S=l(S,E,B,I,v,6,o[60]),I=l(I,S,E,B,x,10,o[61]),B=l(B,I,S,E,p,15,o[62]),E=l(E,B,I,S,k,21,o[63]),s[0]=s[0]+S|0,s[1]=s[1]+E|0,s[2]=s[2]+B|0,s[3]=s[3]+I|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,s,a){var o=e+(t&r|~t&n)+i+a;return(o<<s|o>>>32-s)+t}function d(e,t,r,n,i,s,a){var o=e+(t&n|r&~n)+i+a;return(o<<s|o>>>32-s)+t}function h(e,t,r,n,i,s,a){var o=e+(t^r^n)+i+a;return(o<<s|o>>>32-s)+t}function l(e,t,r,n,i,s,a){var o=e+(r^(t|~n))+i+a;return(o<<s|o>>>32-s)+t}t.MD5=s._createHelper(c),t.HmacMD5=s._createHmacHelper(c)}(Math),i.MD5)}()},function(e,t,r){"use strict";var n,i=r(16),s=r(36),a=r.n(s),o=r(22),c={},u={},d=1,h=function(){return"r-"+d++};if(i.canUseDOM)if("undefined"!==typeof window.ResizeObserver)n=new window.ResizeObserver(function(e){e.forEach(function(e){var t=e.target,r=u[t._layoutId];r&&r._handleLayout()})});else{0;window.addEventListener("resize",a()(function(){Object.keys(u).forEach(function(e){u[e]._handleLayout()})},16),!1)}var l=function(e){var t=h();if(u[t]=e,n){var r=Object(o.a)(e);r&&(r._layoutId=t,n.observe(r))}else e._layoutId=t,e._handleLayout()},p=function(e){if(n){var t=Object(o.a)(e);t&&(delete u[t._layoutId],delete t._layoutId,n.unobserve(t))}else delete u[e._layoutId],delete e._layoutId},f=function(e,t){return e?function(){e.call(this,arguments),t.call(this,arguments)}:t};t.a=function(e){var t=e.prototype.componentDidMount,r=e.prototype.componentDidUpdate,n=e.prototype.componentWillUnmount;return e.prototype.componentDidMount=f(t,function(){this._layoutState=c,this._isMounted=!0,this.props.onLayout&&l(this)}),e.prototype.componentDidUpdate=f(r,function(e){this.props.onLayout&&!e.onLayout?l(this):!this.props.onLayout&&e.onLayout&&p(this)}),e.prototype.componentWillUnmount=f(n,function(){this._isMounted=!1,this.props.onLayout&&p(this)}),e.prototype._handleLayout=function(){var e=this,t=this._layoutState,r=this.props.onLayout;r&&this.measure(function(n,i,s,a){if(e._isMounted&&(t.x!==n||t.y!==i||t.width!==s||t.height!==a)){e._layoutState={x:n,y:i,width:s,height:a};var c={layout:e._layoutState};Object.defineProperty(c,"target",{enumerable:!0,get:function(){return Object(o.a)(e)}}),r({nativeEvent:c,timeStamp:Date.now()})}})},e}},function(e,t){function r(e,t,r){var n,i,s,a,o;function c(){var u=Date.now()-a;u<t&&u>=0?n=setTimeout(c,t-u):(n=null,r||(o=e.apply(s,i),s=i=null))}null==t&&(t=100);var u=function(){s=this,i=arguments,a=Date.now();var u=r&&!n;return n||(n=setTimeout(c,t)),u&&(o=e.apply(s,i),s=i=null),o};return u.clear=function(){n&&(clearTimeout(n),n=null)},u.flush=function(){n&&(o=e.apply(s,i),s=i=null,clearTimeout(n),n=null)},u}r.debounce=r,e.exports=r},function(e,t,r){"use strict";var n=r(299);e.exports=n},function(e,t,r){"use strict";var n=r(16),i=r.n(n),s=r(28),a=r(46),o=function(e,t){return a.a[e]||"number"!==typeof t||(t+="px"),t},c={height:0,width:0},u=function(e){var t=e.shadowColor,r=e.shadowOffset,n=e.shadowOpacity,i=e.shadowRadius,a=r||c,u=a.height,d=a.width,h=o(null,d),l=o(null,u),p=o(null,i||0),f=Object(s.a)(t||"black",n);if(f)return h+" "+l+" "+p+" "+f},d={},h={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],margin:["marginTop","marginRight","marginBottom","marginLeft"],marginHorizontal:["marginRight","marginLeft"],marginVertical:["marginTop","marginBottom"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"],paddingHorizontal:["paddingRight","paddingLeft"],paddingVertical:["paddingTop","paddingBottom"],writingDirection:["direction"]},l={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0},p={borderWidth:!0,borderTopWidth:!0,borderRightWidth:!0,borderBottomWidth:!0,borderLeftWidth:!0},f={height:0,width:0},v=function(e){var t=Object.keys(e)[0];return t+"("+o(t,e[t])+")"},m=function(e,t){var r=!1,n=!1,i=!1;return function(a,c){var d=o(c,e[c]);if(p[c]&&(d=null==d?o(null,0):d),l[c]&&(d=Object(s.a)(d)),null==d)return a;switch(c){case"aspectRatio":case"elevation":case"overlayColor":case"resizeMode":case"tintColor":break;case"backgroundClip":"text"===d&&(a.backgroundClip=d,a.WebkitBackgroundClip=d);break;case"display":a.display=d,"flex"===e.display&&null==e.flex&&(null==e.flexShrink&&(a.flexShrink=0),null==e.flexBasis&&(a.flexBasis="auto"));break;case"flex":d>0?(a.flexGrow=d,a.flexShrink=1,a.flexBasis="0%"):0===d?(a.flexGrow=0,a.flexShrink=0,a.flexBasis="0%"):-1===d&&(a.flexGrow=0,a.flexShrink=1,a.flexBasis="auto");break;case"fontFamily":if(d.indexOf("System")>-1){var m=d.split(/\s*,\s*/);m[m.indexOf("System")]='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", sans-serif',a.fontFamily=m.join(", ")}else a.fontFamily="monospace"===d?"monospace, monospace":d;break;case"fontVariant":Array.isArray(d)&&d.length>0&&(a.fontVariant=d.join(" "));break;case"shadowColor":case"shadowOffset":case"shadowOpacity":case"shadowRadius":r||function(e,t){var r=t.boxShadow,n=u(t);e.boxShadow=r?r+", "+n:n}(a,e),r=!0;break;case"textAlignVertical":a.verticalAlign="center"===d?"middle":d;break;case"textDecorationColor":case"textDecorationLine":case"textDecorationStyle":n||function(e,t){var r=t.textDecorationColor,n=t.textDecorationLine,i=t.textDecorationStyle,a=Object(s.a)(r);n&&(e.textDecoration=n,r&&(e.textDecorationColor=a),i&&(e.textDecorationStyle=i))}(a,e),n=!0;break;case"textShadowColor":case"textShadowOffset":case"textShadowRadius":i||function(e,t){var r=t.textShadowColor,n=t.textShadowOffset,i=t.textShadowRadius,a=n||f,c=a.height,u=a.width,d=o(null,u),h=o(null,c),l=o(null,i||0),p=Object(s.a)(r);!p||0===c&&0===u||(e.textShadow=d+" "+h+" "+l+" "+p)}(a,e),i=!0;break;case"transform":case"transformMatrix":!function(e,t){var r=t.transform;Array.isArray(t.transform)?r=t.transform.map(v).join(" "):t.transformMatrix&&(r="matrix3d("+t.transformMatrix.join(",")+")"),e.transform=r}(a,e);break;default:var y=h[c];y?y.forEach(function(e,r){-1===t.indexOf(e)&&(a[e]=d)}):a[c]=d}return a}},y=function(e){if(!e)return d;var t=Object.keys(e),r=t.sort(),n=m(e,t);return r.reduce(n,{})};var g=function(e){return function e(t,r){for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?e(i,r):null!=i&&!1!==i&&r.push(i)}return r}(e,[])},b=r(44),k=!0,w=!1,x=!0,T=!1,_=function(){return!!T||x&&w},C=function(){i.a.canUseDOM&&document.documentElement&&document.documentElement.setAttribute&&document.documentElement.setAttribute("dir",_()?"rtl":"ltr")},O={allowRTL:function(e){x=e,C()},forceRTL:function(e){T=e,C()},setPreferredLanguageRTL:function(e){w=e,C()},swapLeftAndRightInRTL:function(e){k=e},get doLeftAndRightSwapInRTL(){return k},get isRTL(){return _()}},S=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/,E=function(e,t){var r;return"string"===typeof e?""+parseFloat(e)*t+e.match(S)[1]:(r=e,!isNaN(parseFloat(r))&&isFinite(r)?e*t:void 0)},B={},I={borderTopLeftRadius:"borderTopRightRadius",borderTopRightRadius:"borderTopLeftRadius",borderBottomLeftRadius:"borderBottomRightRadius",borderBottomRightRadius:"borderBottomLeftRadius",borderLeftColor:"borderRightColor",borderLeftStyle:"borderRightStyle",borderLeftWidth:"borderRightWidth",borderRightColor:"borderLeftColor",borderRightStyle:"borderLeftStyle",borderRightWidth:"borderLeftWidth",left:"right",marginLeft:"marginRight",marginRight:"marginLeft",paddingLeft:"paddingRight",paddingRight:"paddingLeft",right:"left"},A={borderTopStartRadius:"borderTopLeftRadius",borderTopEndRadius:"borderTopRightRadius",borderBottomStartRadius:"borderBottomLeftRadius",borderBottomEndRadius:"borderBottomRightRadius",borderStartColor:"borderLeftColor",borderStartStyle:"borderLeftStyle",borderStartWidth:"borderLeftWidth",borderEndColor:"borderRightColor",borderEndStyle:"borderRightStyle",borderEndWidth:"borderRightWidth",end:"right",marginStart:"marginLeft",marginEnd:"marginRight",paddingStart:"paddingLeft",paddingEnd:"paddingRight",start:"left"},M={clear:!0,float:!0,textAlign:!0},P=function(e){return E(e,-1)},F=function(e){var t=O.doLeftAndRightSwapInRTL,r=O.isRTL,n=e||B,i={},s={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a],c=a,u=o;if(A.hasOwnProperty(a)){var d=A[a];c=r?I[d]:d}else r&&t&&I[a]&&(c=I[a]);if(M.hasOwnProperty(a)&&("start"===o?u=r?"right":"left":"end"===o?u=r?"left":"right":r&&t&&("left"===o?u="right":"right"===o&&(u="left"))),"transitionProperty"===c)if(A.hasOwnProperty(u)){var h=A[o];u=r?I[h]:h}else r&&t&&I[o]&&(u=I[o]);r&&"textShadowOffset"===c?(s[c]=u,s[c].width=P(u.width)):i[c]||(s[c]=u),A[a]&&(i[c]=!0)}return s},R=r(93),D=r.n(R),L=r(94),N=r.n(L),q=r(95),G=r.n(q),U=r(96),V=r.n(U),j=r(97),H=r.n(j),K=r(98),W=r.n(K),z=r(99),X=r.n(z),Y=r(100),Z=r.n(Y),Q=r(101),J=r.n(Q),$=r(102),ee=r.n($),te=r(103),re=r.n(te),ne=r(104),ie=r.n(ne),se=r(105),ae=r.n(se),oe=["Webkit"],ce=["Moz"],ue=["ms"],de=["Webkit","Moz"],he=["Webkit","ms"],le=["Webkit","Moz","ms"],pe={plugins:[N.a,G.a,V.a,H.a,W.a,X.a,Z.a,J.a,ee.a,re.a,ie.a,ae.a],prefixMap:{animation:oe,animationDelay:oe,animationDirection:oe,animationFillMode:oe,animationDuration:oe,animationIterationCount:oe,animationName:oe,animationPlayState:oe,animationTimingFunction:oe,appearance:de,userSelect:le,textEmphasisPosition:oe,textEmphasis:oe,textEmphasisStyle:oe,textEmphasisColor:oe,boxDecorationBreak:oe,clipPath:oe,maskImage:oe,maskMode:oe,maskRepeat:oe,maskPosition:oe,maskClip:oe,maskOrigin:oe,maskSize:oe,maskComposite:oe,mask:oe,maskBorderSource:oe,maskBorderMode:oe,maskBorderSlice:oe,maskBorderWidth:oe,maskBorderOutset:oe,maskBorderRepeat:oe,maskBorder:oe,maskType:oe,textDecorationStyle:oe,textDecorationSkip:oe,textDecorationLine:oe,textDecorationColor:oe,filter:oe,fontFeatureSettings:oe,breakAfter:le,breakBefore:le,breakInside:le,columnCount:de,columnFill:de,columnGap:de,columnRule:de,columnRuleColor:de,columnRuleStyle:de,columnRuleWidth:de,columns:de,columnSpan:de,columnWidth:de,writingMode:he,flex:he,flexBasis:oe,flexDirection:he,flexGrow:oe,flexFlow:he,flexShrink:oe,flexWrap:he,alignContent:oe,alignItems:oe,alignSelf:oe,justifyContent:oe,order:oe,transform:oe,transformOrigin:oe,transformOriginX:oe,transformOriginY:oe,backfaceVisibility:oe,perspective:oe,perspectiveOrigin:oe,transformStyle:oe,transformOriginZ:oe,backdropFilter:oe,fontKerning:oe,scrollSnapType:he,scrollSnapPointsX:he,scrollSnapPointsY:he,scrollSnapDestination:he,scrollSnapCoordinate:he,shapeImageThreshold:oe,shapeImageMargin:oe,shapeImageOutside:oe,hyphens:le,flowInto:he,flowFrom:he,regionFragment:he,textOrientation:oe,textAlignLast:ce,tabSize:ce,wrapFlow:ue,wrapThrough:ue,wrapMargin:ue,touchAction:ue,gridTemplateColumns:ue,gridTemplateRows:ue,gridTemplateAreas:ue,gridTemplate:ue,gridAutoColumns:ue,gridAutoRows:ue,gridAutoFlow:ue,grid:ue,gridRowStart:ue,gridColumnStart:ue,gridRowEnd:ue,gridRow:ue,gridColumn:ue,gridColumnEnd:ue,gridColumnGap:ue,gridRowGap:ue,gridArea:ue,gridGap:ue,textSizeAdjust:["ms","Webkit"],borderImage:oe,borderImageOutset:oe,borderImageRepeat:oe,borderImageSlice:oe,borderImageSource:oe,borderImageWidth:oe,transitionDelay:oe,transitionDuration:oe,transitionProperty:oe,transitionTimingFunction:oe}},fe=D()(pe),ve=fe,me=r(41),ye=Object.prototype.hasOwnProperty,ge=function(e,t){var r=[];for(var n in e)if(ye.call(e,n)){var i=t(n,e[n]);i&&r.push(i)}return r},be=function(e,t){var r=Object(me.default)(e),n=o(e,t);return Array.isArray(t)?t.map(function(e){return r+":"+e}).join(";"):r+":"+n},ke=function(e){return ge(ve(e),be).sort().join(";")};var we,xe=function(e){return function(e,t){for(var r,n=e.length,i=t^n,s=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++s;switch(n){case 3:i^=(255&e.charCodeAt(s+2))<<16;case 2:i^=(255&e.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(s)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36)},Te=function(e){return"rn-"+function(e){return xe(JSON.stringify(e))}(e)},_e=["-webkit-",""],Ce=function(e){return Object.keys(e).map(function(t){return t+"{"+function(e){var t=y(F(e));return ke(t)}(e[t])+"}"}).join("")},Oe=function(e){var t=Te(e),r=_e.map(function(r){return"@"+r+"keyframes "+t+"{"+Ce(e)+"}"});return{identifier:t,rules:r}},Se=function(e,t,r){var n=[];switch(t){case"pointerEvents":var i,s=r;if("auto"===r||"box-only"===r){if(s="auto !important","box-only"===r){var a,o=ke(((a={})[t]="none",a));n.push(e+" > *{"+o+"}")}}else if(("none"===r||"box-none"===r)&&(s="none !important","box-none"===r)){var c,u=ke(((c={})[t]="auto",c));n.push(e+" > *{"+u+"}")}var d=ke(((i={})[t]=s,i));n.push(e+"{"+d+"}");break;case"placeholderTextColor":var h=ke({color:r,opacity:1});n.push("@media all {"+e+"::-webkit-input-placeholder{"+h+"}"+e+"::-moz-placeholder{"+h+"}"+e+":-ms-input-placeholder{"+h+"}"+e+"::placeholder{"+h+"}}");break;case"animationName":if("string"===typeof r){var l,p=ke(((l={})[t]=r,l));n.push(e+"{"+p+"}")}else{var f,v=[];r.forEach(function(e){if("string"===typeof e)v.push(e);else{var t=Oe(e),r=t.identifier;t.rules.forEach(function(e){n.push(e)}),v.push(r)}});var m=ke(((f={})[t]=v.join(","),f));n.push(e+"{"+m+"}")}break;default:var y,g=ke(((y={})[t]=r,y));n.push(e+"{"+g+"}")}return n},Ee=[(we=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-inner-spin-button,input::-webkit-outer-spin-button,input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"].join("\n"),"@media all{\n"+we+"\n}")],Be="data-rn-"+xe("focusvisible"),Ie=":focus:not(["+Be+"]){outline: none;}",Ae=function(e){if(n.canUseDOM){var t=!0,r=!1,i=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};e.sheet.insertRule(Ie,0),document.addEventListener("keydown",function(e){"Tab"!==e.key&&(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(a(document.activeElement)&&o(document.activeElement),t=!0)},!0),document.addEventListener("mousedown",u,!0),document.addEventListener("pointerdown",u,!0),document.addEventListener("touchstart",u,!0),document.addEventListener("focus",function(e){a(e.target)&&(t||function(e){var t=e.type,r=e.tagName,n=e.readOnly;return!("INPUT"!==r||!s[t]||n)||"TEXTAREA"===r&&!n||!!e.isContentEditable}(e.target))&&o(e.target)},!0),document.addEventListener("blur",function(e){a(e.target)&&e.target.hasAttribute(Be)&&(r=!0,window.clearTimeout(i),i=window.setTimeout(function(){r=!1,window.clearTimeout(i)},100),c(e.target))},!0),document.addEventListener("visibilitychange",function(e){"hidden"===document.visibilityState&&(r&&(t=!0),d())},!0),d()}function a(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function o(e){e.hasAttribute(Be)||e.setAttribute(Be,!0)}function c(e){e.removeAttribute(Be)}function u(e){!0===t&&function(){for(var e=document.querySelectorAll("["+Be+"]"),t=0;t<e.length;t+=1)c(e[t])}(),t=!1}function d(){document.addEventListener("mousemove",h),document.addEventListener("mousedown",h),document.addEventListener("mouseup",h),document.addEventListener("pointermove",h),document.addEventListener("pointerdown",h),document.addEventListener("pointerup",h),document.addEventListener("touchmove",h),document.addEventListener("touchstart",h),document.addEventListener("touchend",h)}function h(e){"HTML"!==e.target.nodeName&&(t=!1,document.removeEventListener("mousemove",h),document.removeEventListener("mousedown",h),document.removeEventListener("mouseup",h),document.removeEventListener("pointermove",h),document.removeEventListener("pointerdown",h),document.removeEventListener("pointerup",h),document.removeEventListener("touchmove",h),document.removeEventListener("touchstart",h),document.removeEventListener("touchend",h))}};function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Pe=function(){function e(e){var t;if(this._cssRules=[],this._sheet=null,this._textContent="",n.canUseDOM){if(!(t=document.getElementById(e))){var r='<style id="'+e+'"></style>';document.head&&(document.head.insertAdjacentHTML("afterbegin",r),t=document.getElementById(e))}t&&(Ae(t),this._sheet=t.sheet,this._textContent=t.textContent)}}var t,r,i,s=e.prototype;return s.containsRule=function(e){return this._cssRules.indexOf(e)>-1},s.insertRuleOnce=function(e,t){if(!this.containsRule(e)&&(this._cssRules.push(e),-1===this._textContent.indexOf(e)&&this._sheet)){var r=t||this._sheet.cssRules.length;try{this._sheet.insertRule(e,r)}catch(n){0}}},t=e,(r=[{key:"cssText",get:function(){return this._cssRules.join("\n")}}])&&Me(t.prototype,r),i&&Me(t,i),e}(),Fe={},Re="react-native-stylesheet",De=function(e){return"object"===typeof e?JSON.stringify(e):e},Le=function(){function e(){var e=this;this._cache={byClassName:{},byProp:{}},this._sheet=new Pe(Re),Ee.forEach(function(t){e._sheet.insertRuleOnce(t)})}var t=e.prototype;return t.getClassName=function(e,t){var r=De(t),n=this._cache.byProp;return n[e]&&n[e].hasOwnProperty(r)&&n[e][r]},t.getDeclaration=function(e){return this._cache.byClassName[e]||Fe},t.getStyleSheet=function(){var e=this._sheet.cssText;return{id:Re,textContent:e}},t.injectDeclaration=function(e,t){var r=this,n=De(t),i=this.getClassName(e,n);i||(i=function(e,t){return"rn-"+xe(e+De(t))}(e,n),this._addToCache(i,e,n),Se("."+i,e,t).forEach(function(e){r._sheet.insertRuleOnce(e)}));return i},t._addToCache=function(e,t,r){var n=this._cache;n.byProp[t]||(n.byProp[t]={}),n.byProp[t][r]=e,n.byClassName[e]={prop:t,value:r}},e}();function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qe={},Ge=function(){var e=t.prototype;function t(){this._init()}return e._init=function(){this.cache={ltr:{},rtl:{},rtlNoSwap:{}},this.injectedCache={ltr:{},rtl:{},rtlNoSwap:{}},this.styleSheetManager=new Le},e.getStyleSheet=function(){var e=this.styleSheetManager.getStyleSheet();return n.canUseDOM||this._init(),e},e._injectRegisteredStyle=function(e){var t=this,r=O.doLeftAndRightSwapInRTL,n=O.isRTL?r?"rtl":"rtlNoSwap":"ltr";if(!this.injectedCache[n][e]){var i=Object(b.a)(e),s=y(F(i));Object.keys(s).forEach(function(e){var r=s[e];null!=r&&t.styleSheetManager.injectDeclaration(e,r)}),this.injectedCache[n][e]=!0}},e.resolve=function(e){if(!e)return qe;if("number"===typeof e){this._injectRegisteredStyle(e);var t=Ue(e);return this._resolveStyleIfNeeded(e,t)}if(!Array.isArray(e))return this._resolveStyleIfNeeded(e);for(var r=g(e),n=!0,i="",s=0;s<r.length;s++){var a=r[s];"number"!==typeof a?n=!1:(n&&(i+=a+"-"),this._injectRegisteredStyle(a))}var o=n?Ue(i):null;return this._resolveStyleIfNeeded(r,o)},e.resolveWithNode=function(e,t){var r=this,n=He(t),i=n.classList,s=n.style,a=i.reduce(function(e,t){var n=r.styleSheetManager.getDeclaration(t),i=n.prop,s=n.value;return i?e.style[i]=s:e.classList.push(t),e},{classList:[],style:{}}),o=a.classList,c=a.style,u=this.resolve([F(c),e]),d=u.classList,h=u.style,l=Ve(d.concat(o)),p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Ne(e,t,r[t])})}return e}({},s);return d.forEach(function(e){var t=r.styleSheetManager.getDeclaration(e).prop;p[t]&&(p[t]="")}),Object.assign(p,h),{className:l,style:p}},e._resolveStyle=function(e){var t=this,r=Object(b.a)(e),n=y(F(r)),i=Object.keys(n).reduce(function(e,r){var i=n[r];if(null!=i){var s=t.styleSheetManager.getClassName(r,i);if(s)e.classList.push(s);else if("pointerEvents"===r||"placeholderTextColor"===r||"animationName"===r){var a=t.styleSheetManager.injectDeclaration(r,i);a&&e.classList.push(a)}else e.style||(e.style={}),e.style[r]=i}return e},{classList:[]});return i.className=Ve(i.classList),i.style&&(i.style=function(e){var t=fe(e);return Object.keys(t).forEach(function(e){var r=t[e];Array.isArray(r)&&(t[e]=r[r.length-1])}),t}(i.style)),i},e._resolveStyleIfNeeded=function(e,t){if(t){var r=O.doLeftAndRightSwapInRTL,n=O.isRTL?r?"rtl":"rtlNoSwap":"ltr";return this.cache[n][t]||(this.cache[n][t]=this._resolveStyle(e)),this.cache[n][t]}return this._resolveStyle(e)},t}(),Ue=function(e){return"rn-"+e},Ve=function(e){return e.join(" ").trim()},je=/-([a-z])/g,He=function(e){for(var t,r=e.style,n=Array.prototype.slice.call(e.classList),i={},s=0;s<r.length;s+=1){var a=r.item(s);a&&(i[(t=a,t.replace(je,function(e){return e[1].toUpperCase()}))]=r.getPropertyValue(a))}return{classList:n,style:i}},Ke=new Ge;t.a=Ke},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"foxbit",name:"FoxBit",countries:["BR"],has:{CORS:!1,createMarketOrder:!1},rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/27991413-11b40d42-647f-11e7-91ee-78ced874dd09.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://foxbit.exchange",doc:"https://blinktrade.com/docs"},comment:"Blinktrade API",api:{public:{get:["{currency}/ticker","{currency}/orderbook","{currency}/trades"]},private:{post:["D","F","U2","U4","U6","U18","U24","U26","U30","U34","U70"]}},markets:{"BTC/VEF":{id:"BTCVEF",symbol:"BTC/VEF",base:"BTC",quote:"VEF",brokerId:1,broker:"SurBitcoin"},"BTC/VND":{id:"BTCVND",symbol:"BTC/VND",base:"BTC",quote:"VND",brokerId:3,broker:"VBTC"},"BTC/BRL":{id:"BTCBRL",symbol:"BTC/BRL",base:"BTC",quote:"BRL",brokerId:4,broker:"FoxBit"},"BTC/PKR":{id:"BTCPKR",symbol:"BTC/PKR",base:"BTC",quote:"PKR",brokerId:8,broker:"UrduBit"},"BTC/CLP":{id:"BTCCLP",symbol:"BTC/CLP",base:"BTC",quote:"CLP",brokerId:9,broker:"ChileBit"}},options:{brokerId:"4"}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.privatePostU2({BalanceReqID:this.nonce()});case 3:if(t=e.sent,r=this.safeValue(t.Responses,this.options.brokerId),i={info:t},void 0!==r)for(s=Object.keys(this.currencies_by_id),a=0;a<s.length;a++)o=s[a],c=this.currencies_by_id[o],u=c.code,o in r&&((d=this.account()).used=1e-8*parseFloat(r[o+"_locked"]),d.total=1e-8*parseFloat(r[o]),d.free=d.total-d.used,i[u]=d);return e.abrupt("return",this.parseBalance(i));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},i=this.market(t),e.next=5,this.publicGetCurrencyOrderbook(this.extend({currency:i.quote,crypto_currency:i.base},r));case 5:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},i=this.market(t),e.next=4,this.publicGetCurrencyTicker(this.extend({currency:i.quote,crypto_currency:i.base},r));case 4:return s=e.sent,a=this.milliseconds(),o=i.quote.toLowerCase(),c="vol_"+o,u=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:parseFloat(s[c]),info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:this.safeString(e,"tid"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetCurrencyTrades(this.extend({currency:a.quote,crypto_currency:a.base},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v.length>4&&void 0!==v[4]?v[4]:void 0,o=v.length>5&&void 0!==v[5]?v[5]:{},"market"!==r){e.next=4;break}throw new l(this.id+" allows limit orders only");case 4:return c=this.market(t),u="buy"===i?"1":"2",d={ClOrdID:this.nonce(),Symbol:c.id,Side:u,OrdType:"2",Price:a,OrderQty:s,BrokerID:c.brokerId},e.next=9,this.privatePostD(this.extend(d,o));case 9:return h=e.sent,p=this.indexBy(h.Responses,"MsgType"),f=p[8],e.abrupt("return",{info:h,id:f.OrderID});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostF(this.extend({ClOrdID:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=this.extend({MsgType:e},o);s=this.json(u),i={APIKey:this.apiKey,Nonce:c,Signature:this.hmac(this.encode(c),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("Status"in(c=e.sent))){e.next=11;break}if(200===c.Status){e.next=11;break}throw new l(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,r){"use strict";r.r(t);var n=/[A-Z]/g,i=/^ms-/,s={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(s.hasOwnProperty(e))return s[e];var t=e.replace(n,a);return s[e]=i.test(t)?"-"+t:t}},function(e,t,r){"use strict";var n=r(53),i=r(15);t.a=function(e){var t=Object(n.a)(e);return function(e,r,n,s){var a=e;if(e[r]){a={};var o=i.a.flatten(e[r]),c=Object.keys(o).reduce(function(e,t){return 0!==t.indexOf("--")&&(e[t]=o[t]),e},{});a[r]=c}for(var u=arguments.length,d=new Array(u>4?u-4:0),h=4;h<u;h++)d[h-4]=arguments[h];return t.apply(void 0,[a,r,n,s].concat(d))}}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n={},i={},s=1,a=function(e){return"r-"+e},o=function(){function e(){}return e.register=function(e){var t=s++;var r=a(t);return i[r]=e,t},e.getByID=function(e){if(!e)return n;var t=a(e),r=i[t];return r||(console.warn("Invalid style with id `"+e+"`. Skipping ..."),n)},e}()},function(e,t,r){"use strict";var n=r(43);r(12);t.a=function e(t){if(t){if(!Array.isArray(t))return function(e){return"number"===typeof e?n.a.getByID(e):e}(t);for(var r={},i=0,s=t.length;i<s;++i){var a=e(t[i]);if(a)for(var o in a){var c=a[o];r[o]=c}}return r}}},function(e,t,r){"use strict";e.exports=r(290)},function(e,t,r){"use strict";var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridColumn:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(n).forEach(function(e){i.forEach(function(t){n[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=n[e]})}),t.a=n},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,a,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in r=Object(arguments[c]))i.call(r,u)&&(o[u]=r[u]);if(n){a=n(r);for(var d=0;d<a.length;d++)s.call(r,a[d])&&(o[a[d]]=r[a[d]])}}return o}},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(e){var t=i,r=t.lib,n=r.Base,s=r.WordArray,a=t.x64={};a.Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return s.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),i)}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.InsufficientFunds,f=l.OrderNotFound;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"acx",name:"ACX",countries:["AU"],rateLimit:1e3,version:"v2",has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0,fetchOrder:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/30247614-1fe61c74-9621-11e7-9e8c-f1a627afa279.jpg",extension:".json",api:"https://acx.io/api",www:"https://acx.io",doc:"https://acx.io/documents/api_v2"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:p,2003:f}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.id,o=s.name,c=this.safeString(s,"base_unit"),u=this.safeString(s,"quote_unit"),void 0!==c&&void 0!==u||(d=o.split("/"),c=d[0].toLowerCase(),u=d[1].toLowerCase()),h=c.toUpperCase(),l=u.toUpperCase(),h=this.commonCurrencyCode(h),l=this.commonCurrencyCode(l),p={amount:8,price:8},r.push({id:a,symbol:o,base:h,quote:l,baseId:c,quoteId:u,precision:p,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetMembersMe();case 5:for(t=e.sent,r=t.accounts,i={info:r},s=0;s<r.length;s++)a=r[s],o=a.currency,c=o.toUpperCase(),(u={free:parseFloat(a.balance),used:parseFloat(a.locked),total:0}).total=this.sum(u.free,u.used),i[c]=u;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={market:s.id},void 0!==r&&(a.limit=r),e.next=9,this.publicGetDepth(this.extend(a,i));case 9:return o=e.sent,c=1e3*o.timestamp,e.abrupt("return",this.parseOrderBook(o,c));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.at;e=e.ticker;var n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:void 0,t=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=void 0,u=o,o in this.markets_by_id?(c=this.markets_by_id[o],u=c.symbol):(d=o.slice(0,3),h=o.slice(3,6),d=d.toUpperCase(),h=h.toUpperCase(),d=this.commonCurrencyCode(d),h=this.commonCurrencyCode(h),u=d+"/"+h),l=r[o],s[u]=this.parseTicker(l,c);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTickersMarket(this.extend({market:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({market:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),void 0===s&&(s=500),c={market:o.id,period:this.timeframes[r],limit:s},void 0!==i&&(c.timestamp=i),e.next=12,this.publicGetK(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0!==t)r=t.symbol;else{var n=e.market;r=this.markets_by_id[n].symbol}var i=this.parse8601(e.created_at),s=e.state,a=void 0;return"done"===s?a="closed":"wait"===s?a="open":"cancel"===s&&(a="canceled"),{id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:a,symbol:r,type:e.ord_type,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrder(this.extend({id:parseInt(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c={market:this.marketId(t),side:i,volume:s.toString(),ord_type:r},"limit"===r&&(c.price=a.toString()),e.next=8,this.privatePostOrders(this.extend(c,o));case 8:return u=e.sent,d=this.markets_by_id[u.market],e.abrupt("return",this.parseOrder(u,d));case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderDelete({id:t});case 6:if(r=e.sent,i=this.parseOrder(r),"closed"!==(s=i.status)&&"canceled"!==s){e.next=11;break}throw new f(this.id+" "+this.json(i));case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),o={currency:a.id,sum:r,address:i},e.next=9,this.privatePostWithdraw(this.extend(o,s));case 9:return c=e.sent,e.abrupt("return",{info:c,id:void 0});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"encodeParams",value:function(e){if("orders"in e){for(var t=e.orders,r=this.urlencode(this.keysort(this.omit(e,"orders"))),n=0;n<t.length;n++)for(var i=t[n],s=Object.keys(i),a=0;a<s.length;a++){var o=s[a];r+="&orders%5B%5D%5B"+o+"%5D="+i[o].toString()}return r}return this.urlencode(this.keysort(e))}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+this.implodeParams(e,n);"extension"in this.urls&&(a+=this.urls.extension);var o=this.omit(n,this.extractParams(e)),c=this.urls.api+a;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.encodeParams(this.extend({access_key:this.apiKey,tonce:u},n)),h=r+"|"+a+"|"+d,l=d+"&signature="+this.hmac(this.encode(h),this.encode(this.secret));"GET"===r?c+="?"+l:(s=l,i={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(400===e){var o=this.safeValue(a,"error"),c=this.safeString(o,"code"),u=this.id+" "+this.json(a),d=this.exceptions;if(c in d)throw new d[c](u)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.DDoSProtection,y=p.InsufficientFunds,g=p.InvalidOrder,b=p.OrderNotFound,k=p.AuthenticationError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"okcoinusd",name:"OKCoin USD",countries:["CN","US"],version:"v1",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,futures:!1},extension:".do",timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},api:{web:{get:["futures/pc/market/marketOverview","spot/markets/index-tickers","spot/markets/currencies","spot/markets/products","spot/markets/tickers","spot/user-level"]},public:{get:["depth","exchange_rate","future_depth","future_estimated_price","future_hold_amount","future_index","future_kline","future_price_limit","future_ticker","future_trades","kline","otcs","ticker","tickers","trades"]},private:{post:["account_records","batch_trade","borrow_money","borrow_order_info","borrows_info","cancel_borrow","cancel_order","cancel_otc_order","cancel_withdraw","funds_transfer","future_batch_trade","future_cancel","future_devolve","future_explosive","future_order_info","future_orders_info","future_position","future_position_4fix","future_trade","future_trades_history","future_userinfo","future_userinfo_4fix","lend_depth","order_fee","order_history","order_info","orders_info","otc_order_history","otc_order_info","repayment","submit_otc_order","trade","trade_history","trade_otc_order","wallet_info","withdraw","withdraw_info","unrepayments_info","userinfo"]}},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766791-89ffb502-5ee5-11e7-8a5b-c5950b68ac65.jpg",api:{web:"https://www.okcoin.com/v2",public:"https://www.okcoin.com/api",private:"https://www.okcoin.com/api"},www:"https://www.okcoin.com",doc:["https://www.okcoin.com/rest_getStarted.html","https://www.npmjs.com/package/okcoin.com"]},fees:{trading:{taker:.002,maker:.002}},exceptions:{10000:f,10001:m,10005:k,10006:k,10007:k,1002:y,1003:g,1004:g,1013:g,1027:g,1050:g,1217:g,10014:g,1009:b,1019:b,1051:b,10009:b,20015:b,10008:f},options:{marketBuyPrice:!1,defaultContractType:"this_week",warnOnFetchOHLCVLimitArgument:!0,fiats:["USD","CNY"],futures:{BCH:!0,BTC:!0,BTG:!0,EOS:!0,ETC:!0,ETH:!0,LTC:!0,NEO:!0,QTUM:!0,USDT:!0,XRP:!0}}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_,C,O,S,E=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.length>0&&void 0!==E[0]?E[0]:{},e.next=3,this.webGetSpotMarketsProducts();case 3:for(t=e.sent,r=t.data,s=[],a=0;a<r.length;a++)if(o=r[a].symbol,c=o.split("_"),u=i(c,2),d=u[0],h=u[1],l=d.toUpperCase(),p=h.toUpperCase(),f=this.commonCurrencyCode(l),v=this.commonCurrencyCode(p),m=f+"/"+v,y={amount:r[a].maxSizeDigit,price:r[a].maxPriceDigit},g=r[a].minTradeSize,b=Math.pow(10,-y.price),k=0!==r[a].online,w=r[a].baseCurrency,x=r[a].quoteCurrency,T=this.extend(this.fees.trading,{id:o,symbol:m,base:f,quote:v,baseId:d,quoteId:h,baseNumericId:w,quoteNumericId:x,info:r[a],type:"spot",spot:!0,future:!1,active:k,precision:y,limits:{amount:{min:g,max:void 0},price:{min:b,max:void 0},cost:{min:g*b,max:void 0}}}),s.push(T),this.has.futures&&T.base in this.options.futures)for(_=this.options.fiats,C=0;C<_.length;C++)O=_[C],S=O.toLowerCase(),s.push(this.extend(T,{quote:O,symbol:T.base+"/"+O,id:T.base.toLowerCase()+"_"+S,quoteId:S,type:"future",spot:!1,future:!0}));return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a="publicGet",o={symbol:s.id},void 0!==r&&(o.size=r),s.future&&(a+="Future",o.contract_type=this.options.defaultContractType),a+="Depth",e.next=12,this[a](this.extend(o,i));case 12:return c=e.sent,e.abrupt("return",this.parseOrderBook(c));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger2(e,"timestamp","createdDate"),n=void 0;if(void 0===t&&"symbol"in e){var s=e.symbol;if(s in this.markets_by_id)t=this.markets_by_id[s];else{var a=e.symbol.split("_"),o=i(a,2),c=o[0],u=o[1],d=c.toUpperCase(),h=u.toUpperCase();n=(d=this.commonCurrencyCode(d))+"/"+(h=this.commonCurrencyCode(h))}}void 0!==t&&(n=t.symbol);var l=this.safeFloat(e,"last"),p=this.safeFloat(e,"open"),f=this.safeFloat(e,"change"),v=this.safeFloat(e,"changePercentage");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:p,close:l,last:l,previousClose:void 0,change:f,percentage:v,average:void 0,baseVolume:this.safeFloat2(e,"vol","volume"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s="publicGet",a={symbol:i.id},i.future&&(s+="Future",a.contract_type=this.options.defaultContractType),s+="Ticker",e.next=10,this[s](this.extend(a,r));case 10:if(o=e.sent,void 0!==(c=this.safeValue(o,"ticker"))){e.next=14;break}throw new f(this.id+" fetchTicker returned an empty response: "+this.json(o));case 14:return void 0!==(u=this.safeInteger(o,"date"))&&(u*=1e3,c=this.extend(c,{timestamp:u})),e.abrupt("return",this.parseTicker(c,i));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;return t&&(r=t.symbol),{info:e,timestamp:e.date_ms,datetime:this.iso8601(e.date_ms),symbol:r,id:e.tid.toString(),order:void 0,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o="publicGet",c={symbol:a.id},a.future&&(o+="Future",c.contract_type=this.options.defaultContractType),o+="Trades",e.next=12,this[o](this.extend(c,s));case 12:return u=e.sent,e.abrupt("return",this.parseTrades(u,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];var t=e.length>6?6:5;return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[t])]}},{key:"fetchOHLCV",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:if(o=this.market(t),c="publicGet",u={symbol:o.id,type:this.timeframes[r]},o.future&&(c+="Future",u.contract_type=this.options.defaultContractType),c+="Kline",void 0===s){e.next=15;break}if(!this.options.warnOnFetchOHLCVLimitArgument){e.next=14;break}throw new f(this.id+' fetchOHLCV counts "limit" candles from current time backwards, therefore the "limit" argument for '+this.id+" is disabled. Set "+this.id+'.options["warnOnFetchOHLCVLimitArgument"] = false to suppress this warning message.');case 14:u.size=parseInt(s);case 15:return u.since=void 0!==i?i:this.milliseconds()-864e5,e.next=18,this[c](this.extend(u,a));case 18:return d=e.sent,e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserinfo(t);case 5:r=e.sent,i=r.info.funds,s={info:r},a=Object.keys(i.free),(o="freezed")in i||(o="holds"),c=Object.keys(i[o]),a=this.arrayConcat(a,c);for(u=0;u<a.length;u++)d=a[u],h=d.toUpperCase(),h=d in this.currencies_by_id?this.currencies_by_id[d].code:this.commonCurrencyCode(h),(l=this.account()).free=this.safeFloat(i.free,d,0),l.used=this.safeFloat(i[o],d,0),l.total=this.sum(l.free,l.used),s[h]=l;return e.abrupt("return",this.parseBalance(s));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),u="privatePost",d={symbol:c.id,type:i},!c.future){e.next=12;break}u+="Future",d=this.extend(d,{contract_type:this.options.defaultContractType,match_price:0,lever_rate:10,price:a,amount:s}),e.next=31;break;case 12:if("limit"!==r){e.next=17;break}d.price=a,d.amount=s,e.next=31;break;case 17:if(d.type+="_market","buy"!==i){e.next=30;break}if(!this.options.marketBuyPrice){e.next=25;break}if(void 0!==a){e.next=22;break}throw new f(this.id+" market buy orders require a price argument (the amount you want to spend or the cost of the order) when this.options['marketBuyPrice'] is true.");case 22:d.price=a,e.next=28;break;case 25:if(d.price=this.safeFloat(o,"cost"),d.price){e.next=28;break}throw new f(this.id+" market buy orders require an additional cost parameter, cost = price * amount. If you want to pass the cost of the market order (the amount you want to spend) in the price argument (the default "+this.id+" behaviour), set this.options['marketBuyPrice'] = true. It will effectively suppress this warning exception as well.");case 28:e.next=31;break;case 30:d.amount=s;case 31:return o=this.omit(o,"cost"),u+="Trade",e.next=35,this[u](this.extend(d,o));case 35:return h=e.sent,l=this.milliseconds(),e.abrupt("return",{info:h,id:h.order_id.toString(),timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:i,price:a,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 38:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},void 0!==r){e.next=4;break}throw new v(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a={symbol:s.id,order_id:t},o="privatePost",s.future?(o+="FutureCancel",a.contract_type=this.options.defaultContractType):o+="CancelOrder",e.next=12,this[o](this.extend(a,i));case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeValue({"-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}},{key:"parseOrderSide",value:function(e){return 1===e?"buy":2===e?"sell":3===e?"sell":4===e?"buy":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;"type"in e&&("buy"===e.type||"sell"===e.type?(r=e.type,n="limit"):"buy_market"===e.type?(r="buy",n="market"):"sell_market"===e.type?(r="sell",n="market"):(r=this.parseOrderSide(e.type),("contract_name"in e||"lever_rate"in e)&&(n="margin")));var i=this.parseOrderStatus(this.safeString(e,"status")),s=void 0;if(void 0===t){var a=this.safeString(e,"symbol");a in this.markets_by_id&&(t=this.markets_by_id[a])}t&&(s=t.symbol);var o=void 0,c=this.getCreateDateField();c in e&&(o=e[c]);var u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"deal_amount");u=Math.max(u,d);var h=Math.max(0,u-d);"market"===n&&(h=0);var l=this.safeFloat(e,"avg_price"),p=(l=this.safeFloat(e,"price_avg",l))*d;return{info:e,id:e.order_id.toString(),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:s,type:n,side:r,price:e.price,average:l,cost:p,amount:u,filled:d,remaining:h,status:i,fee:void 0}}},{key:"getCreateDateField",value:function(){return"create_date"}},{key:"getOrdersField",value:function(){return"orders"}},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder requires a symbol parameter");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a="privatePost",o={order_id:t,symbol:s.id},s.future&&(a+="Future",o.contract_type=this.options.defaultContractType),a+="OrderInfo",e.next=13,this[a](this.extend(o,i));case 13:if(c=e.sent,u=this.getOrdersField(),!(c[u].length>0)){e.next=18;break}return e.abrupt("return",this.parseOrder(c[u][0]));case 18:throw new b(this.id+" order "+t+" not found");case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:void 0,r=v.length>1&&void 0!==v[1]?v[1]:void 0,i=v.length>2&&void 0!==v[2]?v[2]:void 0,s=v.length>3&&void 0!==v[3]?v[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchOrders requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:if(a=this.market(t),o="privatePost",c={symbol:a.id},u="order_id"in s,!a.future){e.next=19;break}if(o+="FutureOrdersInfo",c.contract_type=this.options.defaultContractType,u){e.next=17;break}throw new f(this.id+" fetchOrders() requires order_id param for futures market "+t+" (a string of one or more order ids, comma-separated)");case 17:e.next=32;break;case 19:if(d=void 0,!("type"in s)){e.next=24;break}d=s.type,e.next=30;break;case 24:if(!("status"in s)){e.next=28;break}d=s.status,e.next=30;break;case 28:throw h=u?"type":"status",new f(this.id+" fetchOrders() requires "+h+" param for spot market "+t+" (0 - for unfilled orders, 1 - for filled/canceled orders)");case 30:u?(o+="OrdersInfo",c=this.extend(c,{type:d,order_id:s.order_id})):(o+="OrderHistory",c=this.extend(c,{status:d,current_page:1,page_length:200})),s=this.omit(s,["type","status"]);case 32:return e.next=34,this[o](this.extend(c,s));case 34:return l=e.sent,p=this.getOrdersField(),e.abrupt("return",this.parseOrders(l[p],a,r,i));case 37:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},0,e.next=7,this.fetchOrders(t,r,i,this.extend({status:0},s));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},1,e.next=7,this.fetchOrders(t,r,i,this.extend({status:1},s));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),c=o.id+"_usd",s&&(i=i+":"+s),u={symbol:c,withdraw_address:i,withdraw_amount:r,target:"address"},!("chargefee"in(d=a))){e.next=15;break}u.chargefee=d.chargefee,d=this.omit(d,"chargefee"),e.next=16;break;case 15:throw new f(this.id+" withdraw() requires a `chargefee` parameter");case 16:if(this.password?u.trade_pwd=this.password:"password"in d?(u.trade_pwd=d.password,d=this.omit(d,"password")):"trade_pwd"in d&&(u.trade_pwd=d.trade_pwd,d=this.omit(d,"trade_pwd")),"trade_pwd"in u){e.next=20;break}throw new f(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");case 20:return e.next=22,this.privatePostWithdraw(this.extend(u,d));case 22:return h=e.sent,e.abrupt("return",{info:h,id:this.safeString(h,"withdraw_id")});case 24:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/";if("web"!==t&&(a+=this.version+"/"),a+=e,"web"!==t&&(a+=this.extension),"private"===t){this.checkRequiredCredentials();var o=this.keysort(this.extend({api_key:this.apiKey},n)),c=this.rawencode(o)+"&secret_key="+this.secret;o.sign=this.hash(this.encode(c)).toUpperCase(),s=this.urlencode(o),i={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a=this.urls.api[t]+a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(s.length<2)&&"{"===s[0]){if("error_code"in a){var o=this.safeString(a,"error_code"),c=this.id+" "+this.json(a);if(o in this.exceptions)throw new(0,this.exceptions[o])(c);throw new f(c)}if("result"in a&&!a.result)throw new f(this.id+" "+this.json(a))}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.ExchangeNotAvailable,y=p.InsufficientFunds,g=p.OrderNotFound,b=p.DDoSProtection,k=p.InvalidOrder,w=p.AuthenticationError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"liqui",name:"Liqui",countries:["UA"],rateLimit:3e3,version:"3",userAgent:this.userAgents.chrome,has:{CORS:!1,createMarketOrder:!1,fetchOrderBooks:!0,fetchOrder:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchClosedOrders:"emulated",fetchTickers:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27982022-75aea828-63a0-11e7-9511-ca584a8edd74.jpg",api:{public:"https://api.liqui.io/api",private:"https://api.liqui.io/tapi"},www:"https://liqui.io",doc:"https://liqui.io/api",fees:"https://liqui.io/fee"},api:{public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{maker:.001,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{DSH:"DASH"},exceptions:{exact:{803:k,804:k,805:k,806:k,807:k,831:y,832:y,833:g},broad:{"Invalid pair name":f,"invalid api key":w,"invalid sign":w,"api key dont have trade permission":w,"invalid parameter":k,"invalid order":k,"Requests too often":b,"not available":m,"data unavailable":m,"external service unavailable":m}},options:{fetchOrderMethod:"privatePostOrderInfo",fetchMyTradesMethod:"privatePostTradeHistory",cancelOrderMethod:"privatePostCancelOrder",fetchTickersMaxLength:2048}})}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",c=a[s],u=parseFloat(this.costToPrecision(e,n*c));return"sell"===r?u*=i:o="base",{type:s,currency:a[o],rate:c,cost:u}}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.length>0&&void 0!==_[0]?_[0]:{},e.next=3,this.publicGetInfo();case 3:for(t=e.sent,r=t.pairs,s=Object.keys(r),a=[],o=0;o<s.length;o++)c=s[o],u=r[c],d=c.split("_"),h=i(d,2),l=h[0],p=h[1],f=l.toUpperCase(),v=p.toUpperCase(),f=this.commonCurrencyCode(f),v=this.commonCurrencyCode(v),m=f+"/"+v,y={amount:this.safeInteger(u,"decimal_places"),price:this.safeInteger(u,"decimal_places")},g={min:this.safeFloat(u,"min_amount"),max:this.safeFloat(u,"max_amount")},b={min:this.safeFloat(u,"min_price"),max:this.safeFloat(u,"max_price")},k={min:this.safeFloat(u,"min_total")},w={amount:g,price:b,cost:k},x=this.safeInteger(u,"hidden"),T=0===x,a.push({id:c,symbol:m,base:f,quote:v,baseId:l,quoteId:p,active:T,taker:u.fee/100,precision:y,limits:w,info:u});return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,i={info:r},s=r.funds,a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=c.toUpperCase(),u=this.commonCurrencyCode(u),d=void 0,h=void 0,0===r.open_orders&&(d=s[c],h=0),l={free:s[c],used:h,total:d},i[u]=l;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={pair:s.id},void 0!==r&&(a.limit=r),e.next=9,this.publicGetDepthPair(this.extend(a,i));case 9:if(o=e.sent,s.id in o){e.next=13;break}throw new f(this.id+" "+s.symbol+" order book is empty or not available");case 13:return c=o[s.id],e.abrupt("return",this.parseOrderBook(c));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBooks",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:if(i=void 0,void 0!==t){e.next=12;break}if(!((i=this.ids.join("-")).length>2048)){e.next=10;break}throw s=this.ids.length,new f(this.id+" has "+s.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 10:e.next=14;break;case 12:i=(i=this.marketIds(t)).join("-");case 14:return e.next=16,this.publicGetDepthPair(this.extend({pair:i},r));case 16:for(a=e.sent,o={},i=Object.keys(a),c=0;c<i.length;c++)u=i[c],d=u,u in this.markets_by_id&&(h=this.markets_by_id[u],d=h.symbol),o[d]=this.parseOrderBook(a[u]);return e.abrupt("return",o);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:void 0,r=m.length>1&&void 0!==m[1]?m[1]:{},e.next=4,this.loadMarkets();case 4:if(i=this.ids,void 0!==t){e.next=13;break}if(s=i.length,i=i.join("-"),a=this.safeInteger(this.options,"fetchTickersMaxLength",2048),!(i.length>this.options.fetchTickersMaxLength)){e.next=11;break}throw new v(this.id+" has "+s.toString()+" markets exceeding max URL length for this endpoint ("+a.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers");case 11:e.next=15;break;case 13:i=(i=this.marketIds(t)).join("-");case 15:return e.next=17,this.publicGetTickerPair(this.extend({pair:i},r));case 17:for(o=e.sent,c={},u=Object.keys(o),d=0;d<u.length;d++)h=u[d],l=o[h],p=h,f=void 0,h in this.markets_by_id&&(f=this.markets_by_id[h],p=f.symbol),c[p]=this.parseTicker(l,f);return e.abrupt("return",c);case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.fetchTickers([t],r);case 3:return i=e.sent,e.abrupt("return",i[t]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp");void 0!==r&&(r*=1e3);var n=this.safeString(e,"type");"ask"===n?n="sell":"bid"===n&&(n="buy");var i=this.safeFloat2(e,"rate","price"),s=this.safeString2(e,"trade_id","tid"),a=this.safeString(e,this.getOrderIdKey());if("pair"in e){var o=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,o,t)}var c=void 0;void 0!==t&&(c=t.symbol);var u=this.safeFloat(e,"amount"),d=void 0,h=void 0,l=this.safeFloat(e,"commission");if(void 0!==l){var p=this.safeString(e,"commissionCurrency");p=p.toUpperCase();var f=this.safeValue(this.currencies_by_id,p);h={cost:l,currency:void 0!==f?f.code:this.commonCurrencyCode(p)}}var v=this.safeValue(e,"is_your_order");return void 0!==v&&(d="taker",v&&(d="maker"),void 0===h&&(h=this.calculateFee(c,"limit",n,u,i,d))),{id:s,order:a,timestamp:r,datetime:this.iso8601(r),symbol:c,type:"limit",side:n,takerOrMaker:d,price:i,amount:u,fee:h,info:e}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={pair:a.id},void 0!==i&&(o.limit=i),e.next=10,this.publicGetTradesPair(this.extend(o,s));case 10:if(c=e.sent,!Array.isArray(c)){e.next=15;break}if(0!==c.length){e.next=15;break}return e.abrupt("return",[]);case 15:return e.abrupt("return",this.parseTrades(c[a.id],a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.length>4&&void 0!==g[4]?g[4]:void 0,o=g.length>5&&void 0!==g[5]?g[5]:{},"market"!==r){e.next=4;break}throw new f(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c=this.market(t),u={pair:c.id,type:i,amount:this.amountToPrecision(t,s),rate:this.priceToPrecision(t,a)},a=parseFloat(a),s=parseFloat(s),e.next=12,this.privatePostTrade(this.extend(u,o));case 12:return d=e.sent,h=void 0,l="open",p=0,v=s,"return"in d&&("0"===(h=this.safeString(d.return,this.getOrderIdKey()))&&(h=this.safeString(d.return,"init_order_id"),l="closed"),p=this.safeFloat(d.return,"received",0),v=this.safeFloat(d.return,"remains",s)),m=this.milliseconds(),y={id:h,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,status:l,symbol:t,type:r,side:i,price:a,cost:a*p,amount:s,remaining:v,filled:p,fee:void 0},this.orders[h]=y,e.abrupt("return",this.extend({info:d},y));case 22:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"getOrderIdKey",value:function(){return"order_id"}},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return i={},s=this.getOrderIdKey(),i[s]=t,a=this.options.cancelOrderMethod,e.next=10,this[a](this.extend(i,r));case 10:return o=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"closed",2:"canceled",3:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.id.toString(),n=this.parseOrderStatus(this.safeString(e,"status")),i=1e3*parseInt(e.timestamp_created),s=void 0;void 0===t&&(t=this.markets_by_id[e.pair]),void 0!==t&&(s=t.symbol);var a=void 0,o=void 0,c=this.safeFloat(e,"rate"),u=void 0,d=void 0;"start_amount"in e?(o=this.safeFloat(e,"start_amount"),a=this.safeFloat(e,"amount")):(a=this.safeFloat(e,"amount"),r in this.orders&&(o=this.orders[r].amount)),void 0!==o&&void 0!==a&&(d=c*(u=o-a));return{info:e,id:r,symbol:s,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,type:"limit",side:e.type,price:c,cost:d,amount:o,remaining:a,filled:u,status:n,fee:void 0}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=Object.keys(e),s=[],a=0;a<i.length;a++){var o=i[a],c=e[o],u=this.extend(c,{id:o});s.push(this.parseOrder(u,t))}return this.filterBySinceLimit(s,r,n)}},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>1&&void 0!==d[1]?d[1]:void 0,r=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:return i={},s=this.getOrderIdKey(),i[s]=parseInt(t),a=this.options.fetchOrderMethod,e.next=10,this[a](this.extend(i,r));case 10:return o=e.sent,t=t.toString(),c=this.parseOrder(this.extend({id:t},o.return[t])),u=t in this.orders?this.orders[t]:{},this.orders[t]=this.extend(u,c),e.abrupt("return",this.orders[t]);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCachedOrders",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r].id;this.orders[n]=e[r]}for(var i=this.indexBy(e,"id"),s=Object.keys(this.orders),a=0;a<s.length;a++){var o=s[a],c=this.orders[o];if(!(o in i)){if(void 0!==t&&t!==c.symbol)continue;"open"===c.status&&(void 0===(c=this.extend(c,{status:"closed",cost:void 0,filled:c.amount,remaining:0})).cost&&void 0!==c.filled&&(c.cost=c.filled*c.price),this.orders[o]=c)}}return this.toArray(this.orders)}},{key:"fetchOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,i=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:{},!("fetchOrdersRequiresSymbol"in this.options)){e.next=8;break}if(!this.options.fetchOrdersRequiresSymbol){e.next=8;break}if(void 0!==t){e.next=8;break}throw new v(this.id+" fetchOrders requires a symbol argument");case 8:return e.next=10,this.loadMarkets();case 10:return a={},o=void 0,void 0!==t&&(c=this.market(t),a.pair=c.id),e.next=15,this.privatePostActiveOrders(this.extend(a,s));case 15:return u=e.sent,d=[],"return"in u&&(d=this.parseOrders(u.return,o)),h=this.updateCachedOrders(d,t),l=this.filterBySymbol(h,t),e.abrupt("return",this.filterBySinceLimit(l,r,i));case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","open"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.pair=a.id),void 0!==i&&(o.count=parseInt(i)),void 0!==r&&(o.since=parseInt(r/1e3)),c=this.options.fetchMyTradesMethod,e.next=14,this[c](this.extend(o,s));case 14:return u=e.sent,d=[],"return"in u&&(d=u.return),e.abrupt("return",this.parseTrades(d,a,r,i));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),c={coinName:o.id,amount:parseFloat(r),address:i},void 0===s){e.next=9;break}throw new f(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");case 9:return e.next=11,this.privatePostWithdrawCoin(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",{info:u,id:u.return.tId});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"signBodyWithSecret",value:function(e){return this.hmac(this.encode(e),this.encode(this.secret),"sha512")}},{key:"getVersionString",value:function(){return"/"+this.version}},{key:"getPrivatePath",value:function(e,t){return""}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],o=this.omit(n,this.extractParams(e));if("private"===t){a+=this.getPrivatePath(e,n),this.checkRequiredCredentials();var c=this.nonce();s=this.urlencode(this.extend({nonce:c,method:e},o));var u=this.signBodyWithSecret(s);i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:u}}else"public"===t?(a+=this.getVersionString()+"/"+this.implodeParams(e,n),Object.keys(o).length&&(a+="?"+this.urlencode(o))):(a+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(s=this.json(o),i={"Content-Type":"application/json"}));return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(this.isJsonEncodedObject(s)&&"success"in a){var o=this.safeValue(a,"success",!1);if("string"===typeof o&&(o="true"===o||"1"===o),!o){var c=this.safeString(a,"code"),u=this.safeString(a,"error"),d=this.id+" "+this.json(a),h=this.exceptions.exact;if(c in h)throw new h[c](d);var l=this.exceptions.broad,p=this.findBroadlyMatchedKey(l,u);if(void 0!==p)throw new l[p](d);throw new f(d)}}}}]),t}()},function(e,t,r){"use strict";var n=r(30),i=r(15),s=r(38);var a={},o=i.a.create({ariaButton:{cursor:"pointer"},button:{appearance:"none",backgroundColor:"transparent",color:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariant:["inherit"],fontWeight:"inherit",lineHeight:"inherit",textAlign:"inherit"},heading:{fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariant:["inherit"],fontWeight:"inherit",lineHeight:"inherit"},link:{backgroundColor:"transparent",color:"inherit",textDecorationLine:"none"},list:{listStyle:"none"}}),c=i.a.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),u=function(e){return s.a.resolve(e)};t.a=function(e,t,r){r||(r=u),t||(t=a);var i=t,s=i.accessibilityLabel,d=i.accessibilityLiveRegion,h=i.accessibilityStates,l=i.importantForAccessibility,p=i.nativeID,f=i.placeholderTextColor,v=i.pointerEvents,m=i.style,y=i.testID,g=i.accessible,b=(i.accessibilityComponentType,i.accessibilityRole,i.accessibilityTraits,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(i,["accessibilityLabel","accessibilityLiveRegion","accessibilityStates","importantForAccessibility","nativeID","placeholderTextColor","pointerEvents","style","testID","accessible","accessibilityComponentType","accessibilityRole","accessibilityTraits"])),k=n.a.isDisabled(t),w=n.a.propsToAriaRole(t);if("no-hide-descendants"===l&&(b["aria-hidden"]=!0),s&&s.constructor===String&&(b["aria-label"]=s),d&&d.constructor===String&&(b["aria-live"]="none"===d?"off":d),Array.isArray(h))for(var x=0;x<h.length;x+=1)b["aria-"+h[x]]=!0;w&&w.constructor===String&&(b.role=w),k&&(b["aria-disabled"]=k,b.disabled=k);var T=!k&&"no"!==l&&"no-hide-descendants"!==l;"link"===w||"input"===e||"select"===e||"textarea"===e?!1!==g&&T?b["data-focusable"]=!0:b.tabIndex="-1":n.a.buttonLikeRoles[w]||"textbox"===w?!1!==g&&T&&(b["data-focusable"]=!0,b.tabIndex="0"):!0===g&&T&&(b["data-focusable"]=!0,b.tabIndex="0");var _=r(["a"===e&&o.link,"button"===e&&o.button,"heading"===w&&o.heading,"ul"===e&&o.list,"button"===w&&!k&&o.ariaButton,v&&c[v],m,f&&{placeholderTextColor:f}]),C=_.className,O=_.style;return C&&C.constructor===String&&(b.className=t.className?t.className+" "+C:C),O&&(b.style=O),p&&p.constructor===String&&(b.id=p),"a"===e&&"_blank"===b.target&&(b.rel=(b.rel||"")+" noopener noreferrer"),y&&y.constructor===String&&(b["data-testid"]=y),b}},function(e,t,r){"use strict";var n=r(12),i=r.n(n);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(e){function t(t,r,n,a,o){if(r[n]){var c=r[n],u=typeof c,d=o||"(unknown)";"object"!==u&&i()(!1,"Invalid "+d+" `"+n+"` of type `"+u+"` supplied to `"+a+"`, expected `object`.");for(var h=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){s(e,t,r[t])})}return e}({},r[n],e),l=arguments.length,p=new Array(l>5?l-5:0),f=5;f<l;f++)p[f-5]=arguments[f];for(var v in h){var m=e[v];m||i()(!1,"Invalid props."+n+" key `"+v+"` supplied to `"+a+"`.\nBad object: "+JSON.stringify(r[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var y=m.apply(void 0,[c,v,a,o].concat(p));y&&i()(!1,y.message+"\nBad object: "+JSON.stringify(r[n],null,"  "))}}else t&&i()(!1,"Required object `"+n+"` was not specified in `"+a+"`.")}function r(e,r,n,i){for(var s=arguments.length,a=new Array(s>4?s-4:0),o=4;o<s;o++)a[o-4]=arguments[o];return t.apply(void 0,[!1,e,r,n,i].concat(a))}return r.isRequired=t.bind(null,!0),r}},function(e,t,r){"use strict";var n=r(0),i={animationDelay:n.string,animationDirection:Object(n.oneOf)(["alternate","alternate-reverse","normal","reverse"]),animationDuration:n.string,animationFillMode:Object(n.oneOf)(["none","forwards","backwards","both"]),animationIterationCount:Object(n.oneOfType)([n.number,Object(n.oneOf)(["infinite"])]),animationName:Object(n.oneOfType)([n.string,Object(n.arrayOf)(Object(n.oneOfType)([n.string,n.object]))]),animationPlayState:Object(n.oneOf)(["paused","running"]),animationTimingFunction:n.string,transitionDelay:n.string,transitionDuration:n.string,transitionProperty:n.string,transitionTimingFunction:n.string},s=r(17),a=Object(n.oneOfType)([n.number,n.string]),o=Object(n.oneOf)(["solid","dotted","dashed"]),c={borderColor:s.a,borderBottomColor:s.a,borderEndColor:s.a,borderLeftColor:s.a,borderRightColor:s.a,borderStartColor:s.a,borderTopColor:s.a,borderRadius:a,borderBottomEndRadius:a,borderBottomLeftRadius:a,borderBottomRightRadius:a,borderBottomStartRadius:a,borderTopEndRadius:a,borderTopLeftRadius:a,borderTopRightRadius:a,borderTopStartRadius:a,borderStyle:o,borderBottomStyle:o,borderEndStyle:o,borderLeftStyle:o,borderRightStyle:o,borderStartStyle:o,borderTopStyle:o},u={cursor:n.string,touchAction:Object(n.oneOf)(["auto","inherit","manipulation","none","pan-down","pan-left","pan-right","pan-up","pan-x","pan-y","pinch-zoom"]),userSelect:n.string,willChange:n.string},d=Object(n.oneOf)(["auto","hidden","scroll","visible"]),h=Object(n.oneOf)(["hidden","visible"]),l=Object(n.oneOfType)([n.number,n.string]),p={alignContent:Object(n.oneOf)(["center","flex-end","flex-start","space-around","space-between","stretch"]),alignItems:Object(n.oneOf)(["baseline","center","flex-end","flex-start","stretch"]),alignSelf:Object(n.oneOf)(["auto","baseline","center","flex-end","flex-start","stretch"]),backfaceVisibility:h,borderWidth:l,borderBottomWidth:l,borderEndWidth:l,borderLeftWidth:l,borderRightWidth:l,borderStartWidth:l,borderTopWidth:l,bottom:l,boxSizing:n.string,direction:Object(n.oneOf)(["inherit","ltr","rtl"]),display:n.string,end:l,flex:n.number,flexBasis:l,flexDirection:Object(n.oneOf)(["column","column-reverse","row","row-reverse"]),flexGrow:n.number,flexShrink:n.number,flexWrap:Object(n.oneOf)(["nowrap","wrap","wrap-reverse"]),height:l,justifyContent:Object(n.oneOf)(["center","flex-end","flex-start","space-around","space-between","space-evenly"]),left:l,margin:l,marginBottom:l,marginHorizontal:l,marginEnd:l,marginLeft:l,marginRight:l,marginStart:l,marginTop:l,marginVertical:l,maxHeight:l,maxWidth:l,minHeight:l,minWidth:l,order:n.number,overflow:d,overflowX:d,overflowY:d,padding:l,paddingBottom:l,paddingHorizontal:l,paddingEnd:l,paddingLeft:l,paddingRight:l,paddingStart:l,paddingTop:l,paddingVertical:l,position:Object(n.oneOf)(["absolute","fixed","relative","static","sticky"]),right:l,start:l,top:l,visibility:h,width:l,zIndex:n.number,aspectRatio:n.number,gridAutoColumns:n.string,gridAutoFlow:n.string,gridAutoRows:n.string,gridColumnEnd:n.string,gridColumnGap:n.string,gridColumnStart:n.string,gridRowEnd:n.string,gridRowGap:n.string,gridRowStart:n.string,gridTemplateColumns:n.string,gridTemplateRows:n.string,gridTemplateAreas:n.string},f=Object(n.oneOfType)([n.number,n.string]),v={shadowColor:s.a,shadowOffset:Object(n.shape)({width:f,height:f}),shadowOpacity:n.number,shadowRadius:f,shadowSpread:f},m=Object(n.oneOfType)([n.number,n.string]),y={perspective:Object(n.oneOfType)([n.number,n.string]),perspectiveOrigin:n.string,transform:Object(n.arrayOf)(Object(n.oneOfType)([Object(n.shape)({perspective:m}),Object(n.shape)({rotate:n.string}),Object(n.shape)({rotateX:n.string}),Object(n.shape)({rotateY:n.string}),Object(n.shape)({rotateZ:n.string}),Object(n.shape)({scale:n.number}),Object(n.shape)({scaleX:n.number}),Object(n.shape)({scaleY:n.number}),Object(n.shape)({scaleZ:n.number}),Object(n.shape)({scale3d:n.string}),Object(n.shape)({skewX:n.string}),Object(n.shape)({skewY:n.string}),Object(n.shape)({translateX:m}),Object(n.shape)({translateY:m}),Object(n.shape)({translateZ:m}),Object(n.shape)({translate3d:n.string})])),transformOrigin:n.string,transformStyle:Object(n.oneOf)(["flat","preserve-3d"])};function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=Object(n.oneOf)(["auto","contain","none"]),k=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){g(e,t,r[t])})}return e}({},i,c,u,p,v,y,{backgroundColor:s.a,opacity:n.number,elevation:n.number,backdropFilter:n.string,backgroundAttachment:n.string,backgroundBlendMode:n.string,backgroundClip:n.string,backgroundImage:n.string,backgroundOrigin:Object(n.oneOf)(["border-box","content-box","padding-box"]),backgroundPosition:n.string,backgroundRepeat:n.string,backgroundSize:n.string,boxShadow:n.string,clip:n.string,filter:n.string,outline:n.string,outlineColor:s.a,overscrollBehavior:b,overscrollBehaviorX:b,overscrollBehaviorY:b,scrollSnapAlign:n.string,scrollSnapType:n.string,WebkitMaskImage:n.string,WebkitOverflowScrolling:Object(n.oneOf)(["auto","touch"])});t.a=k},function(e,t,r){"use strict";var n,i=r(303);n=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=n},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports={uuid:function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},unCamelCase:function(e){return e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,function(e){return e[0]+"_"+e[1]}).replace(/[A-Z0-9][A-Z0-9][a-z]/g,function(e){return e[0]+"_"+e[1]+e[2]}).toLowerCase()},capitalize:function(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):e}}},function(e,t,r){"use strict";var n=Number.isFinite,i=Array.isArray,s=function(e){return"string"===typeof e},a=function(e){return null!==e&&"object"===typeof e},o=function(e){return c(e)&&e.toString||n(e)},c=function(e){return void 0!==e&&null!==e},u=function(e,t){return a(e)?e[t]:void 0},d=function(e,t,r){return a(e)?t in e?e[t]:e[r]:void 0},h=function(e){return n(e)||s(e)?parseFloat(e):NaN},l=function(e){return n(e)||s(e)?parseInt(e,10):NaN};e.exports={isNumber:n,isArray:i,isObject:a,isString:s,isStringCoercible:o,isDictionary:function(e){return a(e)&&!i(e)},hasProps:c,prop:u,asFloat:h,asInteger:l,safeFloat:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h(u(e,t));return n(i)?i:r},safeInteger:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l(u(e,t));return n(i)?i:r},safeValue:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u(e,t);return c(n)?n:r},safeString:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u(e,t);return o(n)?String(n):r},safeFloat2:function(e,t,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h(d(e,t,r));return n(s)?s:i},safeInteger2:function(e,t,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l(d(e,t,r));return n(s)?s:i},safeValue2:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d(e,t,r);return c(i)?i:n},safeString2:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d(e,t,r);return o(i)?String(i):n}}},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(){var e=i,t=e.lib,r=t.WordArray,n=t.Hasher,s=e.algo,a=[],o=s.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],c=r[4],u=0;u<80;u++){if(u<16)a[u]=0|e[t+u];else{var d=a[u-3]^a[u-8]^a[u-14]^a[u-16];a[u]=d<<1|d>>>31}var h=(n<<5|n>>>27)+c+a[u];h+=u<20?1518500249+(i&s|~i&o):u<40?1859775393+(i^s^o):u<60?(i&s|i&o|s&o)-1894007588:(i^s^o)-899497514,c=o,o=s,s=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(o),e.HmacSHA1=n._createHmacHelper(o)}(),i.SHA1)}()},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),void function(){var e=i,t=e.lib,r=t.Base,n=e.enc,s=n.Utf8,a=e.algo;a.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),o=i.words,c=a.words,u=0;u<r;u++)o[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(r));return n}})}())}()},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.NotSupported,f=l.DDoSProtection,v=l.AuthenticationError,m=l.PermissionDenied,y=l.ArgumentsRequired,g=l.ExchangeError,b=l.ExchangeNotAvailable,k=l.InsufficientFunds,w=l.InvalidOrder,x=l.OrderNotFound,T=l.InvalidNonce,_=r(19).SIGNIFICANT_DIGITS;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitfinex",name:"Bitfinex",countries:["VG"],version:"v1",rateLimit:1500,certified:!0,has:{CORS:!1,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchTransactions:!0,fetchDeposits:!1,fetchWithdrawals:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:"https://api.bitfinex.com",www:"https://www.bitfinex.com",doc:["https://bitfinex.readme.io/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","today","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2}}},commonCurrencies:{ABS:"ABYSS",AIO:"AION",ATM:"ATMI",BAB:"BCH",CTX:"CTXC",DAD:"DADI",DAT:"DATA",DSH:"DASH",HOT:"Hydro Protocol",IOS:"IOST",IOT:"IOTA",IQX:"IQ",MIT:"MITH",MNA:"MANA",NCA:"NCASH",ORS:"ORS Group",POY:"POLY",QSH:"QASH",QTM:"QTUM",SEE:"SEER",SNG:"SNGLS",SPK:"SPANK",STJ:"STORJ",YYW:"YOYOW",UTN:"UTNP"},exceptions:{exact:{temporarily_unavailable:b,"Order could not be cancelled.":x,"No such order found.":x,"Order price must be positive.":w,"Could not find a key matching the given X-BFX-APIKEY.":v,'Key price should be a decimal number, e.g. "123.456"':w,'Key amount should be a decimal number, e.g. "123.456"':w,ERR_RATE_LIMIT:f,Ratelimit:f,"Nonce is too small.":T,"No summary found.":g,"Cannot evaluate your available balance, please try again":b},broad:{"This API key does not have permission":m,"Invalid order: not enough exchange balance for ":k,"Invalid order: minimum size for ":w,"Invalid order":w,"The available balance is only":k}},precisionMode:_,options:{currencyNames:{AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bcash",BCI:"bci",BFT:"bft",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STORJ:"stj",TNB:"tnb",TRX:"trx",USD:"wire",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx",XTZ:"tezos"}}})}},{key:"fetchFundingFees",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostAccountFees(t);case 5:for(r=e.sent,i=r.withdraw,s={},a=Object.keys(i),o=0;o<a.length;o++)c=a[o],u=c,c in this.currencies_by_id&&(d=this.currencies_by_id[c],u=d.code),s[u]=this.safeFloat(i,c);return e.abrupt("return",{info:r,withdraw:s,deposit:s});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingFees",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostSummary(t);case 5:return r=e.sent,e.abrupt("return",{info:r,maker:this.safeFloat(r,"maker_fee"),taker:this.safeFloat(r,"taker_fee")});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetSymbolsDetails();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.pair.toUpperCase(),o=a.slice(0,3),c=a.slice(3,6),u=this.commonCurrencyCode(o),d=this.commonCurrencyCode(c),h=u+"/"+d,l={price:s.price_precision,amount:s.price_precision},(p={amount:{min:this.safeFloat(s,"minimum_order_size"),max:this.safeFloat(s,"maximum_order_size")},price:{min:Math.pow(10,-l.price),max:Math.pow(10,l.price)}}).cost={min:p.amount.min*p.price.min,max:void 0},r.push({id:a,symbol:h,base:u,quote:d,baseId:o,quoteId:c,active:!0,precision:l,limits:p,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[s],c=n*o,u="quote";return"sell"===r?c*=i:u="base",{type:s,currency:a[u],rate:o,cost:parseFloat(this.currencyToPrecision(a[u],c))}}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return r=this.safeString(t,"type","exchange"),i=this.omit(t,"type"),e.next=7,this.privatePostBalances(i);case 7:for(s=e.sent,a={info:s},o=0;o<s.length;o++)(c=s[o]).type===r&&(u=c.currency,d=u.toUpperCase(),d=this.commonCurrencyCode(d),(h=this.account()).free=parseFloat(c.available),h.total=parseFloat(c.amount),h.used=h.total-h.free,a[d]=h);return e.abrupt("return",this.parseBalance(a));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s={symbol:this.marketId(t)},void 0!==r&&(s.limit_bids=r,s.limit_asks=r),e.next=8,this.publicGetBookSymbol(this.extend(s,i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a,void 0,"bids","asks","price","amount"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=this.parseTicker(r[s]),o=a.symbol,i[o]=a;return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPubtickerSymbol(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeFloat(e,"timestamp"),n=void 0;if(void 0!==t)n=t.symbol;else if("pair"in e){var i=e.pair;if(i in this.markets_by_id&&(t=this.markets_by_id[i]),void 0!==t)n=t.symbol;else{var s=i.slice(0,3),a=i.slice(3,6);n=this.commonCurrencyCode(s)+"/"+this.commonCurrencyCode(a)}}var o=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"mid"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(parseFloat(e.timestamp)),n=e.type.toLowerCase(),i=this.safeString(e,"order_id"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),o=s*a,c=void 0;if("fee_amount"in e){var u=-this.safeFloat(e,"fee_amount"),d=this.safeString(e,"fee_currency");d in this.currencies_by_id&&(d=this.currencies_by_id[d].code),c={cost:u,currency:d}}return{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,order:i,side:n,price:s,amount:a,cost:o,fee:c}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:50,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id,limit_trades:i},void 0!==r&&(o.timestamp=parseInt(r/1e3)),e.next=10,this.publicGetTradesSymbol(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new y(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.limit_trades=i),void 0!==r&&(o.timestamp=parseInt(r/1e3)),e.next=14,this.privatePostMytrades(this.extend(o,s));case 14:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=r,"limit"!==r&&"market"!==r||(c="exchange "+r),s=this.amountToPrecision(t,s),(u={symbol:this.marketId(t),amount:s,side:i,type:c,ocoorder:!1,buy_price_oco:0,sell_price_oco:0}).price="market"===r?this.nonce().toString():this.priceToPrecision(t,a),e.next=11,this.privatePostOrderNew(this.extend(u,o));case 11:return d=e.sent,e.abrupt("return",this.parseOrder(d));case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:parseInt(t)});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.side,n=e.is_live,i=e.is_cancelled,s=void 0;s=n?"open":i?"canceled":"closed";var a=void 0;if(void 0===t){var o=e.symbol.toUpperCase();o in this.markets_by_id&&(t=this.markets_by_id[o])}void 0!==t&&(a=t.symbol);var c=e.type;c.indexOf("exchange ")>=0&&(c=e.type.split(" ")[1]);var u=parseInt(1e3*parseFloat(e.timestamp));return{info:e,id:e.id.toString(),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:a,type:c,side:r,price:this.safeFloat(e,"price"),average:this.safeFloat(e,"avg_execution_price"),amount:this.safeFloat(e,"original_amount"),remaining:this.safeFloat(e,"remaining_amount"),filled:this.safeFloat(e,"executed_amount"),status:s,fee:void 0}}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0===t){e.next=9;break}if(t in this.markets){e.next=9;break}throw new g(this.id+" has no symbol "+t);case 9:return e.next=11,this.privatePostOrders(s);case 11:return a=e.sent,o=this.parseOrders(a,void 0,r,i),void 0!==t&&(o=this.filterBy(o,"symbol",t)),e.abrupt("return",o);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},void 0!==i&&(a.limit=i),e.next=10,this.privatePostOrdersHist(this.extend(a,s));case 10:return o=e.sent,c=this.parseOrders(o,void 0,r,i),void 0!==t&&(c=this.filterBy(c,"symbol",t)),c=this.filterBy(c,"status","closed"),e.abrupt("return",c);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({order_id:parseInt(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],e[1],e[3],e[4],e[2],e[5]]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return void 0===s&&(s=100),o=this.market(t),c="t"+o.id,u={symbol:c,timeframe:this.timeframes[r],sort:1,limit:s},void 0!==i&&(u.start=i),e.next=13,this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(u,a));case 13:return d=e.sent,e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrencyName",value:function(e){if(e in this.options.currencyNames)return this.options.currencyNames[e];throw new p(this.id+" "+e+" not supported for withdrawal")}},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.fetchDepositAddress(t,this.extend({renew:1},r));case 3:return i=e.sent,s=this.safeString(i,"address"),this.checkAddress(s),e.abrupt("return",{info:i.info,currency:t,address:s,tag:void 0});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},i=this.getCurrencyName(t),s={method:i,wallet_name:"exchange",renew:0},e.next=5,this.privatePostDepositNew(this.extend(s,r));case 5:return a=e.sent,o=a.address,c=void 0,"address_pool"in a&&(c=o,o=a.address_pool),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:c,info:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new y(this.id+" fetchTransactions() requires a currency code argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.currency(t),o={currency:a.id},void 0!==r&&(o.since=parseInt(r/1e3)),e.next=13,this.privatePostHistoryMovements(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseTransactions(c,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeFloat(e,"timestamp_created");void 0!==r&&(r=parseInt(1e3*r));var n=this.safeFloat(e,"timestamp");void 0!==n&&(n=parseInt(1e3*n));var i=void 0;if(void 0===t){var s=this.safeString(e,"currency");s in this.currencies_by_id?t=this.currencies_by_id[s]:i=this.commonCurrencyCode(s)}void 0!==t&&(i=t.code);var a=this.safeString(e,"type");void 0!==a&&(a=a.toLowerCase());var o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeFloat(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:r,datetime:this.iso8601(r),address:this.safeString(e,"address"),tag:void 0,type:a,amount:this.safeFloat(e,"amount"),currency:i,status:o,updated:n,fee:{currency:i,cost:c,rate:void 0}}}},{key:"parseTransactionStatus",value:function(e){var t={CANCELED:"canceled",ZEROCONFIRMED:"failed",COMPLETED:"ok"};return e in t?t[e]:e}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>3&&void 0!==f[3]?f[3]:void 0,a=f.length>4&&void 0!==f[4]?f[4]:{},this.checkAddress(i),o=this.getCurrencyName(t),c={withdraw_type:o,walletselected:"exchange",amount:r.toString(),address:i},s&&(c.payment_id=s),e.next=8,this.privatePostWithdraw(this.extend(c,a));case 8:if(u=e.sent,d=u[0],h=d.withdrawal_id,l=d.message,p=this.findBroadlyMatchedKey(this.exceptions.broad,l),0!==h){e.next=18;break}if(void 0===p){e.next=17;break}throw new(0,this.exceptions.broad[p])(this.id+" "+l);case 17:throw new g(this.id+" withdraw returned an id of zero: "+this.json(d));case 18:return e.abrupt("return",{info:d,id:h});case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n);a="v2"===t?"/"+t+a:"/"+this.version+a;var o=this.omit(n,this.extractParams(e)),c=this.urls.api+a;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(o).length){var u="?"+this.urlencode(o);c+=u,a+=u}if("private"===t){this.checkRequiredCredentials();var d=this.nonce();o=this.extend({nonce:d.toString(),request:a},o),o=this.json(o),o=this.encode(o);var h=this.stringToBase64(o),l=this.encode(this.secret),p=this.hmac(h,l,"sha384");i={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(h),"X-BFX-SIGNATURE":p}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(s.length<2)&&e>=400&&"{"===s[0]){var o=this.id+" "+this.json(a),c=void 0;if("message"in a)c=a.message;else{if(!("error"in a))throw new g(o);c=a.error}var u=this.exceptions.exact;if(c in u)throw new u[c](o);var d=this.exceptions.broad,h=this.findBroadlyMatchedKey(d,c);if(void 0!==h)throw new d[h](o);throw new g(o)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.AuthenticationError,y=p.InsufficientFunds,g=p.OrderNotFound,b=p.ExchangeNotAvailable,k=p.DDoSProtection,w=p.InvalidOrder;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"zb",name:"ZB",countries:["CN"],rateLimit:1e3,version:"v1",has:{CORS:!1,createMarketOrder:!1,fetchDepositAddress:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{1001:f,1002:f,1003:m,1004:m,1005:m,1006:m,1009:b,2001:y,2002:y,2003:y,2005:y,2006:y,2007:y,2009:y,3001:g,3002:w,3003:w,3004:m,3005:f,3006:m,3007:m,3008:g,4001:b,4002:k},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"http://api.zb.cn/data",private:"https://trade.zb.cn/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate",referral:"https://vip.zb.com/user/register?recommendCode=bn070u"},api:{public:{get:["markets","ticker","allTicker","depth","trades","kline"]},private:{get:["order","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getAccountInfo","getUserAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","repay","getRepayments"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ENT:"ENTCash"}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=Object.keys(t),s=[],a=0;a<r.length;a++)o=r[a],c=t[o],u=o.split("_"),d=i(u,2),h=d[0],l=d[1],p=this.commonCurrencyCode(h.toUpperCase()),f=this.commonCurrencyCode(l.toUpperCase()),v=p+"/"+f,m={amount:c.amountScale,price:c.priceScale},s.push({id:o,symbol:v,baseId:h,quoteId:l,base:p,quote:f,active:!0,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:void 0},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:0,max:void 0}},info:c});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetAccountInfo(t);case 5:for(r=e.sent,i=r.result.coins,s={info:r},a=0;a<i.length;a++)o=i[a],c=this.account(),u=(u=o.key)in this.currencies_by_id?this.currencies_by_id[u].code:this.commonCurrencyCode(o.enName),c.free=parseFloat(o.available),c.used=parseFloat(o.freez),c.total=this.sum(c.free,c.used),s[u]=c;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getMarketFieldName",value:function(){return"market"}},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privateGetGetUserAddress({currency:r.id});case 6:return i=e.sent,s=i.message.datas.key,a=void 0,s.indexOf("_")>=0&&(o=s.split("_"),s=o[0],a=o[1]),e.abrupt("return",{currency:t,address:s,tag:a,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),s=this.getMarketFieldName(),(a={})[s]=i.id,e.next=10,this.publicGetDepth(this.extend(a,r));case 10:return o=e.sent,e.abrupt("return",this.parseOrderBook(o));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetAllTicker(t);case 6:for(r=e.sent,i={},s={},a=Object.keys(this.marketsById),o=0;o<a.length;o++)c=a[o].replace("_",""),s[c]=this.marketsById[a[o]];for(u=Object.keys(r),d=0;d<u.length;d++)h=s[u[d]],i[h.symbol]=this.parseTicker(r[u[d]],h);return e.abrupt("return",i);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s=this.getMarketFieldName(),(a={})[s]=i.id,e.next=9,this.publicGetTicker(this.extend(a,r));case 9:return o=e.sent,c=o.ticker,e.abrupt("return",this.parseTicker(c,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchOHLCV",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),void 0===s&&(s=1e3),c={market:o.id,type:this.timeframes[r],limit:s},void 0!==i&&(c.since=i),e.next=12,this.publicGetKline(this.extend(c,a));case 12:return u=e.sent,d=this.safeValue(u,"data",[]),e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n="bid"===e.trade_type?"buy":"sell";return{info:e,id:e.tid.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o=this.getMarketFieldName(),(c={})[o]=a.id,e.next=11,this.publicGetTrades(this.extend(c,s));case 11:return u=e.sent,e.abrupt("return",this.parseTrades(u,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},"limit"===r){e.next=4;break}throw new w(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c={price:this.priceToPrecision(t,a),amount:this.amountToPrecision(t,s),tradeType:"buy"===i?"1":"0",currency:this.marketId(t)},e.next=9,this.privateGetOrder(this.extend(c,o));case 9:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return s={id:t.toString(),currency:this.marketId(r)},s=this.extend(s,i),e.next=8,this.privateGetCancelOrder(s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new v(this.id+" fetchOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s={id:t.toString(),currency:this.marketId(r)},s=this.extend(s,i),e.next=10,this.privateGetGetOrder(s);case 10:return a=e.sent,e.abrupt("return",this.parseOrder(a,void 0));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:50,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+"fetchOrders requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={currency:a.id,pageIndex:1,pageSize:i},c="privateGetGetOrdersIgnoreTradeType","tradeType"in s&&(c="privateGetGetOrdersNew"),u=void 0,e.prev=13,e.next=16,this[c](this.extend(o,s));case 16:u=e.sent,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(13),!(e.t0 instanceof g)){e.next=23;break}return e.abrupt("return",[]);case 23:throw e.t0;case 24:return e.abrupt("return",this.parseOrders(u,a,r,i));case 25:case"end":return e.stop()}},e,this,[[13,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:10,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+"fetchOpenOrders requires a symbol parameter");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={currency:a.id,pageIndex:1,pageSize:i},c="privateGetGetUnfinishedOrdersIgnoreTradeType","tradeType"in s&&(c="privateGetGetOrdersNew"),u=void 0,e.prev=13,e.next=16,this[c](this.extend(o,s));case 16:u=e.sent,e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(13),!(e.t0 instanceof g)){e.next=23;break}return e.abrupt("return",[]);case 23:throw e.t0;case 24:return e.abrupt("return",this.parseOrders(u,a,r,i));case 25:case"end":return e.stop()}},e,this,[[13,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1===e.type?"buy":"sell",n=void 0,i=this.getCreateDateField();i in e&&(n=e[i]);var s=void 0;"currency"in e&&(t=this.marketsById[e.currency]),t&&(s=t.symbol);var a=e.price,o=e.trade_amount,c=e.total_amount,u=c-o,d=this.safeFloat(e,"trade_money"),h=void 0,l=this.parseOrderStatus(this.safeString(e,"status"));return void 0!==d&&void 0!==o&&o>0&&(h=d/o),{info:e,id:e.id,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:"limit",side:r,price:a,average:h,cost:d,amount:c,filled:o,remaining:u,status:l,fee:void 0}}},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"canceled",2:"closed",3:"open"};return e in t?t[e]:e}},{key:"getCreateDateField",value:function(){return"trade_date"}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("public"===t)a+="/"+this.version+"/"+e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else{var o=this.keysort(this.extend({method:e,accesskey:this.apiKey},n)),c=this.nonce();o=this.keysort(o);var u=this.rawencode(o),d=this.hash(this.encode(this.secret),"sha1");a+="/"+e+"?"+u+"&"+("sign="+this.hmac(this.encode(u),this.encode(d),"md5")+"&reqTime="+c.toString())}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&"{"===s[0]){var o=this.id+" "+this.json(a);if("code"in a){var c=this.safeString(a,"code");if(c in this.exceptions)throw new(0,this.exceptions[c])(o);if("1000"!==c)throw new f(o)}var u=this.safeValue(a,"result");if(void 0!==u)if(!u)throw"\u670d\u52a1\u7aef\u5fd9\u788c"===this.safeString(a,"message")?new b(o):new f(o)}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ExchangeNotAvailable,m=p.AuthenticationError,y=p.InvalidNonce,g=p.InsufficientFunds,b=p.InvalidOrder,k=p.OrderNotFound,w=p.DDoSProtection;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:"emulated",fetchMyTrades:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://www.coinegg.com/coin",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html"},api:{web:{get:["{quote}/allcoin","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/region/{quote}","depth/region/{quote}","orders/region/{quote}"]},private:{post:["balance","trade_add/region/{quote}","trade_cancel/region/{quote}","trade_view/region/{quote}","trade_list/region/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:m,104:m,105:m,106:y,200:g,201:b,202:b,203:k,402:w},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc","usdt"]},commonCurrencies:{JBC:"JubaoCoin"}})}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,m,y=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y.length>0&&void 0!==y[0]?y[0]:{},t=this.options.quoteIds,r=[],n=0;case 4:if(!(n<t.length)){e.next=19;break}return s=t[n],e.next=8,this.webGetQuoteAllcoin({quote:s});case 8:if(void 0!==(a=e.sent)){e.next=11;break}throw new v(this.id+' fetchMarkets() for "'+s+'" returned: "'+this.json(a)+'"');case 11:if(o=Object.keys(a),!(o.length<1)){e.next=15;break}throw new v(this.id+' fetchMarkets() for "'+s+'" returned: "'+this.json(a)+'"');case 15:for(c=0;c<o.length;c++)u=o[c],d=a[u],h=u.toUpperCase(),l=s.toUpperCase(),h=this.commonCurrencyCode(h),l=this.commonCurrencyCode(l),p=u+s,f=h+"/"+l,m={amount:8,price:8},r.push({id:p,symbol:f,base:h,quote:l,baseId:u,quoteId:s,active:!0,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:Math.pow(10,m.amount)},price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)},cost:{min:void 0,max:void 0}},info:d});case 16:n++,e.next=4;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.milliseconds(),n=this.safeFloat(e,"last"),i=this.safeFloat(e,"change"),s=void 0,a=void 0,o=void 0;if(void 0!==i){var c=i/100;a=n-(s=n/this.sum(1,c)),o=this.sum(n,s)/2}return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:s,close:n,last:n,previousClose:void 0,change:a,percentage:i,average:o,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"quoteVol"),info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerRegionQuote(this.extend({coin:n.baseId,quote:n.quoteId},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:void 0,v.length>1&&void 0!==v[1]?v[1]:{},e.next=4,this.loadMarkets();case 4:t=this.options.quoteIds,r={},n=0;case 7:if(!(n<t.length)){e.next=19;break}return s=t[n],e.next=11,this.webGetQuoteAllcoin({quote:s});case 11:if(a=e.sent,(o=Object.keys(a)).length){e.next=15;break}throw new f("fetchTickers failed");case 15:for(c=0;c<o.length;c++)u=o[c],d=a[u],(h=u+s)in this.markets_by_id&&(l=this.marketsById[h],p=l.symbol,r[p]=this.parseTicker({high:d[4],low:d[5],buy:d[2],sell:d[3],last:d[1],change:d[8],vol:d[6],quoteVol:d[7]},l));case 16:n++,e.next=7;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.market(t),e.next=7,this.publicGetDepthRegionQuote(this.extend({coin:n.baseId,quote:n.quoteId},r));case 7:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=t.symbol,a=this.costToPrecision(s,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetOrdersRegionQuote(this.extend({coin:a.baseId,quote:a.quoteId},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance(t);case 5:for(r=e.sent,s={},a=this.omit(r.data,"uid"),o=Object.keys(a),c=0;c<o.length;c++)u=o[c],d=u.split("_"),h=n(d,2),l=h[0],p=h[1],f=l,l in this.currencies_by_id&&(f=this.currencies_by_id[l].code),f in s||(s[f]={free:void 0,used:void 0,total:void 0}),p="lock"===p?"used":"free",s[f][p]=parseFloat(a[u]);for(v=Object.keys(s),m=0;m<v.length;m++)y=v[m],s[y].total=this.sum(s[y].free,s[y].used);return e.abrupt("return",this.parseBalance(this.extend({info:r},s)));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.parse8601(e.datetime),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount_original"),s=this.safeFloat(e,"amount_outstanding"),a=i-s,o=this.safeString(e,"status");o="cancelled"===o?"canceled":s?"open":"closed";var c=this.safeValue(e,"info",e);return{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:t,type:"limit",side:e.type,price:n,cost:void 0,amount:i,filled:a,remaining:s,trades:void 0,fee:void 0,info:c}}},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),e.next=7,this.privatePostTradeAddRegionQuote(this.extend({coin:c.baseId,quote:c.quoteId,type:n,amount:s,price:a},o));case 7:return u=e.sent,d=u.id.toString(),h=this.parseOrder({id:d,datetime:this.ymdhms(this.milliseconds()),amount_original:s,amount_outstanding:s,price:a,type:n,info:u},c),this.orders[d]=h,e.abrupt("return",h);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostTradeCancelRegionQuote(this.extend({id:t,coin:s.baseId,quote:s.quoteId},n));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostTradeViewRegionQuote(this.extend({id:t,coin:s.baseId,quote:s.quoteId},n));case 7:return a=e.sent,e.abrupt("return",this.parseOrder(a.data,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={coin:a.baseId,quote:a.quoteId},void 0!==r&&(o.since=r/1e3),e.next=11,this.privatePostTradeListRegionQuote(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c.data,a,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,this.extend({type:"open"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="rest";"web"===t&&(a=t);var o=this.urls.api[a]+"/"+this.implodeParams(e,n),c=this.omit(n,this.extractParams(e));if("public"===t||"web"===t)"web"===t&&(c.t=this.nonce()),Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),c=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},c));var u=this.hash(this.encode(this.secret));c+="&signature="+this.hmac(this.encode(c),this.encode(u)),"GET"===r?o+="?"+c:(i={"Content-type":"application/x-www-form-urlencoded"},s=c)}return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&0!==s.length&&"{"===s[0]){var o=this.safeValue(a,"result");if(void 0!==o&&!0!==o){var c=this.safeString(a,"code"),u=this.errorMessages,d=this.safeString(u,c,"Unknown Error");throw c in this.exceptions?new this.exceptions[c](this.id+" "+d):new f(this.id+" "+d)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.InsufficientFunds,f=l.ArgumentsRequired,v=l.ExchangeError,m=l.InvalidOrder,y=l.InvalidAddress,g=l.AuthenticationError,b=l.NotSupported,k=l.OrderNotFound;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"gdax",name:"GDAX",countries:["US"],rateLimit:1e3,userAgent:this.userAgents.chrome,has:{CORS:!0,fetchOHLCV:!0,deposit:!0,withdraw:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchTransactions:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},urls:{test:"https://api-public.sandbox.gdax.com",logo:"https://user-images.githubusercontent.com/1294454/27766527-b1be41c6-5edb-11e7-95f6-5b496c469e2c.jpg",api:"https://api.gdax.com",www:"https://www.gdax.com",doc:"https://docs.gdax.com",fees:["https://www.gdax.com/fees","https://support.gdax.com/customer/en/portal/topics/939402-depositing-and-withdrawing-funds/articles"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","orders","orders/{id}","payment-methods","position","reports/{id}","users/self/trailing-volume"],post:["conversions","deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","reports","withdrawals/coinbase","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/{id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:0,taker:.003},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}},exceptions:{exact:{"Insufficient funds":p,NotFound:k,"Invalid API Key":g,"invalid signature":g,"Invalid Passphrase":g},broad:{"Order already done":k,"order not found":k,"price too small":m,"price too precise":m}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetProducts();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.id,o=s.base_currency,c=s.quote_currency,u=o+"/"+c,d={min:this.safeFloat(s,"quote_increment"),max:void 0},h={amount:8,price:this.precisionFromString(this.safeString(s,"quote_increment"))},l=this.fees.trading.taker,"ETH"!==o&&"LTC"!==o||(l=.003),p=!0,"accessible"in s&&(p=this.safeValue(s,"accessible")),f="online"===s.status&&p,r.push(this.extend(this.fees.trading,{id:a,symbol:u,base:o,quote:c,precision:h,limits:{amount:{min:this.safeFloat(s,"base_min_size"),max:this.safeFloat(s,"base_max_size")},price:d,cost:{min:this.safeFloat(s,"min_market_funds"),max:this.safeFloat(s,"max_market_funds")}},taker:l,active:f,info:s}));return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccounts();case 5:for(t=e.sent,r={info:t},i=0;i<t.length;i++)s=t[i],a=s.currency,o={free:this.safeFloat(s,"available"),used:this.safeFloat(s,"hold"),total:this.safeFloat(s,"balance")},r[a]=o;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetProductsIdBook(this.extend({id:this.marketId(t),level:2},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s=this.extend({id:i.id},r),e.next=7,this.publicGetProductsIdTicker(s);case 7:return a=e.sent,o=this.parse8601(this.safeValue(a,"time")),c=void 0,u=void 0,"bid"in a&&(c=this.safeFloat(a,"bid")),"ask"in a&&(u=this.safeFloat(a,"ask")),d=this.safeFloat(a,"price"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:void 0,low:void 0,bid:c,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(a,"volume"),quoteVolume:void 0,info:a});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(this.safeString2(e,"time","created_at")),n=void 0;if(void 0===t){var i=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,i)}t&&(n=t.symbol);var s=void 0,a=void 0,o=void 0;void 0!==t&&(a=t.quote,"liquidity"in e&&(s=t[o="T"===e.liquidity?"taker":"maker"]));var c=this.safeFloat(e,"fill_fees");void 0===c&&(c=this.safeFloat(e,"fee"));var u={cost:c,currency:a,rate:s},d=this.safeString(e,"trade_id"),h="buy"===e.side?"sell":"buy",l=this.safeString(e,"order_id");void 0!==l&&(h="buy"===e.side?"buy":"sell");var p=this.safeFloat(e,"price"),f=this.safeFloat(e,"size");return{id:d,order:l,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,takerOrMaker:o,side:h,price:p,amount:f,fee:u,cost:p*f}}},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={product_id:a.id},void 0!==i&&(o.limit=i),e.next=13,this.privateGetFills(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetProductsIdTrades(this.extend({id:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[3],e[2],e[1],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c=this.timeframes[r],u={id:o.id,granularity:c},void 0!==i&&(u.start=this.ymdhms(i),void 0===s&&(s=300),u.end=this.ymdhms(this.sum(s*c*1e3,i))),e.next=12,this.publicGetProductsIdCandles(this.extend(u,a));case 12:return d=e.sent,e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTime",value:function(){var e=i(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,e.abrupt("return",this.parse8601(t.iso));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled",canceling:"open"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=void 0;void 0===t&&e.product_id in this.markets_by_id&&(t=this.markets_by_id[e.product_id]);var i=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"size");void 0===a&&(a=this.safeFloat(e,"funds")),void 0===a&&(a=this.safeFloat(e,"specified_funds"));var o=this.safeFloat(e,"filled_size"),c=void 0;void 0!==a&&void 0!==o&&(c=a-o);var u=this.safeFloat(e,"executed_value"),d={cost:this.safeFloat(e,"fill_fees"),currency:void 0,rate:void 0};return t&&(n=t.symbol),{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:i,symbol:n,type:e.type,side:e.side,price:s,cost:u,amount:a,filled:o,remaining:c,fee:d}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={status:"all"},o=void 0,void 0!==t&&(o=this.market(t),a.product_id=o.id),e.next=11,this.privateGetOrders(this.extend(a,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c,o,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.product_id=o.id),e.next=11,this.privateGetOrders(this.extend(a,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c,o,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={status:"done"},o=void 0,void 0!==t&&(o=this.market(t),a.product_id=o.id),e.next=11,this.privateGetOrders(this.extend(a,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c,o,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={product_id:this.marketId(t),side:i,size:s,type:r},"limit"===r&&(c.price=a),e.next=8,this.privatePostOrders(this.extend(c,o));case 8:return u=e.sent,e.abrupt("return",this.parseOrder(u));case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrdersId({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[s],c=n*i,u=a.quote;return{type:s,currency:u,rate:o,cost:parseFloat(this.currencyToPrecision(u,o*c))}}},{key:"getPaymentMethods",value:function(){var e=i(n.mark(function e(){var t;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetPaymentMethods();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"deposit",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=3,this.loadMarkets();case 3:if(a=this.currency(t),o={currency:a.id,amount:r},c="privatePostDeposits",!("payment_method_id"in s)){e.next=10;break}c+="PaymentMethod",e.next=15;break;case 10:if(!("coinbase_account_id"in s)){e.next=14;break}c+="CoinbaseAccount",e.next=15;break;case 14:throw new b(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");case 15:return e.next=17,this[c](this.extend(o,s));case 17:if(u=e.sent){e.next=20;break}throw new v(this.id+" deposit() error: "+this.json(u));case 20:return e.abrupt("return",{info:u,id:u.id});case 21:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>3&&void 0!==d[3]?d[3]:void 0,s=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),a=this.currency(t),e.next=6,this.loadMarkets();case 6:return o={currency:a.id,amount:r},c="privatePostWithdrawals","payment_method_id"in s?c+="PaymentMethod":"coinbase_account_id"in s?c+="CoinbaseAccount":(c+="Crypto",o.crypto_address=i),e.next=11,this[c](this.extend(o,s));case 11:if(u=e.sent){e.next=14;break}throw new v(this.id+" withdraw() error: "+this.json(u));case 14:return e.abrupt("return",{info:u,id:u.id});case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:void 0,r=m.length>1&&void 0!==m[1]?m[1]:void 0,i=m.length>2&&void 0!==m[2]?m[2]:void 0,s=m.length>3&&void 0!==m[3]?m[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==t){e.next=8;break}throw new f(this.id+" fetchTransactions() requires a currency code argument");case 8:return a=this.currency(t),o=void 0,e.next=12,this.privateGetAccounts();case 12:c=e.sent,u=0;case 14:if(!(u<c.length)){e.next=22;break}if((d=c[u]).currency!==a.id){e.next=19;break}return o=d.id,e.abrupt("break",22);case 19:u++,e.next=14;break;case 22:if(void 0!==o){e.next=24;break}throw new v(this.id+" fetchTransactions() could not find account id for "+t);case 24:return h={id:o},void 0!==i&&(h.limit=i),e.next=28,this.privateGetAccountsIdTransfers(this.extend(h,s));case 28:for(l=e.sent,p=0;p<l.length;p++)l[p].currency=t;return e.abrupt("return",this.parseTransactions(l,a,r,i));case 31:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return"canceled_at"in e&&e.canceled_at?"canceled":"completed_at"in e&&e.completed_at?"ok":"canceled_at"in e&&!e.canceled_at&&"completed_at"in e&&!e.completed_at&&"processed_at"in e&&!e.processed_at?"pending":"processed_at"in e&&e.processed_at?"pending":"failed"}},{key:"parseTransaction",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.safeValue(e,"details",{}),r=this.safeString(e,"id"),n=this.safeString(t,"crypto_transaction_hash"),i=this.parse8601(this.safeString(e,"created_at")),s=this.parse8601(this.safeString(e,"processed_at")),a=void 0,o=this.safeString(e,"currency");a=o in this.currencies_by_id?this.currencies_by_id[o].code:this.commonCurrencyCode(o);var c=this.parseTransactionStatus(e),u=this.safeFloat(e,"amount"),d=this.safeString(e,"type"),h=this.safeString(t,"crypto_address");return h=this.safeString(e,"crypto_address",h),"withdraw"===d&&(d="withdrawal",h=this.safeString(t,"sent_to_address",h)),{info:e,id:r,txid:n,timestamp:i,datetime:this.iso8601(i),address:h,tag:void 0,type:d,amount:u,currency:a,status:c,updated:s,fee:void 0}}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o));var c=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="";"GET"!==r&&Object.keys(o).length&&(d=s=this.json(o));var h=u+r+a+d,l=this.base64ToBinary(this.secret),p=this.hmac(this.encode(h),l,"sha256","base64");i={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":this.decode(p),"CB-ACCESS-TIMESTAMP":u,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:if(i=this.currency(t),void 0!==(s=this.safeValue(this.options,"coinbaseAccounts"))){e.next=11;break}return e.next=8,this.privateGetCoinbaseAccounts();case 8:s=e.sent,this.options.coinbaseAccounts=s,this.options.coinbaseAccountsByCurrencyId=this.indexBy(s,"currency");case 11:if(a=i.id,void 0!==(o=this.safeValue(this.options.coinbaseAccountsByCurrencyId,a))){e.next=15;break}throw new y(this.id+" fetchDepositAddress() could not find currency code "+t+" with id = "+a+" in this.options['coinbaseAccountsByCurrencyId']");case 15:return e.next=17,this.privatePostCoinbaseAccountsIdAddresses(this.extend({id:o.id},r));case 17:return c=e.sent,u=this.safeString(c,"address"),void 0,e.abrupt("return",{currency:t,address:this.checkAddress(u),tag:void 0,info:c});case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(400===e||404===e){if("{"===s[0]){var o=a.message,c=this.id+" "+o,u=this.exceptions.exact;if(o in u)throw new u[o](c);var d=this.exceptions.broad,h=this.findBroadlyMatchedKey(d,o);if(void 0!==h)throw new d[h](c);throw new v(c)}throw new v(this.id+" "+s)}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("message"in(c=e.sent))){e.next=10;break}throw new v(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.AuthenticationError,f=l.ExchangeError,v=l.ExchangeNotAvailable,m=l.InvalidOrder,y=l.OrderNotFound,g=l.InsufficientFunds;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"huobipro",name:"Huobi Pro",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",has:{CORS:!1,fetchTickers:!0,fetchDepositAddress:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchTradingLimits:!0,fetchMyTrades:!0,withdraw:!0,fetchCurrencies:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:{market:"https://api.huobi.pro",public:"https://api.huobi.pro",private:"https://api.huobi.pro",zendesk:"https://huobiglobal.zendesk.com/hc/en-us/articles"},www:"https://www.huobi.pro",referral:"https://www.huobi.br.com/en-us/topic/invited/?invite_code=rwrd3",doc:"https://github.com/huobiapi/API_Docs/wiki/REST_api_reference",fees:"https://www.huobi.pro/about/fee/"},api:{zendesk:{get:["360000400491-Trade-Limits"]},market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail","tickers"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","order/orders/{id}","order/orders/{id}/matchresults","order/orders","order/matchresults","dw/withdraw-virtual/addresses","dw/deposit-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance","points/actions","points/orders","subuser/aggregate-balance"],post:["order/orders/place","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay","subuser/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{"gateway-internal-error":v,"account-frozen-balance-insufficient-error":g,"invalid-amount":m,"order-limitorder-amount-min-error":m,"order-marketorder-amount-min-error":m,"order-limitorder-price-min-error":m,"order-limitorder-price-max-error":m,"order-orderstate-error":y,"order-queryorder-invalid":y,"order-update-error":v,"api-signature-check-failed":p,"api-signature-not-valid":p},options:{createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"}})}},{key:"fetchTradingLimits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,this.loadMarkets();case 4:void 0===t&&(t=this.symbols),i={},s=0;case 7:if(!(s<t.length)){e.next=15;break}return a=t[s],e.next=11,this.fetchTradingLimitsById(this.marketId(a),r);case 11:i[a]=e.sent;case 12:s++,e.next=7;break;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingLimitsById",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},i={symbol:t},e.next=4,this.publicGetCommonExchange(this.extend(i,r));case 4:return s=e.sent,e.abrupt("return",this.parseTradingLimits(this.safeValue(s,"data",{})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTradingLimits",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{info:e,limits:{amount:{min:this.safeFloat(e,"limit-order-must-greater-than"),max:this.safeFloat(e,"limit-order-must-less-than")}}}}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},t=this.options.fetchMarketsMethod,e.next=4,this[t]();case 4:if(r=e.sent,i=r.data,!(i.length<1)){e.next=9;break}throw new f(this.id+" publicGetCommonSymbols returned empty response: "+this.json(i));case 9:for(s=[],a=0;a<i.length;a++)o=i[a],c=o["base-currency"],u=o["quote-currency"],d=c.toUpperCase(),h=u.toUpperCase(),l=c+u,d=this.commonCurrencyCode(d),h=this.commonCurrencyCode(h),p=d+"/"+h,v={amount:o["amount-precision"],price:o["price-precision"]},m="OMG"===d?0:.002,y="OMG"===d?0:.002,s.push({id:l,symbol:p,base:d,quote:h,baseId:c,quoteId:u,active:!0,precision:v,taker:y,maker:m,limits:{amount:{min:Math.pow(10,-v.amount),max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:0,max:void 0}},info:o});return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"ts"),i=void 0,s=void 0,a=void 0,o=void 0;"bid"in e&&Array.isArray(e.bid)&&(i=this.safeFloat(e.bid,0),a=this.safeFloat(e.bid,1)),"ask"in e&&Array.isArray(e.ask)&&(s=this.safeFloat(e.ask,0),o=this.safeFloat(e.ask,1));var c=this.safeFloat(e,"open"),u=this.safeFloat(e,"close"),d=void 0,h=void 0,l=void 0;void 0!==c&&void 0!==u&&(d=u-c,l=this.sum(c,u)/2,void 0!==u&&u>0&&(h=d/c*100));var p=this.safeFloat(e,"amount"),f=this.safeFloat(e,"vol"),v=void 0;return void 0!==p&&void 0!==f&&p>0&&(v=f/p),{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:i,bidVolume:a,ask:s,askVolume:o,vwap:v,open:c,close:u,last:u,previousClose:void 0,change:d,percentage:h,average:l,baseVolume:p,quoteVolume:f,info:e}}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.marketGetDepth(this.extend({symbol:i.id,type:"step0"},r));case 7:if(!("tick"in(s=e.sent))){e.next=15;break}if(s.tick){e.next=11;break}throw new f(this.id+" fetchOrderBook() returned empty response: "+this.json(s));case 11:return a=s.tick,(o=this.parseOrderBook(a,a.ts)).nonce=a.version,e.abrupt("return",o);case 15:throw new f(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.marketGetDetailMerged(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.tick,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.marketGetTickers(t);case 6:for(r=e.sent,i=r.data,s=this.safeInteger(r,"ts"),a={},o=0;o<i.length;o++)c=this.safeString(i[o],"symbol"),u=this.safeValue(this.markets_by_id,c),d=c,void 0!==u&&(d=u.symbol,(h=this.parseTicker(i[o],u)).timestamp=s,h.datetime=this.iso8601(s),a[d]=h);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=this.safeString(e,"symbol");n in this.markets_by_id&&(t=this.markets_by_id[n])}void 0!==t&&(r=t.symbol);var i=this.safeInteger2(e,"ts","created-at"),s=this.safeString(e,"order-id"),a=this.safeString(e,"direction"),o=this.safeString(e,"type");if(void 0!==o){var c=o.split("-");a=c[0],o=c[1]}var u=this.safeFloat(e,"price"),d=this.safeFloat2(e,"filled-amount","amount"),h=void 0;void 0!==u&&void 0!==d&&(h=d*u);var l=void 0,p=this.safeFloat(e,"filled-fees"),f=void 0;void 0!==t&&(f="buy"===a?t.base:t.quote);var v=this.safeFloat(e,"filled-points");return void 0!==v&&(void 0!==p&&0!==p||(p=v,f=this.commonCurrencyCode("HBPOINT"))),void 0!==p&&(l={cost:p,currency:f}),{info:e,id:this.safeString(e,"id"),order:s,timestamp:i,datetime:this.iso8601(i),symbol:r,type:o,side:a,price:u,amount:d,cost:h,fee:l}}},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrderMatchresults(s);case 8:return a=e.sent,o=this.parseTrades(a.data,void 0,r,i),void 0!==t&&(c=this.market(t),o=this.filterBySymbol(o,c.symbol)),e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:void 0,i=v.length>2&&void 0!==v[2]?v[2]:1e3,s=v.length>3&&void 0!==v[3]?v[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.size=i),e.next=10,this.marketGetHistoryTrade(this.extend(o,s));case 10:for(c=e.sent,u=c.data,d=[],h=0;h<u.length;h++)for(l=u[h].data,p=0;p<l.length;p++)f=this.parseTrade(l[p],a),d.push(f);return d=this.sortBy(d,"timestamp"),e.abrupt("return",this.filterBySymbolSinceLimit(d,t,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.id,e.open,e.high,e.low,e.close,e.amount]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:1e3,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,period:this.timeframes[r]},void 0!==s&&(c.size=s),e.next=11,this.marketGetHistoryKline(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data,o,r,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadAccounts",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],r=i.length>1&&void 0!==i[1]?i[1]:{},!t){e.next=8;break}return e.next=5,this.fetchAccounts(r);case 5:this.accounts=e.sent,e.next=16;break;case 8:if(!this.accounts){e.next=12;break}return e.abrupt("return",this.accounts);case 12:return e.next=14,this.fetchAccounts();case 14:this.accounts=e.sent,this.accountsById=this.indexBy(this.accounts,"id");case 16:return e.abrupt("return",this.accounts);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAccounts",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountAccounts(t);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetSettingsCurrencys(this.extend({language:this.options.language},t));case 3:for(r=e.sent,i=r.data,s={},a=0;a<i.length;a++)o=i[a],c=this.safeValue(o,"name"),u=this.safeInteger(o,"withdraw-precision"),d=this.commonCurrencyCode(c.toUpperCase()),h=o.visible&&o["deposit-enabled"]&&o["withdraw-enabled"],s[d]={id:c,code:d,type:"crypto",name:o["display-name"],active:h,fee:void 0,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(o,"deposit-min-amount"),max:Math.pow(10,u)},withdraw:{min:this.safeFloat(o,"withdraw-min-amount"),max:Math.pow(10,u)}},info:o};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.loadAccounts();case 5:return r=this.options.fetchBalanceMethod,e.next=8,this[r](this.extend({id:this.accounts[0].id},t));case 8:for(i=e.sent,s=i.data.list,a={info:i},o=0;o<s.length;o++)c=s[o],u=c.currency.toUpperCase(),d=this.commonCurrencyCode(u),h=void 0,h=d in a?a[d]:this.account(),"trade"===c.type&&(h.free=parseFloat(c.balance)),"frozen"===c.type&&(h.used=parseFloat(c.balance)),h.total=this.sum(h.free,h.used),a[d]=h;return e.abrupt("return",this.parseBalance(a));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrdersByStates",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o={states:t},c=void 0,void 0!==r&&(c=this.market(r),o.symbol=c.id),e.next=11,this.privateGetOrderOrders(this.extend(o,a));case 11:return u=e.sent,e.abrupt("return",this.parseOrders(u.data,c,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStates("filled,partial-canceled,canceled",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrderOrdersId(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.data));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=void 0,i=void 0,s=void 0;if("type"in e){var a=e.type.split("-");n=a[0],i=a[1],s=this.parseOrderStatus(this.safeString(e,"state"))}var o=void 0;if(void 0===t&&"symbol"in e&&e.symbol in this.markets_by_id){var c=e.symbol;t=this.markets_by_id[c]}void 0!==t&&(o=t.symbol);var u=this.safeInteger(e,"created-at"),d=this.safeFloat(e,"amount"),h=this.safeFloat(e,"field-amount");"market"===i&&"buy"===n&&(d="closed"===s?h:void 0);var l=this.safeFloat(e,"price");0===l&&(l=void 0);var p=this.safeFloat(e,"field-cash-amount"),f=void 0,v=void 0;void 0!==h&&(void 0!==d&&(f=d-h),void 0!==p&&h>0&&(v=p/h));var m=this.safeFloat(e,"field-fees"),y=void 0;if(void 0!==m){var g=void 0;void 0!==t&&(g="sell"===n?t.quote:t.base),y={cost:m,currency:g}}return{info:e,id:r,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:o,type:i,side:n,price:l,average:v,cost:p,amount:d,filled:h,remaining:f,status:s,fee:y}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.loadAccounts();case 6:if(c=this.market(t),u={"account-id":this.accounts[0].id,amount:this.amountToPrecision(t,s),symbol:c.id,type:i+"-"+r},!this.options.createMarketBuyOrderRequiresPrice){e.next=15;break}if("market"!==r||"buy"!==i){e.next=15;break}if(void 0!==a){e.next=14;break}throw new m(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");case 14:u.amount=this.amountToPrecision(t,parseFloat(s)*parseFloat(a));case 15:return"limit"!==r&&"ioc"!==r&&"limit-maker"!==r||(u.price=this.priceToPrecision(t,a)),d=this.options.createOrderMethod,e.next=19,this[d](this.extend(u,o));case 19:return h=e.sent,l=this.milliseconds(),e.abrupt("return",{info:h,id:h.data,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:i,price:a,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 22:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostOrderOrdersIdSubmitcancel({id:t});case 4:return r=e.sent,e.abrupt("return",this.extend(this.parseOrder(r),{id:t,status:"canceled"}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privateGetDwDepositVirtualAddresses(this.extend({currency:i.id.toLowerCase()},r));case 6:return s=e.sent,a=this.safeString(s,"data"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:void 0,info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currencyToPrecision",value:function(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[s],c=n*o,u="quote";return"sell"===r?c*=i:u="base",{type:s,currency:a[u],rate:o,cost:parseFloat(this.currencyToPrecision(a[u],c))}}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=4,this.loadMarkets();case 4:return this.checkAddress(i),o=this.currency(t),c={address:i,amount:r,currency:o.id.toLowerCase()},void 0!==s&&(c["addr-tag"]=s),e.next=10,this.privatePostDwWithdrawApiCreate(this.extend(c,a));case 10:return u=e.sent,d=void 0,"data"in u&&(d=u.data),e.abrupt("return",{info:u,id:d});case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/";"market"===t?a+=t:"public"!==t&&"private"!==t||(a+=this.version),a+="/"+this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.ymdhms(this.milliseconds(),"T"),u=this.keysort(this.extend({SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:c},o)),d=this.urlencode(u),h=[r,this.hostname,a,d].join("\n"),l=this.hmac(this.encode(h),this.encode(this.secret),"sha256","base64");a+="?"+(d+="&"+this.urlencode({Signature:l})),"POST"===r?(s=this.json(o),i={"Content-Type":"application/json"}):i={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a=this.urls.api[t]+a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&(!(s.length<2)&&("{"===s[0]||"["===s[0])&&"status"in a&&"error"===this.safeString(a,"status"))){var o=this.safeString(a,"err-code"),c=this.id+" "+this.json(a),u=this.exceptions;if(o in u)throw new u[o](c);throw new f(c)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.InvalidNonce,m=l.OrderNotFound,y=l.InvalidOrder,g=l.InsufficientFunds,b=l.AuthenticationError,k=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"liquid",name:"Liquid",countries:["JP","CN","TW"],version:"2",rateLimit:1e3,has:{CORS:!1,fetchTickers:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/45798859-1a872600-bcb4-11e8-8746-69291ce87b04.jpg",api:"https://api.liquid.com",www:"https://www.liquid.com",doc:["https://developers.quoine.com","https://developers.quoine.com/v2"],fees:"https://help.liquid.com/getting-started-with-liquid/the-platform/fee-structure",referral:"https://www.liquid.com?affiliate=SbzC62lt30976"},api:{public:{get:["currencies","products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}"]},private:{get:["accounts/balance","accounts/main_asset","crypto_accounts","executions/me","fiat_accounts","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","orders/{id}/executions","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}","transactions"],post:["fiat_accounts","loan_bids","orders"],put:["loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/close","trades/close_all","trading_accounts/{id}"]}},skipJsonOnStatusCodes:[401],exceptions:{"API rate limit exceeded. Please retry after 300s":k,"API Authentication failed":b,"Nonce is too small":v,"Order not found":m,"Can not update partially filled order":y,"Can not update non-live order":m,not_enough_free_balance:g,must_be_positive:y,less_than_order_size:y},commonCurrencies:{WIN:"WCOIN"},options:{cancelOrderException:!0}})}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=this.safeString(a,"currency"),c=this.commonCurrencyCode(o),u=a.depositable&&a.withdrawable,d=this.safeInteger(a,"display_precision"),h=this.safeInteger(a,"quoting_precision"),l=Math.max(d,h),i[c]={id:o,code:c,info:a,name:c,active:u,fee:this.safeFloat(a,"withdrawal_fee"),precision:l,limits:{amount:{min:Math.pow(10,-d),max:Math.pow(10,d)},price:{min:Math.pow(10,-h),max:Math.pow(10,h)},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(a,"minimum_withdrawal"),max:void 0}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _.length>0&&void 0!==_[0]?_[0]:{},e.next=3,this.publicGetProducts();case 3:return t=e.sent,e.next=6,this.fetchCurrencies();case 6:for(r=e.sent,i=this.indexBy(r,"code"),s=[],a=0;a<t.length;a++)o=t[a],c=o.id.toString(),u=o.base_currency,d=o.quoted_currency,h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f=this.safeFloat(o,"maker_fee"),v=this.safeFloat(o,"taker_fee"),m=!o.disabled,y=this.safeValue(i,h),g=this.safeValue(i,l),b={amount:8,price:8},k=void 0,void 0!==y&&(k=this.safeFloat(y.info,"minimum_order_quantity"),b.amount=this.safeInteger(y.info,"quoting_precision")),w=void 0,void 0!==g&&(b.price=this.safeInteger(g.info,"display_precision"),w=Math.pow(10,-b.price)),x=void 0,void 0!==w&&void 0!==k&&(x=w*k),T={amount:{min:k,max:void 0},price:{min:w,max:void 0},cost:{min:x,max:void 0}},s.push({id:c,symbol:p,base:h,quote:l,baseId:u,quoteId:d,maker:f,taker:v,limits:T,precision:b,active:m,info:o});return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountsBalance(t);case 5:for(r=e.sent,i={info:r},s=0;s<r.length;s++)a=r[s],o=a.currency,c=o,o in this.currencies_by_id&&(c=this.currencies_by_id[o].code),u=parseFloat(a.balance),d={free:u,used:void 0,total:u},i[c]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetProductsIdPriceLevels(this.extend({id:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"buy_price_levels","sell_price_levels"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;"last_traded_price"in e&&(e.last_traded_price&&e.last_traded_price.length>0&&(n=this.safeFloat(e,"last_traded_price")));var i=void 0;if(void 0===t){var s=this.safeString(e,"id");if(s in this.markets_by_id)t=this.markets_by_id[s];else{var a=this.safeString(e,"base_currency"),o=this.safeString(e,"quoted_currency");i in this.markets?t=this.markets[i]:i=this.commonCurrencyCode(a)+"/"+this.commonCurrencyCode(o)}}void 0!==t&&(i=t.symbol);var c=void 0,u=void 0,d=void 0,h=this.safeFloat(e,"last_price_24h");return void 0!==h&&void 0!==n&&(c=n-h,d=this.sum(n,h)/2,h>0&&(u=c/h*100)),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_market_ask"),low:this.safeFloat(e,"low_market_bid"),bid:this.safeFloat(e,"market_bid"),bidVolume:void 0,ask:this.safeFloat(e,"market_ask"),askVolume:void 0,vwap:void 0,open:h,close:n,last:n,previousClose:void 0,change:c,percentage:u,average:d,baseVolume:this.safeFloat(e,"volume_24h"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetProducts(t);case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=this.parseTicker(r[s]),o=a.symbol,i[o]=a;return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetProductsId(this.extend({id:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.created_at,n=this.safeString(e,"order_id"),i=this.safeString(e,"taker_side"),s=this.safeString(e,"my_side"),a=void 0!==s?s:i,o=void 0;void 0!==s&&(o=i===s?"taker":"maker");var c=void 0,u=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity");return void 0!==u&&void 0!==d&&(c=u*d),{info:e,id:e.id.toString(),order:n,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:a,takerOrMaker:o,price:u,amount:d,cost:c,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={product_id:a.id},void 0!==i&&(o.limit=i),void 0!==r&&(o.timestamp=parseInt(r/1e3)),e.next=11,this.publicGetExecutions(this.extend(o,s));case 11:return c=e.sent,u=void 0!==r?c:c.models,e.abrupt("return",this.parseTrades(u,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={product_id:a.id,with_details:!0},void 0!==i&&(o.limit=i),e.next=11,this.privateGetExecutionsMe(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.models,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={order_type:r,product_id:this.marketId(t),side:i,quantity:this.amountToPrecision(t,s)},"limit"===r&&(c.price=this.priceToPrecision(t,a)),e.next=8,this.privatePostOrders(this.extend(c,o));case 8:return u=e.sent,e.abrupt("return",this.parseOrder(u));case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePutOrdersIdCancel(this.extend({id:t},r));case 6:if(i=e.sent,"closed"!==(s=this.parseOrder(i)).status){e.next=11;break}if(!this.options.cancelOrderException){e.next=11;break}throw new m(this.id+" order closed already: "+this.json(i));case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editOrder",value:function(){var e=i(n.mark(function e(t,r,i,s,a){var o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>5&&void 0!==d[5]?d[5]:void 0,d.length>6&&void 0!==d[6]?d[6]:{},e.next=4,this.loadMarkets();case 4:if(void 0!==o){e.next=6;break}throw new f(this.id+" editOrder requires the price argument");case 6:return c={order:{quantity:this.amountToPrecision(r,a),price:this.priceToPrecision(r,o)}},e.next=9,this.privatePutOrdersId(this.extend({id:t},c));case 9:return u=e.sent,e.abrupt("return",this.parseOrder(u));case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i,s){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({live:"open",filled:"closed",cancelled:"canceled"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"id"),n=this.safeInteger(e,"created_at");void 0!==n&&(n*=1e3);var i=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,i);var s=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeFloat(e,"quantity"),o=this.safeFloat(e,"filled_quantity"),c=this.safeFloat(e,"price"),u=void 0,d=void 0;void 0!==t&&(u=t.symbol,d=t.quote);var h=e.order_type,l=0,p=0,f=this.safeFloat(e,"average_price"),v=void 0;if("executions"in e){for(var m=(v=this.parseTrades(this.safeValue(e,"executions",[]),t)).length,y=0;y<m;y++){var g=v[y];g.order=r,g.type=h,l+=g.amount,p+=g.cost}!f&&m>0&&l>0&&(f=p/l)}var b=o*f;return{id:r,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,type:h,status:s,symbol:u,side:e.side,price:c,amount:a,filled:o,cost:b,remaining:a-o,trades:v,fee:{currency:d,cost:this.safeFloat(e,"order_fee")},info:e}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.product_id=a.id),(c=this.safeValue(s,"status"))&&(s=this.omit(s,"status"),"open"===c?o.status="live":"closed"===c?o.status="filled":"canceled"===c&&(o.status="cancelled")),void 0!==i&&(o.limit=i),e.next=14,this.privateGetOrders(this.extend(o,s));case 14:return u=e.sent,d=u.models,e.abrupt("return",this.parseOrders(d,a,r,i));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetchOrders(e,t,r,this.extend({status:"open"},n))}},{key:"fetchClosedOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetchOrders(e,t,r,this.extend({status:"closed"},n))}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if(i={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"private"===t){this.checkRequiredCredentials(),"GET"===r?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(s=this.json(o));var c=this.nonce(),u={path:a,nonce:c,token_id:this.apiKey,iat:Math.floor(c/1e3)};i["X-Quoine-Auth"]=this.jwt(u,this.secret)}else Object.keys(o).length&&(a+="?"+this.urlencode(o));return{url:a=this.urls.api+a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(e>=200&&e<300)){var o=this.exceptions;if(401!==e){if(429===e)throw new k(this.id+" "+s);if(void 0!==a){var c=this.id+" "+s,u=this.safeString(a,"message"),d=this.safeValue(a,"errors");if(void 0!==u){if(u in o)throw new o[u](c)}else{if(void 0===d)throw new p(c);for(var h=Object.keys(d),l=0;l<h.length;l++)for(var f=d[h[l]],v=0;v<f.length;v++){var m=f[v];if(m in o)throw new o[m](c)}}}}else if(s in o)throw new o[s](this.id+" "+s)}}}]),t}()},function(e,t,r){"use strict";var n=r(53),i=r(0),s=Object(n.a)({top:i.number,left:i.number,bottom:i.number,right:i.number}),a=r(42),o=r(54),c=Object(a.a)(o.a),u={accessibilityComponentType:i.string,accessibilityLabel:i.string,accessibilityLiveRegion:Object(i.oneOf)(["assertive","none","polite"]),accessibilityRole:i.string,accessibilityStates:Object(i.arrayOf)(Object(i.oneOf)(["disabled","selected","busy","checked","expanded","grabbed","invalid","pressed"])),accessibilityTraits:Object(i.oneOfType)([i.array,i.string]),accessible:i.bool,children:i.any,hitSlop:s,importantForAccessibility:Object(i.oneOf)(["auto","no","no-hide-descendants","yes"]),nativeID:i.string,onBlur:i.func,onClick:i.func,onClickCapture:i.func,onContextMenu:i.func,onFocus:i.func,onLayout:i.func,onMoveShouldSetResponder:i.func,onMoveShouldSetResponderCapture:i.func,onResponderGrant:i.func,onResponderMove:i.func,onResponderReject:i.func,onResponderRelease:i.func,onResponderTerminate:i.func,onResponderTerminationRequest:i.func,onStartShouldSetResponder:i.func,onStartShouldSetResponderCapture:i.func,onTouchCancel:i.func,onTouchCancelCapture:i.func,onTouchEnd:i.func,onTouchEndCapture:i.func,onTouchMove:i.func,onTouchMoveCapture:i.func,onTouchStart:i.func,onTouchStartCapture:i.func,pointerEvents:Object(i.oneOf)(["auto","box-none","box-only","none"]),style:c,testID:i.string,accessibilityViewIsModal:i.bool,collapsable:i.bool,needsOffscreenAlphaCompositing:i.bool,onAccessibilityTap:i.func,onMagicTap:i.func,removeClippedSubviews:i.bool,renderToHardwareTextureAndroid:i.bool,shouldRasterizeIOS:i.bool,tvParallaxProperties:i.object};t.a=u},function(e,t,r){"use strict";function n(e,t,r,n,i,s,a){try{var o=e[s](a),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var a=e.apply(t,r);function o(e){n(a,i,s,o,c,"next",e)}function c(e){n(a,i,s,o,c,"throw",e)}o(void 0)})}}r.d(t,"a",function(){return i})},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){"use strict";var n=r(57).unCamelCase;e.exports=function(e){for(var t in e)e[n(t)]=e[t];return e}(Object.assign({},r(126),r(128),r(57),r(58),r(19),r(74),r(158),r(80),r(164),r(165)))},function(e,t,r){"use strict";var n=r(75),i=r(155);e.exports={json:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return JSON.stringify(e)},unjson:JSON.parse,stringToBinary:function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return n.lib.WordArray.create(t)},stringToBase64:function(e){return n.enc.Latin1.parse(e).toString(n.enc.Base64)},utf16ToBase64:function(e){return n.enc.Utf16.parse(e).toString(n.enc.Base64)},base64ToBinary:function(e){return n.enc.Base64.parse(e)},base64ToString:function(e){return n.enc.Base64.parse(e).toString(n.enc.Utf8)},binaryToString:function(e){return e},binaryConcat:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return e.concat(t)})},urlencode:function(e){return i.stringify(e)},rawencode:function(e){return i.stringify(e,{encode:!1})},urlencodeBase64:function(e){return e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}}},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(48),r(132),r(133),r(33),r(34),r(59),r(76),r(134),r(77),r(135),r(136),r(137),r(60),r(138),r(20),r(18),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),s)}()},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(e){var t=i,r=t.lib,n=r.WordArray,s=r.Hasher,a=t.algo,o=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(o[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var u=[],d=a.SHA256=s.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],d=r[5],h=r[6],l=r[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var f=u[p-15],v=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=u[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=v+u[p-7]+y+u[p-16]}var g=n&i^n&s^i&s,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),k=l+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&h)+c[p]+u[p];l=h,h=d,d=o,o=a+k|0,a=s,s=i,i=n,n=k+(b+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+o|0,r[5]=r[5]+d|0,r[6]=r[6]+h|0,r[7]=r[7]+l|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(d),t.HmacSHA256=s._createHmacHelper(d)}(Math),i.SHA256)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(48),function(){var e=s,t=e.lib.Hasher,r=e.x64,n=r.Word,i=r.WordArray,a=e.algo;function o(){return n.create.apply(n,arguments)}var c=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=o()}();var d=a.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],d=r[5],h=r[6],l=r[7],p=n.high,f=n.low,v=i.high,m=i.low,y=s.high,g=s.low,b=a.high,k=a.low,w=o.high,x=o.low,T=d.high,_=d.low,C=h.high,O=h.low,S=l.high,E=l.low,B=p,I=f,A=v,M=m,P=y,F=g,R=b,D=k,L=w,N=x,q=T,G=_,U=C,V=O,j=S,H=E,K=0;K<80;K++){var W=u[K];if(K<16)var z=W.high=0|e[t+2*K],X=W.low=0|e[t+2*K+1];else{var Y=u[K-15],Z=Y.high,Q=Y.low,J=(Z>>>1|Q<<31)^(Z>>>8|Q<<24)^Z>>>7,$=(Q>>>1|Z<<31)^(Q>>>8|Z<<24)^(Q>>>7|Z<<25),ee=u[K-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),se=u[K-7],ae=se.high,oe=se.low,ce=u[K-16],ue=ce.high,de=ce.low;z=(z=(z=J+ae+((X=$+oe)>>>0<$>>>0?1:0))+ne+((X+=ie)>>>0<ie>>>0?1:0))+ue+((X+=de)>>>0<de>>>0?1:0),W.high=z,W.low=X}var he,le=L&q^~L&U,pe=N&G^~N&V,fe=B&A^B&P^A&P,ve=I&M^I&F^M&F,me=(B>>>28|I<<4)^(B<<30|I>>>2)^(B<<25|I>>>7),ye=(I>>>28|B<<4)^(I<<30|B>>>2)^(I<<25|B>>>7),ge=(L>>>14|N<<18)^(L>>>18|N<<14)^(L<<23|N>>>9),be=(N>>>14|L<<18)^(N>>>18|L<<14)^(N<<23|L>>>9),ke=c[K],we=ke.high,xe=ke.low,Te=j+ge+((he=H+be)>>>0<H>>>0?1:0),_e=ye+ve;j=U,H=V,U=q,V=G,q=L,G=N,L=R+(Te=(Te=(Te=Te+le+((he+=pe)>>>0<pe>>>0?1:0))+we+((he+=xe)>>>0<xe>>>0?1:0))+z+((he+=X)>>>0<X>>>0?1:0))+((N=D+he|0)>>>0<D>>>0?1:0)|0,R=P,D=F,P=A,F=M,A=B,M=I,B=Te+(me+fe+(_e>>>0<ye>>>0?1:0))+((I=he+_e|0)>>>0<he>>>0?1:0)|0}f=n.low=f+I,n.high=p+B+(f>>>0<I>>>0?1:0),m=i.low=m+M,i.high=v+A+(m>>>0<M>>>0?1:0),g=s.low=g+F,s.high=y+P+(g>>>0<F>>>0?1:0),k=a.low=k+D,a.high=b+R+(k>>>0<D>>>0?1:0),x=o.low=x+N,o.high=w+L+(x>>>0<N>>>0?1:0),_=d.low=_+G,d.high=T+q+(_>>>0<G>>>0?1:0),O=h.low=O+V,h.high=C+U+(O>>>0<V>>>0?1:0),E=l.low=E+H,l.high=S+j+(E>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(d),e.HmacSHA512=t._createHmacHelper(d)}(),s.SHA512)}()},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,i){if(!r)return e;if("object"!==typeof r){if(Array.isArray(e))e.push(r);else{if("object"!==typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!==typeof e)return[e].concat(r);var s=e;return Array.isArray(e)&&!Array.isArray(r)&&(s=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,s){n.call(e,s)?e[s]&&"object"===typeof e[s]?e[s]=t.merge(e[s],r,i):e.push(r):e[s]=r}),e):Object.keys(r).reduce(function(e,s){var a=r[s];return n.call(e,s)?e[s]=t.merge(e[s],a,i):e[s]=a,e},s)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",n=0;n<t.length;++n){var s=t.charCodeAt(n);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+=t.charAt(n):s<128?r+=i[s]:s<2048?r+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?r+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(n+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(n)),r+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],a=Object.keys(s),o=0;o<a.length;++o){var c=a[o],u=s[c];"object"===typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:s,prop:c}),r.push(u))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)"undefined"!==typeof t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(4),o=r(1),c=r(5),u=r(161),d=Date.now,h=setTimeout,l=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d()+r,s=function(){},a=!0,o=n(function(){a=!0;var r=i-d();r>0?s=e(t,r,n,i):t()},r);return function(){a&&(a=!1,clearTimeout(o)),s()}},p=function(e){function t(){var e;s(this,t);return(e=a(this,o(t).call(this,"timed out"))).constructor=t,e.__proto__=t.prototype,e.message="timed out",e}return c(t,e),t}(u(Error));e.exports={now:d,setTimeout_safe:l,sleep:function(e){return new Promise(function(t){return l(t,e)})},TimedOut:p,timeout:function(){var e=i(n.mark(function e(t,r){var i,s;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){},s=new Promise(function(e){return i=l(e,t)}),e.prev=2,e.next=5,Promise.race([r,s.then(function(){throw new p})]);case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,i(),e.finish(6);case 9:case"end":return e.stop()}},e,this,[[2,,6,9]])}));return function(t,r){return e.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"_1btcxe",name:"1BTCXE",countries:["PA"],comment:"Crypto Capital API",has:{CORS:!0,withdraw:!0},timeframes:{"1d":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766049-2b294408-5ecc-11e7-85cc-adaff013dc1a.jpg",api:"https://1btcxe.com/api",www:"https://1btcxe.com",doc:"https://1btcxe.com/api-docs.php"},api:{public:{get:["stats","historical-prices","order-book","transactions"]},private:{post:["balances-and-info","open-orders","user-transactions","btc-deposit-address/get","btc-deposit-address/new","deposits/get","withdrawals/get","orders/new","orders/edit","orders/cancel","orders/status","withdrawals/new"]}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:{},e.abrupt("return",[{id:"USD",symbol:"BTC/USD",base:"BTC",quote:"USD"},{id:"EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},{id:"CNY",symbol:"BTC/CNY",base:"BTC",quote:"CNY"},{id:"RUB",symbol:"BTC/RUB",base:"BTC",quote:"RUB"},{id:"CHF",symbol:"BTC/CHF",base:"BTC",quote:"CHF"},{id:"JPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY"},{id:"GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP"},{id:"CAD",symbol:"BTC/CAD",base:"BTC",quote:"CAD"},{id:"AUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD"},{id:"AED",symbol:"BTC/AED",base:"BTC",quote:"AED"},{id:"BGN",symbol:"BTC/BGN",base:"BTC",quote:"BGN"},{id:"CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK"},{id:"DKK",symbol:"BTC/DKK",base:"BTC",quote:"DKK"},{id:"HKD",symbol:"BTC/HKD",base:"BTC",quote:"HKD"},{id:"HRK",symbol:"BTC/HRK",base:"BTC",quote:"HRK"},{id:"HUF",symbol:"BTC/HUF",base:"BTC",quote:"HUF"},{id:"ILS",symbol:"BTC/ILS",base:"BTC",quote:"ILS"},{id:"INR",symbol:"BTC/INR",base:"BTC",quote:"INR"},{id:"MUR",symbol:"BTC/MUR",base:"BTC",quote:"MUR"},{id:"MXN",symbol:"BTC/MXN",base:"BTC",quote:"MXN"},{id:"NOK",symbol:"BTC/NOK",base:"BTC",quote:"NOK"},{id:"NZD",symbol:"BTC/NZD",base:"BTC",quote:"NZD"},{id:"PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},{id:"RON",symbol:"BTC/RON",base:"BTC",quote:"RON"},{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"},{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},{id:"THB",symbol:"BTC/THB",base:"BTC",quote:"THB"},{id:"TRY",symbol:"BTC/TRY",base:"BTC",quote:"TRY"},{id:"ZAR",symbol:"BTC/ZAR",base:"BTC",quote:"ZAR"}]);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalancesAndInfo();case 3:for(t=e.sent,r=t["balances-and-info"],i={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],(c=this.account()).free=this.safeFloat(r.available,o,0),c.used=this.safeFloat(r.on_hold,o,0),c.total=this.sum(c.free,c.used),i[o]=c;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetOrderBook(this.extend({currency:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i["order-book"],void 0,"bid","ask","price","order_amount"));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.publicGetStats(this.extend({currency:this.marketId(t)},r));case 3:return i=e.sent,s=i.stats,a=this.safeFloat(s,"last_price"),e.abrupt("return",{symbol:t,timestamp:void 0,datetime:void 0,high:this.safeFloat(s,"max"),low:this.safeFloat(s,"min"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(s,"open"),close:a,last:a,previousClose:void 0,change:this.safeFloat(s,"daily_change"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(s,"total_btc_traded"),info:s});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.date+" 00:00:00"),void 0,void 0,void 0,parseFloat(e.price),void 0]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1d",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},o=this.market(t),e.next=7,this.publicGetHistoricalPrices(this.extend({currency:o.id,timeframe:this.timeframes[r]},a));case 7:return c=e.sent,u=this.toArray(this.omit(c["historical-prices"],"request_currency")),e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.timestamp);return{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:void 0,type:void 0,side:e.maker_type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},a=this.market(t),o={currency:a.id},void 0!==i&&(o.limit=i),e.next=8,this.publicGetTransactions(this.extend(o,s));case 8:return c=e.sent,u=this.toArray(this.omit(c.transactions,"request_currency")),e.abrupt("return",this.parseTrades(u,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},c={side:i,type:r,currency:this.marketId(t),amount:s},"limit"===r&&(c.limit_price=a),e.next=6,this.privatePostOrdersNew(this.extend(c,o));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u});case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrdersCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),o={currency:a.id,amount:parseFloat(r),address:i},e.next=9,this.privatePostWithdrawalsNew(this.extend(o,s));case 9:return c=e.sent,e.abrupt("return",{info:c,id:c.result.uuid});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("cryptocapital"===this.id)throw new l(this.id+" is an abstract base API for _1btcxe");var a=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.extend({api_key:this.apiKey,nonce:this.nonce()},n),c=this.json(o);o.signature=this.hmac(this.encode(c),this.encode(this.secret)),s=this.json(o),i={"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:"public",i=p.length>2&&void 0!==p[2]?p[2]:"GET",s=p.length>3&&void 0!==p[3]?p[3]:{},a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("errors"in(c=e.sent))){e.next=13;break}for(u=[],d=0;d<c.errors.length;d++)h=c.errors[d],u.push(h.code+": "+h.message);throw u=u.join(" "),new l(this.id+" "+u);case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.InvalidNonce;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitsane",name:"Bitsane",countries:["IE"],has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41387105-d86bf4c6-6f8d-11e8-95ea-2fa943872955.jpg",api:"https://bitsane.com/api",www:"https://bitsane.com",doc:"https://bitsane.com/help/api",fees:"https://bitsane.com/help/fees"},api:{public:{get:["assets/currencies","assets/pairs","ticker","orderbook","trades"]},private:{post:["balances","order/cancel","order/new","order/status","orders","orders/history","deposit/address","withdraw","withdrawal/status","transactions/history","vouchers","vouchers/create","vouchers/redeem"]}},fees:{trading:{maker:.0015,taker:.0025}},exceptions:{3:f,4:f,5:f,6:v,7:f,8:v,9:f,10:f,11:f},options:{defaultCurrencyPrecision:2}})}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetAssetsCurrencies(t);case 3:for(r=e.sent,i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=r[o],u=this.safeInteger(c,"precision",this.options.defaultCurrencyPrecision),d=this.commonCurrencyCode(o),h=this.safeValue(c,"withdrawal",!0),l=this.safeValue(c,"deposit",!0),p=!0,h&&l||(p=!1),s[d]={id:o,code:d,name:this.safeString(c,"full_name",d),active:p,precision:u,funding:{withdraw:{active:h,fee:this.safeValue(c,"withdrawal_fee")},deposit:{active:l,fee:this.safeValue(c,"deposit_fee")}},limits:{amount:{min:this.safeFloat(c,"minAmountTrade"),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0}},info:c};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetAssetsPairs();case 3:for(t=e.sent,r=[],i=Object.keys(t),s=0;s<i.length;s++)a=i[s],o=t[a],c=this.commonCurrencyCode(o.base),u=this.commonCurrencyCode(o.quote),d=c+"/"+u,h=this.safeValue(o,"limits"),l=void 0,p=void 0,void 0!==h&&(l=this.safeFloat(h,"minimum"),p=this.safeFloat(h,"maximum")),f={amount:parseInt(o.precision),price:8},r.push({id:a,symbol:d,base:c,quote:u,baseId:o.base,quoteId:o.quote,active:!0,precision:f,limits:{amount:{min:l,max:p},price:{min:Math.pow(10,-f.price),max:Math.pow(10,f.price)},cost:{min:void 0,max:void 0}},info:a});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=this.milliseconds(),n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"percentChange"),average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.fetchTickers([t],r);case 3:return i=e.sent,e.abrupt("return",i[t]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:void 0,r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=4,this.loadMarkets();case 4:return i={},t&&(s=this.marketIds(t),i.pairs=s.join(",")),e.next=8,this.publicGetTicker(this.extend(i,r));case 8:a=e.sent,o=Object.keys(a),c={},u=0;case 12:if(!(u<o.length)){e.next=23;break}if(d=o[u],void 0!==(h=this.safeValue(this.marketsById,d))){e.next=17;break}return e.abrupt("continue",20);case 17:l=h.symbol,p=a[d],c[l]=this.parseTicker(p,h);case 20:u++,e.next=12;break;case 23:return e.abrupt("return",c);case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(this.extend({pair:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i.result,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=1e3*parseInt(e.timestamp),n=parseFloat(e.price),i=parseFloat(e.amount),s=this.costToPrecision(t,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:t,id:this.safeString(e,"tid"),order:void 0,type:void 0,side:void 0,price:n,amount:i,cost:parseFloat(s),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={pair:a.id},void 0!==r&&(o.since=parseInt(r/1e3)),void 0!==i&&(o.limit=i),e.next=11,this.publicGetTrades(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.result,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances(t);case 5:for(r=e.sent,i={info:r},s=r.result,a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=s[c],d=c,d=c in this.currencies_by_id?this.currencies_by_id[c].code:this.commonCurrencyCode(d),h={free:parseFloat(u.amount),used:parseFloat(u.locked),total:parseFloat(u.total)},i[d]=h;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t||(t=this.safeValue(this.marketsById,e.pair)),t&&(r=t.symbol);var n=1e3*this.safeInteger(e,"timestamp"),i=parseFloat(e.price),s=this.safeFloat(e,"original_amount"),a=this.safeFloat(e,"executed_amount"),o=this.safeFloat(e,"remaining_amount"),c="closed";return e.is_cancelled?c="canceled":e.is_live&&(c="open"),{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,status:c,symbol:r,type:this.safeString(e,"type"),side:this.safeString(e,"side"),price:i,cost:void 0,amount:s,filled:a,remaining:o,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={pair:c.id,amount:s,type:r,side:i},"market"!==r&&(u.price=a),e.next=9,this.privatePostOrderNew(this.extend(u,o));case 9:return d=e.sent,u.id=d.result.order_id,u.timestamp=this.seconds(),u.original_amount=u.amount,u.info=d,u=this.parseOrder(u,c),h=u.id,this.orders[h]=u,e.abrupt("return",u);case 18:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.privatePostOrderCancel(this.extend({order_id:t},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrder(i.result));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({order_id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.result));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:void 0,t=s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostOrders();case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i.result,void 0,t,r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostDepositAddress(this.extend({currency:i.id},r));case 6:return s=e.sent,a=this.safeString(s.result,"address"),e.abrupt("return",{currency:t,address:a,tag:void 0,info:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return o=this.currency(t),c={currency:o.id,amount:r,address:i},s&&(c.additional=s),e.next=9,this.privatePostWithdraw(this.extend(c,a));case 9:return u=e.sent,e.abrupt("return",{id:u.result.withdrawal_id,info:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+t+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials(),s=this.extend({nonce:this.nonce()},n);var o=this.json(s),c=this.stringToBase64(this.encode(o));s=this.decode(c),i={"X-BS-APIKEY":this.apiKey,"X-BS-PAYLOAD":s,"X-BS-SIGNATURE":this.hmac(c,this.encode(this.secret),"sha384")}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeString(a,"statusCode");if(void 0!==o&&"0"!==o){var c=this.id+" "+this.json(a),u=this.exceptions;throw o in u?new u[o](c):new p(this.id+" "+this.json(a))}return a}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ExchangeNotAvailable,m=p.AuthenticationError,y=p.InvalidOrder,g=p.InsufficientFunds,b=p.OrderNotFound,k=p.DDoSProtection,w=p.PermissionDenied,x=p.AddressPending,T=r(19),_=T.TRUNCATE,C=T.DECIMAL_PLACES;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bittrex",name:"Bittrex",countries:["US"],version:"v1.1",rateLimit:1500,certified:!0,has:{CORS:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1},timeframes:{"1m":"oneMin","5m":"fiveMin","30m":"thirtyMin","1h":"hour","1d":"day"},hostname:"bittrex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/27766352-cf0b3c26-5ed5-11e7-82b7-f3826b7a97d8.jpg",api:{public:"https://{hostname}/api",account:"https://{hostname}/api",market:"https://{hostname}/api",v2:"https://{hostname}/api/v2.0/pub"},www:"https://bittrex.com",doc:["https://bittrex.github.io/api/","https://www.npmjs.com/package/bittrex-node"],fees:["https://bittrex.zendesk.com/hc/en-us/articles/115003684371-BITTREX-SERVICE-FEES-AND-WITHDRAWAL-LIMITATIONS","https://bittrex.zendesk.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"]},api:{v2:{get:["currencies/GetBTCPrice","market/GetTicks","market/GetLatestTick","Markets/GetMarketSummaries","market/GetLatestTick"]},public:{get:["currencies","markethistory","markets","marketsummaries","marketsummary","orderbook","ticker"]},account:{get:["balance","balances","depositaddress","deposithistory","order","orders","orderhistory","withdrawalhistory","withdraw"]},market:{get:["buylimit","buymarket","cancel","openorders","selllimit","sellmarket"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,VTC:.02,PPC:.02,FTC:.2,RDD:2,NXT:2,DASH:.002,POT:.002},deposit:{BTC:0,LTC:0,DOGE:0,VTC:0,PPC:0,FTC:0,RDD:0,NXT:0,DASH:0,POT:0}}},exceptions:{APISIGN_NOT_PROVIDED:m,INVALID_SIGNATURE:m,INVALID_CURRENCY:f,INVALID_PERMISSION:m,INSUFFICIENT_FUNDS:g,QUANTITY_NOT_PROVIDED:y,MIN_TRADE_REQUIREMENT_NOT_MET:y,ORDER_NOT_OPEN:b,INVALID_ORDER:y,UUID_INVALID:b,RATE_NOT_PROVIDED:y,WHITELIST_VIOLATION_IP:w},options:{pricePrecisionByCode:{USD:3},parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1,symbolSeparator:"-",tag:{NXT:!0,CRYPTO_NOTE_PAYMENTID:!0,BITSHAREX:!0,RIPPLE:!0,NEM:!0,STELLAR:!0,STEEM:!0,LISK:!0}},commonCurrencies:{BITS:"SWIFT",CPC:"CapriCoin"}})}},{key:"costToPrecision",value:function(e,t){return this.decimalToPrecision(t,_,this.markets[e].precision.price,C)}},{key:"feeToPrecision",value:function(e,t){return this.decimalToPrecision(t,_,this.markets[e].precision.price,C)}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=[],n=this.safeValue(t,"result"),s=0;s<n.length;s++)a=n[s],o=a.MarketName,c=a.MarketCurrency,u=a.BaseCurrency,d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,p=8,h in this.options.pricePrecisionByCode&&(p=this.options.pricePrecisionByCode[h]),f={amount:8,price:p},("false"!==(v=this.safeValue(a,"IsActive",!1))||v)&&(v=!0),r.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:v,info:a,precision:f,limits:{amount:{min:a.MinTradeSize,max:void 0},price:{min:Math.pow(10,-f.price),max:void 0}}});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.accountGetBalances(t);case 5:for(r=e.sent,n=r.result,s={info:n},a=this.indexBy(n,"Currency"),o=Object.keys(a),c=0;c<o.length;c++)u=o[c],d=this.commonCurrencyCode(u),h=this.account(),l=a[u],p=parseFloat(l.Available),f=parseFloat(l.Balance),v=f-p,h.free=p,h.used=v,h.total=f,s[d]=h;return e.abrupt("return",this.parseBalance(s));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(this.extend({market:this.marketId(t),type:"both"},r));case 6:return n=e.sent,s=n.result,"type"in r&&("buy"===r.type?s={buy:n.result,sell:[]}:"sell"===r.type&&(s={buy:[],sell:n.result})),e.abrupt("return",this.parseOrderBook(s,void 0,"buy","sell","Rate","Quantity"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"TimeStamp");"string"===typeof r&&r.length>0&&(r=this.parse8601(r));var n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"PrevDay"),s=this.safeFloat(e,"Last"),a=void 0,o=void 0;return void 0!==s&&void 0!==i&&(a=s-i,i>0&&(o=a/i*100)),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:i,close:s,last:s,previousClose:void 0,change:a,percentage:o,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n=this.safeValue(r,"result",[]),s={},a=0;a<n.length;a++)o=n[a],c=this.safeString(o,"Currency"),u=this.commonCurrencyCode(c),8,d=this.safeValue(o,"BaseAddress"),h=this.safeFloat(o,"TxFee"),s[u]={id:c,code:u,address:d,info:o,type:o.CoinType,name:o.CurrencyLong,active:o.IsActive,fee:h,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:h,max:Math.pow(10,8)}}};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsummaries(t);case 6:for(r=e.sent,n=r.result,s={},a=0;a<n.length;a++)o=n[a],c=o.MarketName,u=void 0,d=c,c in this.markets_by_id?(u=this.markets_by_id[c],d=u.symbol):d=this.parseSymbol(c),s[d]=this.parseTicker(o,u);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMarketsummary(this.extend({market:n.id},r));case 6:return s=e.sent,a=s.result[0],e.abrupt("return",this.parseTicker(a,n));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TimeStamp+"+00:00"),n=void 0;"BUY"===e.OrderType?n="buy":"SELL"===e.OrderType&&(n="sell");var i=this.safeString2(e,"Id","ID"),s=void 0;void 0!==t&&(s=t.symbol);var a=void 0,o=this.safeFloat(e,"Price"),c=this.safeFloat(e,"Quantity");return void 0!==c&&void 0!==o&&(a=o*c),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,type:"limit",side:n,price:o,amount:c,cost:a,fee:void 0}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetMarkethistory(this.extend({market:a.id},s));case 8:if(!("result"in(o=e.sent))){e.next=12;break}if(void 0===o.result){e.next=12;break}return e.abrupt("return",this.parseTrades(o.result,a,r,n));case 12:throw new f(this.id+" fetchTrades() returned undefined response");case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.T+"+00:00"),e.O,e.H,e.L,e.C,e.V]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={tickInterval:this.timeframes[r],marketName:o.id},e.next=10,this.v2GetMarketGetTicks(this.extend(c,a));case 10:if(!("result"in(u=e.sent))){e.next=14;break}if(!u.result){e.next=14;break}return e.abrupt("return",this.parseOHLCVs(u.result,o,r,n,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.market=o.id),e.next=11,this.marketGetOpenorders(this.extend(a,s));case 11:return c=e.sent,u=this.parseOrders(c.result,o,r,n),e.abrupt("return",this.filterBySymbol(u,t));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v.length>4&&void 0!==v[4]?v[4]:void 0,o=v.length>5&&void 0!==v[5]?v[5]:{},"limit"===r){e.next=4;break}throw new f(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c=this.market(t),u="marketGet"+this.capitalize(n)+r,d={market:c.id,quantity:this.amountToPrecision(t,s),rate:this.priceToPrecision(t,a)},e.next=11,this[u](this.extend(d,o));case 11:return h=e.sent,l=this.getOrderIdField(),p={info:h,id:h.result[l],symbol:t,type:r,side:n,status:"open"},e.abrupt("return",p);case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"getOrderIdField",value:function(){return"uuid"}},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.getOrderIdField(),(s={})[n]=t,e.next=9,this.marketGetCancel(this.extend(s,r));case 9:return a=e.sent,e.abrupt("return",this.extend(this.parseOrder(a),{status:"canceled"}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:void 0,n=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return s={},a=void 0,void 0!==t&&(a=this.currency(t),s.currency=a.id),e.next=11,this.accountGetDeposithistory(this.extend(s,n));case 11:return o=e.sent,e.abrupt("return",this.parseTransactions(o.result,a,void 0,r));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.currency(t),a.currency=o.id),e.next=11,this.accountGetWithdrawalhistory(this.extend(a,s));case 11:return c=e.sent,e.abrupt("return",this.parseTransactions(c.result,o,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString2(e,"Id","PaymentUuid"),n=this.safeFloat(e,"Amount"),i=this.safeString2(e,"CryptoAddress","Address"),s=this.safeString(e,"TxId"),a=this.parse8601(this.safeValue(e,"LastUpdated")),o=this.parse8601(this.safeString(e,"Opened",a)),c=void 0!==o?"withdrawal":"deposit",u=void 0,d=this.safeString(e,"Currency");u=void 0!==(t=this.safeValue(this.currencies_by_id,d))?t.code:this.commonCurrencyCode(d);var h="pending";if("deposit"===c)void 0!==t&&(h="ok");else{var l=this.safeValue(e,"Authorized",!1),p=this.safeValue(e,"PendingPayment",!1),v=this.safeValue(e,"Canceled",!1);this.safeValue(e,"InvalidAddress",!1)?h="failed":v?h="canceled":p?h="pending":l&&void 0!==s&&(h="ok")}var m=this.safeFloat(e,"TxCost");if(void 0===m)if("deposit"===c)m=0;else if("withdrawal"===c)throw new f("Withdrawal without fee detected!");return{info:e,id:r,currency:u,amount:n,address:i,tag:void 0,status:h,type:c,updated:a,txid:s,timestamp:o,datetime:this.iso8601(o),fee:{currency:u,cost:m}}}},{key:"parseSymbol",value:function(e){var t=e.split(this.options.symbolSeparator),r=n(t,2),i=r[0],s=r[1];return(s=this.commonCurrencyCode(s))+"/"+(i=this.commonCurrencyCode(i))}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"OrderType");void 0===r&&(r=this.safeString(e,"Type"));var n="LIMIT_SELL"===r||"SELL"===r;("LIMIT_BUY"===r||"BUY"===r)&&(r="buy"),n&&(r="sell");var i=void 0;"Opened"in e&&e.Opened&&(i="open"),"Closed"in e&&e.Closed&&(i="closed"),"CancelInitiated"in e&&e.CancelInitiated&&(i="canceled"),"Status"in e&&this.options.parseOrderStatus&&(i=this.parseOrderStatus(this.safeString(e,"Status")));var s=void 0;if("Exchange"in e){var a=e.Exchange;s=a in this.markets_by_id?(t=this.markets_by_id[a]).symbol:this.parseSymbol(a)}else void 0!==t&&(s=t.symbol);var o=void 0;"Opened"in e&&(o=this.parse8601(e.Opened+"+00:00")),"Created"in e&&(o=this.parse8601(e.Created+"+00:00"));var c=void 0;"TimeStamp"in e&&void 0!==e.TimeStamp&&(c=this.parse8601(e.TimeStamp+"+00:00")),"Closed"in e&&void 0!==e.Closed&&(c=this.parse8601(e.Closed+"+00:00")),void 0===o&&(o=c);var u=void 0,d=void 0;if("Commission"in e?d="Commission":"CommissionPaid"in e&&(d="CommissionPaid"),d)if(u={cost:parseFloat(e[d])},void 0!==t)u.currency=t.quote;else if(void 0!==s){var h=s.split("/")[1];h in this.currencies_by_id?u.currency=this.currencies_by_id[h].code:u.currency=this.commonCurrencyCode(h)}var l=this.safeFloat(e,"Limit"),p=this.safeFloat(e,"Price"),f=this.safeFloat(e,"Quantity"),v=this.safeFloat(e,"QuantityRemaining"),m=void 0;void 0!==f&&void 0!==v&&(m=f-v),p||l&&m&&(p=l*m),l||p&&m&&(l=p/m);var y=this.safeFloat(e,"PricePerUnit"),g=this.safeString(e,"OrderUuid");return void 0===g&&(g=this.safeString(e,"OrderId")),{info:e,id:g,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:c,symbol:s,type:"limit",side:r,price:l,cost:p,average:y,amount:f,filled:m,remaining:v,status:i,fee:u}}},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,e.prev=5,s=this.getOrderIdField(),(a={})[s]=t,e.next=11,this.accountGetOrder(this.extend(a,r));case 11:n=e.sent,e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(5),!this.last_json_response){e.next=20;break}if("UUID_INVALID"!==this.safeString(this.last_json_response,"message")){e.next=20;break}throw new b(this.id+" fetchOrder() error: "+this.last_http_response);case 20:throw e.t0;case 21:if(n.result){e.next=23;break}throw new b(this.id+" order "+t+" not found");case 23:return e.abrupt("return",this.parseOrder(n.result));case 24:case"end":return e.stop()}},e,this,[[5,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.market=o.id),e.next=11,this.accountGetOrderhistory(this.extend(a,s));case 11:if(c=e.sent,u=this.parseOrders(c.result,o,r,n),void 0===t){e.next=15;break}return e.abrupt("return",this.filterBySymbol(u,t));case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),s={currency:n.id},e.next=7,this.accountGetDepositaddress(this.extend(s,r));case 7:if(a=e.sent,o=this.safeString(a.result,"Address"),c=this.safeString(a,"message"),o&&"ADDRESS_GENERATING"!==c){e.next=12;break}throw new x(this.id+" the address for "+t+" is being generated (pending, not ready yet, retry again later)");case 12:return u=void 0,n.type in this.options.tag&&(u=o,o=n.address),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:u,info:a});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={currency:o.id,quantity:r,address:n},s&&(c.paymentid=s),e.next=10,this.accountGetWithdraw(this.extend(c,a));case 10:return u=e.sent,d=void 0,"result"in u&&"uuid"in u.result&&(d=u.result.uuid),e.abrupt("return",{info:u,id:d});case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/";if("v2"!==t&&(a+=this.version+"/"),"public"===t)a+=t+"/"+r.toLowerCase()+e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else if("v2"===t)a+=e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials(),a+=t+"/",("account"===t&&"withdraw"!==e||"openorders"===e)&&(a+=r.toLowerCase());var o={apikey:this.apiKey},c=this.safeValue(this.options,"disableNonce");void 0!==c&&c||(o.nonce=this.nonce()),a+=e+"?"+this.urlencode(this.extend(o,n)),i={apisign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("{"===s[0]){var o=this.safeValue(a,"success");if(void 0===o)throw new f(this.id+": malformed response: "+this.json(a));if("string"===typeof o&&(o="true"===o),!o){var c=this.safeString(a,"message"),u=this.id+" "+this.json(a),d=this.exceptions;if("APIKEY_INVALID"===c)throw this.options.hasAlreadyAuthenticatedSuccessfully?new k(u):new m(u);if("DUST_TRADE_DISALLOWED_MIN_VALUE_50K_SAT"===c)throw new y(this.id+" order cost should be over 50k satoshi "+this.json(a));if("INVALID_ORDER"===c){if(r.indexOf("cancel")>=0){for(var h=r.split("&"),l=void 0,p=0;p<h.length;p++){var g=h[p].split("=");if("uuid"===g[0]){l=g[1];break}}throw new b(void 0!==l?this.id+" cancelOrder "+l+" "+this.json(a):this.id+" cancelOrder "+this.json(a))}}if(c in d)throw new d[c](u);if(void 0!==c){if(c.indexOf("throttled. Try again")>=0)throw new k(u);if(c.indexOf("problem")>=0)throw new v(u)}throw new f(u)}}}},{key:"appendTimezoneParse8601",value:function(e){return"Z"===e[e.length-1]||e.indexOf("+")>=0?this.parse8601(e):this.parse8601(e+"Z")}},{key:"request",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,s,a,o);case 7:return c=e.sent,"account"!==r&&"market"!==r||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.InsufficientFunds,v=l.InvalidOrder,m=l.AuthenticationError,y=l.PermissionDenied,g=l.InvalidNonce,b=l.OrderNotFound,k=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btcbox",name:"BtcBox",countries:["JP"],rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchTickers:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/31275803-4df755a8-aaa1-11e7-9abb-11ec2fad9f2d.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://www.btcbox.co.jp/help/asm"},api:{public:{get:["depth","orders","ticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"btc",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"},"ETH/JPY":{id:"eth",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy"},"LTC/JPY":{id:"ltc",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy"},"BCH/JPY":{id:"bch",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bch",quoteId:"jpy"}},exceptions:{104:m,105:y,106:g,107:v,200:f,201:v,202:v,203:b,401:b,402:k}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],"dash"===(o=a.toLowerCase())&&(o="drk"),c=this.account(),d=o+"_lock",(u=o+"_balance")in t&&(c.free=parseFloat(t[u])),d in t&&(c.used=parseFloat(t[d])),c.total=this.sum(c.free,c.used),r[a]=c;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),s={},this.symbols.length>1&&(s.coin=i.baseId),e.next=10,this.publicGetDepth(this.extend(s,r));case 10:return a=e.sent,e.abrupt("return",this.parseOrderBook(a));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s={},this.symbols.length>1&&(s.coin=i.baseId),e.next=9,this.publicGetTicker(this.extend(s,r));case 9:return a=e.sent,e.abrupt("return",this.parseTicker(a,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,id:e.tid,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={},this.symbols.length>1&&(o.coin=a.baseId),e.next=11,this.publicGetOrders(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={amount:s,price:a,type:i,coin:c.baseId},e.next=8,this.privatePostTradeAdd(this.extend(u,o));case 8:return d=e.sent,e.abrupt("return",this.parseOrder(d,c));case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return void 0===r&&(r="BTC/JPY"),s=this.market(r),a={id:t,coin:s.baseId},e.next=9,this.privatePostTradeCancel(this.extend(a,i));case 9:return o=e.sent,e.abrupt("return",this.parseOrder(o,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({part:"open",all:"closed",cancelled:"canceled",closed:"closed",no:"closed"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=void 0;void 0!==this.safeString(e,"datetime")&&(n=this.parse8601(e.datetime+"+09:00"));var i=this.safeFloat(e,"amount_original"),s=this.safeFloat(e,"amount_outstanding"),a=void 0;void 0!==i&&void 0!==s&&(a=i-s);var o=this.safeFloat(e,"price"),c=void 0;void 0!==o&&void 0!==a&&(c=a*o);var u=this.parseOrderStatus(this.safeString(e,"status"));void 0===u&&void 0!==s&&0===s&&(u="closed");var d=void 0;void 0!==t&&(d=t.symbol);var h=this.safeString(e,"type");return{id:r,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,amount:i,remaining:s,filled:a,side:h,type:void 0,status:u,symbol:d,price:o,cost:c,trades:void 0,fee:void 0,info:e}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return void 0===r&&(r="BTC/JPY"),s=this.market(r),a=this.extend({id:t,coin:s.baseId},i),e.next=9,this.privatePostTradeView(this.extend(a,i));case 9:return o=e.sent,e.abrupt("return",this.parseOrder(o,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersByType",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:void 0,i=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:return void 0===r&&(r="BTC/JPY"),o=this.market(r),c={type:t,coin:o.baseId},e.next=11,this.privatePostTradeList(this.extend(c,a));case 11:if(u=e.sent,d=this.parseOrders(u,o,i,s),"open"===t)for(h=0;h<d.length;h++)d[h].status="open";return e.abrupt("return",d);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByType("all",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByType("open",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce().toString(),c=this.extend({key:this.apiKey,nonce:o},n),u=this.urlencode(c),d=this.hash(this.encode(this.secret));c.signature=this.hmac(this.encode(u),this.encode(d)),s=this.urlencode(c),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(e>=400)&&"{"===s[0]){var o=this.safeValue(a,"result");if(void 0!==o&&!0!==o){var c=this.safeValue(a,"code"),u=this.id+" "+this.json(a),d=this.exceptions;if(c in d)throw new d[c](u);throw new p(u)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btcturk",name:"BTCTurk",countries:["TR"],rateLimit:1e3,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27992709-18e15646-64a3-11e7-9fa2-b0950ec7712f.jpg",api:"https://www.btcturk.com/api",www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["ohlcdata","orderbook","ticker","trades"]},private:{get:["balance","openOrders","userTransactions"],post:["exchange","cancelOrder"]}},fees:{trading:{maker:.00236,taker:.00413}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetTicker();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.pair,o=a.slice(0,3),c=a.slice(3,6),u=this.commonCurrencyCode(o),d=this.commonCurrencyCode(c),o=o.toLowerCase(),c=c.toLowerCase(),h=u+"/"+d,l={amount:8,price:8},!0,r.push({id:a,symbol:h,base:u,quote:d,baseId:o,quoteId:c,active:!0,info:s,precision:l,limits:{amount:{min:Math.pow(10,-l.amount),max:void 0},price:{min:Math.pow(10,-l.price),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.privateGetBalance();case 3:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],o=this.currencies[a],c=this.account(),u=o.id+"_available",d=o.id+"_balance",h=o.id+"_reserved",u in t&&(c.free=this.safeFloat(t,u),c.total=this.safeFloat(t,d),c.used=this.safeFloat(t,h)),r[a]=c;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},i=this.market(t),e.next=5,this.publicGetOrderbook(this.extend({pairSymbol:i.id},r));case 5:return s=e.sent,a=parseInt(1e3*s.timestamp),e.abrupt("return",this.parseOrderBook(s,a));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=1e3*parseInt(e.timestamp),i=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"average"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=a.pair,c=void 0,o in this.markets_by_id&&(c=this.markets_by_id[o],o=c.symbol),i[o]=this.parseTicker(a,c);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.fetchTickers();case 5:return r=e.sent,i=void 0,t in r&&(i=r[t]),e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetTrades(this.extend({pairSymbol:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.Time),e.Open,e.High,e.Low,e.Close,e.Volume]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1d",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={},void 0!==s&&(c.last=s),e.next=11,this.publicGetOhlcdata(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:if(c={PairSymbol:this.marketId(t),OrderType:"buy"===i?0:1,OrderMethod:"market"===r?1:0},"market"!==r){e.next=10;break}if("Total"in o){e.next=8;break}throw new l(this.id+' createOrder requires the "Total" extra parameter for market orders (amount and price are both ignored)');case 8:e.next=12;break;case 10:c.Price=a,c.Amount=s;case 12:return e.next=14,this.privatePostExchange(this.extend(c,o));case 14:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("btctrader"===this.id)throw new l(this.id+" is an abstract base API for BTCExchange, BTCTurk");var a=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce().toString();s=this.urlencode(n);var c=this.base64ToBinary(this.secret),u=this.apiKey+o;i={"X-PCK":this.apiKey,"X-Stamp":o,"X-Signature":this.stringToBase64(this.hmac(this.encode(u),c,"sha256","binary")),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"fybse",name:"FYB-SE",countries:["SE"],has:{CORS:!1},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766512-31019772-5edb-11e7-8241-2e675e6797f1.jpg",api:"https://www.fybse.se/api/SEK",www:"https://www.fybse.se",doc:"https://fyb.docs.apiary.io"},api:{public:{get:["ticker","tickerdetailed","orderbook","trades"]},private:{post:["test","getaccinfo","getpendingorders","getorderhistory","cancelpendingorder","placeorder","withdraw"]}},markets:{"BTC/SEK":{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostGetaccinfo();case 3:return t=e.sent,r=parseFloat(t.btcBal),i=this.symbols[0],s=this.markets[i].quote,a=s.toLowerCase()+"Bal",o=parseFloat(t[a]),(c={BTC:{free:r,used:0,total:r}})[s]={free:o,used:0,total:o},c.info=t,e.abrupt("return",this.parseBalance(c));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetOrderbook(r);case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetTickerdetailed(r);case 3:return i=e.sent,s=this.milliseconds(),a=void 0,o=void 0,"last"in i&&(a=this.safeFloat(i,"last")),"vol"in i&&(o=this.safeFloat(i,"vol")),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:void 0,info:i});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetTrades(s);case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.privatePostPlaceorder(this.extend({qty:s,price:a,type:i[0].toUpperCase()},o));case 4:return c=e.sent,e.abrupt("return",{info:c,id:c.pending_oid});case 6:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelpendingorder({orderNo:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;if("public"===t)a+=".json";else{this.checkRequiredCredentials();var o=this.nonce();s=this.urlencode(this.extend({timestamp:o},n)),i={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sig:this.hmac(this.encode(s),this.encode(this.secret),"sha1")}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"private"!==r){e.next=12;break}if(!("error"in c)){e.next=12;break}if(!c.error){e.next=12;break}throw new l(this.id+" "+this.json(c));case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.InsufficientFunds,v=l.OrderNotFound,m=l.InvalidOrder;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"hitbtc",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"1",has:{CORS:!1,fetchTrades:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"https://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:"https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv1.md",fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["{symbol}/orderbook","{symbol}/ticker","{symbol}/trades","{symbol}/trades/recent","symbols","ticker","time"]},trading:{get:["balance","orders/active","orders/recent","order","trades/by/order","trades"],post:["new_order","cancel_order","cancel_orders"]},payment:{get:["balance","address/{currency}","transactions","transactions/{transaction}"],post:["transfer_to_trading","transfer_to_main","address/{currency}","payout"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-1e-4,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00215,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMP:9,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,"DAO.Casino":124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTM:40,BTX:.04,BUS:.004,CCT:115,CDT:100,CDX:30,CFI:61,CLD:.88,CND:574,CNX:.04,COSS:65,CSNO:16,CTR:15,CTX:146,CVC:8.46,DBIX:.0168,DCN:12e4,DCT:.02,DDF:342,DENT:6240,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,ELE:.00172,ELM:.004,EMC:.03,EMGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GNO:.0034,GUP:4,GVT:1.2,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:5913,ITS:15.0012,IXT:11,KBR:143,KICK:112,LA:41,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RVT:14,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STEEM:.01,STRAT:.01,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TKR:84,TNT:90,TRST:1.6,TRX:1395,UET:480,UGT:15,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,"DAO.Casino":0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},commonCurrencies:{BCH:"Bitcoin Cash",BET:"DAO.Casino",CAT:"BitClave",DRK:"DASH",EMGO:"MGO",GET:"Themis",HSR:"HC",LNC:"LinkerCoin",UNC:"Unigame",USD:"USDT",XBT:"BTC"},options:{defaultTimeInForce:"FOK"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetSymbols();case 3:for(t=e.sent,r=[],i=0;i<t.symbols.length;i++)s=t.symbols[i],a=s.symbol,o=s.commodity,c=s.currency,u=this.safeFloat(s,"lot"),d=this.safeFloat(s,"step"),h=this.commonCurrencyCode(o),l=this.commonCurrencyCode(c),p=h+"/"+l,r.push({info:s,id:a,symbol:p,base:h,quote:l,baseId:o,quoteId:c,lot:u,step:d,active:!0,maker:this.safeFloat(s,"provideLiquidityRate"),taker:this.safeFloat(s,"takeLiquidityRate"),precision:{amount:this.precisionFromString(s.lot),price:this.precisionFromString(s.step)},limits:{amount:{min:u,max:void 0},price:{min:d,max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.loadMarkets();case 3:return r=this.safeString(t,"type","trading"),r+="GetBalance",i=this.omit(t,"type"),e.next=8,this[r](i);case 8:for(s=e.sent,a=s.balance,o={info:a},c=0;c<a.length;c++)u=a[c],d=u.currency_code,h=this.commonCurrencyCode(d),l=this.safeFloat(u,"cash",0),l=this.safeFloat(u,"balance",l),p=this.safeFloat(u,"reserved",0),f={free:l,used:p,total:this.sum(l,p)},o[h]=f;return e.abrupt("return",this.parseBalance(o));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetSymbolOrderbook(this.extend({symbol:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"volume_quote"),info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=this.markets_by_id[o],u=c.symbol,d=r[o],s[u]=this.parseTicker(d,c);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetSymbolTicker(this.extend({symbol:i.id},r));case 6:if(!("message"in(s=e.sent))){e.next=9;break}throw new p(this.id+" "+s.message);case 9:return e.abrupt("return",this.parseTicker(s,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Array.isArray(e)?this.parsePublicTrade(e,t):this.parseOrderTrade(e,t)}},{key:"parsePublicTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=void 0;return e.length>3&&(n=e[4]),{info:e,id:e[0].toString(),timestamp:e[3],datetime:this.iso8601(e[3]),symbol:r,type:void 0,side:n,price:parseFloat(e[1]),amount:parseFloat(e[2])}}},{key:"parseOrderTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.safeFloat(e,"execQuantity");t&&(n*=t.lot);var i=this.safeFloat(e,"execPrice"),s=i*n,a={cost:this.safeFloat(e,"fee"),currency:void 0,rate:void 0},o=e.timestamp;return{info:e,id:e.tradeId,order:e.clientOrderId,timestamp:o,datetime:this.iso8601(o),symbol:r,type:void 0,side:e.side,price:i,amount:n,cost:s,fee:a}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==r&&(o.by="ts",o.from=r),void 0!==i&&(o.max_results=i),e.next=11,this.publicGetSymbolTrades(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,f,v,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>4&&void 0!==g[4]?g[4]:void 0,o=g.length>5&&void 0!==g[5]?g[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),u=parseFloat(s)/c.lot,d=Math.round(u),h=u-d,!(Math.abs(h)>c.step)){e.next=10;break}throw new p(this.id+" order amount should be evenly divisible by lot unit size of "+c.lot.toString());case 10:return l=this.milliseconds(),f={clientOrderId:l.toString(),symbol:c.id,side:i,quantity:d.toString(),type:r},"limit"===r?f.price=this.priceToPrecision(t,a):f.timeInForce=this.options.defaultTimeInForce,e.next=15,this.tradingPostNewOrder(this.extend(f,o));case 15:if(v=e.sent,"rejected"!==(y=this.parseOrder(v.ExecutionReport,c)).status){e.next=19;break}throw new m(this.id+" order was rejected by the exchange "+this.json(y));case 19:return e.abrupt("return",y);case 20:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradingPostCancelOrder(this.extend({clientOrderId:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({new:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",rejected:"rejected",expired:"expired"},e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"lastTimestamp");void 0===r&&(r=this.safeInteger(e,"timestamp"));var n=void 0;t||(t=this.markets_by_id[e.symbol]);var i=this.parseOrderStatus(this.safeString(e,"orderStatus")),s=this.safeFloat(e,"orderPrice");s=this.safeFloat(e,"price",s),s=this.safeFloat(e,"avgPrice",s);var a=this.safeFloat(e,"orderQuantity");a=this.safeFloat(e,"quantity",a);var o=this.safeFloat(e,"quantityLeaves"),c=void 0,u=void 0,d=void 0!==a,h=void 0!==(o=this.safeFloat(e,"leavesQuantity",o));if(void 0!==t)n=t.symbol,d&&(a*=t.lot),h&&(o*=t.lot);else{var l=this.safeString(e,"symbol");l in this.markets_by_id&&(t=this.markets_by_id[l])}d&&h&&(c=a-o,void 0!==s&&(u=s*c));var p=this.safeFloat(e,"fee"),f=void 0;void 0!==t&&(n=t.symbol,f=t.quote);var v={cost:p,currency:f,rate:void 0};return{id:e.clientOrderId.toString(),info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:i,symbol:n,type:e.type,side:e.side,price:s,cost:u,amount:a,filled:c,remaining:o,fee:v}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradingGetOrder(this.extend({clientOrderId:t},r));case 6:if(!(i=e.sent).orders[0]){e.next=9;break}return e.abrupt("return",this.parseOrder(i.orders[0]));case 9:throw new v(this.id+" fetchOrder() error: "+this.response);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={sort:"desc",statuses:["new","partiallyFiiled"].join(",")},void 0!==t&&(a=this.market(t),o.symbols=a.id),e.next=12,this.tradingGetOrdersActive(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.orders,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={sort:"desc",statuses:["filled","canceled","rejected","expired"].join(","),max_results:1e3},void 0!==t&&(a=this.market(t),o.symbols=a.id),e.next=12,this.tradingGetOrdersRecent(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.orders,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,void 0!==r&&(o=this.market(r)),e.next=10,this.tradingGetTradesByOrder(this.extend({clientOrderId:t},a));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades,o,i,s));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={currency_code:o.id,amount:r,address:i},void 0!==s&&(c.extra_id=s),e.next=10,this.paymentPostPayout(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.transaction});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+t+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c={nonce:this.nonce(),apikey:this.apiKey};o=this.extend(c,o);var u=a+="GET"===r?"?"+this.urlencode(o):"?"+this.urlencode(c);"POST"===r&&Object.keys(o).length&&(u+=s=this.urlencode(o)),i={"Content-Type":"application/x-www-form-urlencoded","X-Signature":this.hmac(this.encode(u),this.encode(this.secret),"sha512").toLowerCase()}}return{url:a=this.urls.api+a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("code"in(c=e.sent))){e.next=13;break}if(!("ExecutionReport"in c)){e.next=12;break}if("orderExceedsLimit"!==c.ExecutionReport.orderRejectReason){e.next=12;break}throw new f(this.id+" "+this.json(c));case 12:throw new p(this.id+" "+this.json(c));case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",function(){return i})},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";var n=r(11),i=r(73),s=r(10);n.ccxtVersion="1.18.240";var a={_1btcxe:r(81),acx:r(49),allcoin:r(170),anxpro:r(171),anybits:r(172),bcex:r(173),bibox:r(174),bigone:r(175),binance:r(176),bit2c:r(177),bitbank:r(178),bitbay:r(179),bitfinex:r(62),bitfinex2:r(180),bitflyer:r(181),bitforex:r(182),bithumb:r(183),bitibu:r(184),bitkk:r(185),bitlish:r(186),bitmarket:r(187),bitmex:r(188),bitsane:r(82),bitso:r(189),bitstamp:r(190),bitstamp1:r(191),bittrex:r(83),bitz:r(192),bl3p:r(193),bleutrade:r(194),braziliex:r(195),btcalpha:r(196),btcbox:r(84),btcchina:r(197),btcexchange:r(198),btcmarkets:r(199),btctradeim:r(200),btctradeua:r(201),btcturk:r(85),buda:r(202),bxinth:r(203),ccex:r(204),cex:r(205),chbtc:r(206),chilebit:r(207),cobinhood:r(208),coinbase:r(209),coinbaseprime:r(210),coinbasepro:r(211),coincheck:r(212),coinegg:r(64),coinex:r(213),coinexchange:r(214),coinfalcon:r(215),coinfloor:r(216),coingi:r(217),coinmarketcap:r(218),coinmate:r(219),coinnest:r(220),coinone:r(221),coinspot:r(222),cointiger:r(223),coolcoin:r(224),coss:r(225),crex24:r(226),crypton:r(227),cryptopia:r(228),deribit:r(229),dsx:r(230),ethfinex:r(231),exmo:r(232),exx:r(233),fcoin:r(234),flowbtc:r(235),foxbit:r(39),fybse:r(86),fybsg:r(236),gatecoin:r(237),gateio:r(238),gdax:r(65),gemini:r(239),getbtc:r(240),hadax:r(241),hitbtc:r(87),hitbtc2:r(242),huobipro:r(66),ice3x:r(243),independentreserve:r(244),indodax:r(245),itbit:r(246),jubi:r(247),kkex:r(248),kraken:r(249),kucoin:r(250),kucoin2:r(251),kuna:r(252),lakebtc:r(253),lbank:r(254),liqui:r(51),liquid:r(67),livecoin:r(255),luno:r(256),lykke:r(257),mercado:r(258),mixcoins:r(259),negociecoins:r(260),nova:r(261),okcoincny:r(262),okcoinusd:r(50),okex:r(263),paymium:r(264),poloniex:r(265),qryptos:r(266),quadrigacx:r(267),quoinex:r(268),rightbtc:r(269),southxchange:r(270),surbitcoin:r(271),theocean:r(272),therock:r(273),tidebit:r(274),tidex:r(275),uex:r(276),upbit:r(277),urdubit:r(278),vaultoro:r(279),vbtc:r(280),virwox:r(281),xbtce:r(282),yobit:r(283),yunbi:r(284),zaif:r(285),zb:r(63)};e.exports=Object.assign({version:"1.18.240",Exchange:n,exchanges:Object.keys(a)},a,i,s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,r=e.plugins;return function e(o){for(var c in o){var u=o[c];if((0,a.default)(u))o[c]=e(u);else if(Array.isArray(u)){for(var d=[],h=0,l=u.length;h<l;++h){var p=(0,i.default)(r,c,u[h],o,t);(0,s.default)(d,p||u[h])}d.length>0&&(o[c]=d)}else{var f=(0,i.default)(r,c,u,o,t);f&&(o[c]=f),o=(0,n.default)(t,c,o)}}return o}};var n=o(r(294)),i=o(r(295)),s=o(r(296)),a=o(r(297));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,s.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})};var n,i=r(40),s=(n=i)&&n.__esModule?n:{default:n};var a=["-webkit-",""]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&i.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,s.default)(t)&&t.indexOf("filter(")>-1)return a.map(function(e){return t.replace(/filter\(/g,e+"filter(")})};var n,i=r(40),s=(n=i)&&n.__esModule?n:{default:n};var a=["-webkit-",""]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){Object.prototype.hasOwnProperty.call(i,e)&&(r[i[e]]=n[t]||t);if("flex"===e){if(Object.prototype.hasOwnProperty.call(s,t))return void(r.msFlex=s[t]);if(a.test(t))return void(r.msFlex=t+" 1 0%");var o=t.split(/\s/);switch(o.length){case 1:return void(r.msFlex="1 1 "+t);case 2:return void(a.test(o[1])?r.msFlex=o[0]+" "+o[1]+" 0%":r.msFlex=o[0]+" 1 "+o[1]);default:r.msFlex=t}}};var n={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},i={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},s={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},a=/^\d+(\.\d+)?$/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?r.WebkitBoxOrient="vertical":r.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?r.WebkitBoxDirection="reverse":r.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(r[i[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,s.default)(t)&&o.test(t))return a.map(function(e){return t.replace(o,function(t){return e+t})})};var n,i=r(40),s=(n=i)&&n.__esModule?n:{default:n};var a=["-webkit-","-moz-",""],o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,s.default)(t)&&t.indexOf("image-set(")>-1)return a.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var n,i=r(40),s=(n=i)&&n.__esModule?n:{default:n};var a=["-webkit-",""]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(i.hasOwnProperty(e)&&s.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a){if("string"===typeof t&&o.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var r=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),s=0,a=r.length;s<a;++s){var o=r[s],u=[o];for(var d in t){var h=(0,n.default)(d);if(o.indexOf(h)>-1&&"order"!==h)for(var l=t[d],p=0,f=l.length;p<f;++p)u.unshift(o.replace(h,c[l[p]]+h))}r[s]=u.join(",")}return r.join(",")}(t,a),d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return d;var h=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?h:(r["Webkit"+(0,s.default)(e)]=d,r["Moz"+(0,s.default)(e)]=h,u)}};var n=a(r(298)),i=a(r(40)),s=a(r(88));function a(e){return e&&e.__esModule?e:{default:e}}var o={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},function(e,t){function r(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=c.hex6.exec(e))?parseInt(t[1]+"ff",16)>>>0:p.hasOwnProperty(e)?p[e]:(t=c.rgb.exec(e))?(u(t[1])<<24|u(t[2])<<16|u(t[3])<<8|255)>>>0:(t=c.rgba.exec(e))?(u(t[1])<<24|u(t[2])<<16|u(t[3])<<8|h(t[4]))>>>0:(t=c.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=c.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=c.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=c.hsl.exec(e))?(255|i(d(t[1]),l(t[2]),l(t[3])))>>>0:(t=c.hsla.exec(e))?(i(d(t[1]),l(t[2]),l(t[3]))|h(t[4]))>>>0:null}function n(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function i(e,t,r){var i=r<.5?r*(1+t):r+t-r*t,s=2*r-i,a=n(s,i,e+1/3),o=n(s,i,e),c=n(s,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*c)<<8}var s="[-+]?\\d*\\.?\\d+",a=s+"%";function o(){return"\\(\\s*("+(e=arguments,Array.prototype.slice.call(e,0)).join(")\\s*,\\s*(")+")\\s*\\)";var e}var c={rgb:new RegExp("rgb"+o(s,s,s)),rgba:new RegExp("rgba"+o(s,s,s,s)),hsl:new RegExp("hsl"+o(s,a,a)),hsla:new RegExp("hsla"+o(s,a,a,s)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function u(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function d(e){return(parseFloat(e)%360+360)%360/360}function h(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function l(e){var t=parseFloat(e,10);return t<0?0:t>100?1:t/100}var p={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};r.rgba=function(e){return{r:Math.round((4278190080&e)>>>24),g:Math.round((16711680&e)>>>16),b:Math.round((65280&e)>>>8),a:((255&e)>>>0)/255}},e.exports=r},function(e,t,r){"use strict";var n=r(7),i=r(300);if("undefined"===typeof n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var s=(new n.Component).updater;e.exports=i(n.Component,n.isValidElement,s)},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function s(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}r.d(t,"a",function(){return s})},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",function(){return i})},,,,function(e,t,r){},,function(e,t,r){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(116),i)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(a){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,s="function"===typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag",u="object"===typeof e,d=t.regeneratorRuntime;if(d)u&&(e.exports=d);else{(d=t.regeneratorRuntime=u?e.exports:{}).wrap=k;var h="suspendedStart",l="suspendedYield",p="executing",f="completed",v={},m={};m[a]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(A([])));g&&g!==n&&i.call(g,a)&&(m=g);var b=_.prototype=x.prototype=Object.create(m);T.prototype=b.constructor=_,_.constructor=T,_[c]=T.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},d.awrap=function(e){return{__await:e}},C(O.prototype),O.prototype[o]=function(){return this},d.AsyncIterator=O,d.async=function(e,t,r,n){var i=new O(k(e,t,r,n));return d.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(b),b[c]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},d.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(B),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;B(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function k(e,t,r,n){var i=t&&t.prototype instanceof x?t:x,s=Object.create(i.prototype),a=new I(n||[]);return s._invoke=function(e,t,r){var n=h;return function(i,s){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw s;return M()}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var o=S(a,r);if(o){if(o===v)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=w(e,t,r);if("normal"===c.type){if(n=r.done?f:l,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=f,r.method="throw",r.arg=c.arg)}}}(e,r,a),s}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function x(){}function T(){}function _(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(r,n){function s(){return new Promise(function(t,s){!function t(r,n,s,a){var o=w(e[r],e,n);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,s,a)},function(e){t("throw",e,s,a)}):Promise.resolve(u).then(function(e){c.value=e,s(c)},function(e){return t("throw",e,s,a)})}a(o.arg)}(r,n,t,s)})}return t=t?t.then(s,s):s()}}function S(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,S(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var s=i.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return s.next=s}}return{next:M}}function M(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(e,t,r){"use strict";var n=r(47),i="function"===typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,l=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,i,s,a,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,s,a,o],u=0;(e=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k={};function w(e,t,r){this.props=e,this.context=t,this.refs=k,this.updater=r||b}function x(){}function T(e,t,r){this.props=e,this.context=t,this.refs=k,this.updater=r||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var _=T.prototype=new x;_.constructor=T,n(_,w.prototype),_.isPureReactComponent=!0;var C={current:null,currentDispatcher:null},O=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var n=void 0,i={},a=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,n)&&!S.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===i[n]&&(i[n]=c[n]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:C.current}}function B(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var I=/\/+/g,A=[];function M(e,t,r,n){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function F(e,t,r){return null==e?0:function e(t,r,n,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var c=!1;if(null===t)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case s:case a:c=!0}}if(c)return n(i,t,""===r?"."+R(t,0):r),1;if(c=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var d=r+R(o=t[u],u);c+=e(o,d,n,i)}else if(d=null===t||"object"!==typeof t?null:"function"===typeof(d=y&&t[y]||t["@@iterator"])?d:null,"function"===typeof d)for(t=d.call(t),u=0;!(o=t.next()).done;)c+=e(o=o.value,d=r+R(o,u++),n,i);else"object"===o&&g("31","[object Object]"===(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return c}(e,"",t,r)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,n,r,function(e){return e}):null!=e&&(B(e)&&(e=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+r)),n.push(e))}function N(e,t,r,n,i){var s="";null!=r&&(s=(""+r).replace(I,"$&/")+"/"),F(e,L,t=M(t,s,n,i)),P(t)}var q={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return N(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;F(e,D,t=M(null,null,t,r)),P(t)},count:function(e){return F(e,function(){return null},null)},toArray:function(e){var t=[];return N(e,t,null,function(e){return e}),t},only:function(e){return B(e)||g("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},Fragment:o,StrictMode:c,Suspense:f,createElement:E,cloneElement:function(e,t,r){(null===e||void 0===e)&&g("267",e);var i=void 0,a=n({},e.props),o=e.key,c=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,u=C.current),void 0!==t.key&&(o=""+t.key);var d=void 0;for(i in e.type&&e.type.defaultProps&&(d=e.type.defaultProps),t)O.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==d?d[i]:t[i])}if(1===(i=arguments.length-2))a.children=r;else if(1<i){d=Array(i);for(var h=0;h<i;h++)d[h]=arguments[h+2];a.children=d}return{$$typeof:s,type:e.type,key:o,ref:c,props:a,_owner:u}},createFactory:function(e){var t=E.bind(null,e);return t.type=e,t},isValidElement:B,version:"16.6.3",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:C,assign:n}};q.unstable_ConcurrentMode=l,q.unstable_Profiler=u;var G={default:q},U=G&&q||G;e.exports=U.default||U},,,function(e,t,r){"use strict";(function(e){var n=r(121),i=r(122),s=r(123);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=l(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=o(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|p(t.length);return 0===(e=o(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?o(e,0):l(e,t);if("Buffer"===t.type&&s(t.data))return l(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(d(t),e=o(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t){var r=t.length<0?0:0|p(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var s,a=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var d=-1;for(s=r;s<o;s++)if(u(e,s)===u(t,-1===d?0:s-d)){if(-1===d&&(d=s),s-d+1===c)return d*a}else-1!==d&&(s-=s-d),d=-1}else for(r+c>o&&(r=o-c),s=r;s>=0;s--){for(var h=!0,l=0;l<c;l++)if(u(e,s+l)!==u(t,l)){h=!1;break}if(h)return s}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[r+a]=o}return a}function b(e,t,r,n){return V(G(t,e.length-r),e,r,n)}function k(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return k(e,t,r,n)}function x(e,t,r,n){return V(U(t),e,r,n)}function T(e,t,r,n){return V(function(e,t){for(var r,n,i,s=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,a,o,c,u=e[i],d=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(d=u);break;case 2:128===(192&(s=e[i+1]))&&(c=(31&u)<<6|63&s)>127&&(d=c);break;case 3:s=e[i+1],a=e[i+2],128===(192&s)&&128===(192&a)&&(c=(15&u)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],128===(192&s)&&128===(192&a)&&128===(192&o)&&(c=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&c<1114112&&(d=c)}null===d?(d=65533,h=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=h}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return d(t),t<=0?o(e,t):void 0!==r?"string"===typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),o=Math.min(s,a),u=this.slice(n,i),d=e.slice(t,r),h=0;h<o;++h)if(u[h]!==d[h]){s=u[h],a=d[h];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return k(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=q(e[s]);return i}function I(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function A(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function R(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,s){return s||R(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,s){return s||R(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<r&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var s=r-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=c.isBuffer(e)?e:G(new c(e,n).toString()),o=a.length;for(s=0;s<r-t;++s)this[s+t]=a[s%o]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(56))},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=u(e),n=r[0],a=r[1],o=new s(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),c=0,d=a>0?n-4:n,h=0;h<d;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],o[c++]=t>>16&255,o[c++]=t>>8&255,o[c++]=255&t;2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,o[c++]=255&t);1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,o[c++]=t>>8&255,o[c++]=255&t);return o},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(d(e,a,a+16383>o?o:a+16383));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=a.length;o<c;++o)n[o]=a[o],i[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function d(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,c=(1<<o)-1,u=c>>1,d=-7,h=r?i-1:0,l=r?-1:1,p=e[t+h];for(h+=l,s=p&(1<<-d)-1,p>>=-d,d+=o;d>0;s=256*s+e[t+h],h+=l,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=n;d>0;a=256*a+e[t+h],h+=l,d-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),s-=u}return(p?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,c,u=8*s-i-1,d=(1<<u)-1,h=d>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?l/c:l*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=d?(o=0,a=d):a+h>=1?(o=(t*c-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&o,p+=f,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+p]=255&a,p+=f,a/=256,u-=8);e[r+p-f]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=r(70),i=r(71),s=r(72);e.exports=function(e){return n(e)||i(e)||s()}},function(e,t){e.exports=function(e,t){var r=[],n=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,s=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return r}},function(e,t,r){"use strict";(function(t){var r="undefined"!==typeof window,n="undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.electron,i="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,s="undefined"!==typeof t&&"win32"===t.platform,a=!(r||i);e.exports={isBrowser:r,isElectron:n,isWebWorker:i,isNode:a,isWindows:s}}).call(this,r(127))},function(e,t){var r,n,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,u=[],d=!1,h=-1;function l(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!d){var e=o(l);d=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||d||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(58),i=n.isObject,s=n.isNumber,a=n.isDictionary,o=n.isArray,c=Object.keys,u=function(e){return o(e)?e:Object.values(e)},d=function(e){return new Set(u(e))},h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object.assign.apply(Object,[{}].concat(t))},l=function(e){return o(e)?Array.from(e):h(e)};e.exports={keys:c,values:u,extend:h,clone:l,index:d,ordered:function(e){return e},unique:function(e){return Array.from(d(e))},inArray:function(e,t){return t.includes(e)},toArray:function(e){return Object.values(e)},isEmpty:function(e){return!e||(Array.isArray(e)?e:Object.keys(e)).length<1},keysort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!0,n=!1,i=void 0;try{for(var s,a=c(e).sort()[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var o=s.value;t[o]=e[o]}}catch(u){n=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t},indexBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!0,i=!1,s=void 0;try{for(var a,o=u(e)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;t in c&&(r[c[t]]=c)}}catch(d){i=!0,s=d}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return r},groupBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!0,i=!1,s=void 0;try{for(var a,o=u(e)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;if(t in c){var d=c[t];r[d]=r[d]||[],r[d].push(c)}}}catch(h){i=!0,s=h}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}return r},filterBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=!0,s=!1,a=void 0;try{for(var o,c=u(e)[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var d=o.value;d[t]===r&&n.push(d)}}catch(h){s=!0,a=h}finally{try{i||null==c.return||c.return()}finally{if(s)throw a}}return n},sortBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r?-1:1;return e.sort(function(e,r){return e[t]<r[t]?-n:e[t]>r[t]?n:0})},flatten:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!0,i=!1,s=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var u=a.value;o(u)?e(u,r):r.push(u)}}catch(d){i=!0,s=d}finally{try{n||null==c.return||c.return()}finally{if(i)throw s}}return r},pluck:function(e,t){return u(e).filter(function(e){return t in e}).map(function(e){return e[t]})},omit:function(e){for(var t=l(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var s=0;s<n.length;s++){var a=n[s];if(o(a)){var c=!0,u=!1,d=void 0;try{for(var h,p=a[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){delete t[h.value]}}catch(f){u=!0,d=f}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}}else delete t[a]}return t},sum:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(s);return n.length>0?n.reduce(function(e,t){return e+t},0):void 0},deepExtend:function e(){for(var t=void 0,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];for(var o=0;o<n.length;o++){var c=n[o];if(a(c))for(var u in i(t)||(t={}),c)t[u]=e(t[u],c[u]);else t=c}return t}}},function(e,t,r){var n=r(130),i=r(71),s=r(131);e.exports=function(e){return n(e)||i(e)||s()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=e[i]<<24-i%4*8;t.call(this,n,r)}else t.apply(this,arguments)}).prototype=e}}(),i.lib.WordArray)}()},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(){var e=i,t=e.lib.WordArray,r=e.enc;function n(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],s=0;s<r;s+=2){var a=n(t[s>>>2]>>>16-s%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var r=e.length,i=[],s=0;s<r;s++)i[s>>>1]|=n(e.charCodeAt(s)<<16-s%2*16);return t.create(i,2*r)}}}(),i.enc.Utf16)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(76),function(){var e=s,t=e.lib.WordArray,r=e.algo,n=r.SHA256,i=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(i),e.HmacSHA224=n._createHmacHelper(i)}(),s.SHA224)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(48),r(77),function(){var e=s,t=e.x64,r=t.Word,n=t.WordArray,i=e.algo,a=i.SHA512,o=i.SHA384=a.extend({_doReset:function(){this._hash=new n.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(o),e.HmacSHA384=a._createHmacHelper(o)}(),s.SHA384)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(48),function(e){var t=s,r=t.lib,n=r.WordArray,i=r.Hasher,a=t.x64.Word,o=t.algo,c=[],u=[],d=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,s=0;s<24;s++){for(var o=0,h=0,l=0;l<7;l++){if(1&i){var p=(1<<l)-1;p<32?h^=1<<p:o^=1<<p-32}128&i?i=i<<1^113:i<<=1}d[s]=a.create(o,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=a.create()}();var l=o.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var s=e[t+2*i],a=e[t+2*i+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(E=r[i]).high^=a,E.low^=s}for(var o=0;o<24;o++){for(var l=0;l<5;l++){for(var p=0,f=0,v=0;v<5;v++)p^=(E=r[l+5*v]).high,f^=E.low;var m=h[l];m.high=p,m.low=f}for(l=0;l<5;l++){var y=h[(l+4)%5],g=h[(l+1)%5],b=g.high,k=g.low;for(p=y.high^(b<<1|k>>>31),f=y.low^(k<<1|b>>>31),v=0;v<5;v++)(E=r[l+5*v]).high^=p,E.low^=f}for(var w=1;w<25;w++){var x=(E=r[w]).high,T=E.low,_=c[w];_<32?(p=x<<_|T>>>32-_,f=T<<_|x>>>32-_):(p=T<<_-32|x>>>64-_,f=x<<_-32|T>>>64-_);var C=h[u[w]];C.high=p,C.low=f}var O=h[0],S=r[0];for(O.high=S.high,O.low=S.low,l=0;l<5;l++)for(v=0;v<5;v++){var E=r[w=l+5*v],B=h[w],I=h[(l+1)%5+5*v],A=h[(l+2)%5+5*v];E.high=B.high^~I.high&A.high,E.low=B.low^~I.low&A.low}E=r[0];var M=d[o];E.high^=M.high,E.low^=M.low}},_doFinalize:function(){var t=this._data,r=t.words,i=(this._nDataBytes,8*t.sigBytes),s=32*this.blockSize;r[i>>>5]|=1<<24-i%32,r[(e.ceil((i+1)/s)*s>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,c=o/8,u=[],d=0;d<c;d++){var h=a[d],l=h.high,p=h.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(l)}return new n.init(u,o)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=i._createHelper(l),t.HmacSHA3=i._createHmacHelper(l)}(Math),s.SHA3)}()},function(e,t,r){!function(t,n){var i;e.exports=(i=r(14),function(e){var t=i,r=t.lib,n=r.WordArray,s=r.Hasher,a=t.algo,o=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=n.create([0,1518500249,1859775393,2400959708,2840853838]),l=n.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s,a,p,k,w,x,T,_,C,O,S,E=this._hash.words,B=h.words,I=l.words,A=o.words,M=c.words,P=u.words,F=d.words;for(x=s=E[0],T=a=E[1],_=p=E[2],C=k=E[3],O=w=E[4],r=0;r<80;r+=1)S=s+e[t+A[r]]|0,S+=r<16?f(a,p,k)+B[0]:r<32?v(a,p,k)+B[1]:r<48?m(a,p,k)+B[2]:r<64?y(a,p,k)+B[3]:g(a,p,k)+B[4],S=(S=b(S|=0,P[r]))+w|0,s=w,w=k,k=b(p,10),p=a,a=S,S=x+e[t+M[r]]|0,S+=r<16?g(T,_,C)+I[0]:r<32?y(T,_,C)+I[1]:r<48?m(T,_,C)+I[2]:r<64?v(T,_,C)+I[3]:f(T,_,C)+I[4],S=(S=b(S|=0,F[r]))+O|0,x=O,O=C,C=b(_,10),_=T,T=S;S=E[1]+p+C|0,E[1]=E[2]+k+O|0,E[2]=E[3]+w+x|0,E[3]=E[4]+s+T|0,E[4]=E[0]+a+_|0,E[0]=S},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,s=i.words,a=0;a<5;a++){var o=s[a];s[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return i},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function m(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function g(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=s._createHelper(p),t.HmacRIPEMD160=s._createHmacHelper(p)}(Math),i.RIPEMD160)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(59),r(60),function(){var e=s,t=e.lib,r=t.Base,n=t.WordArray,i=e.algo,a=i.SHA1,o=i.HMAC,c=i.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,i=o.create(r.hasher,e),s=n.create(),a=n.create([1]),c=s.words,u=a.words,d=r.keySize,h=r.iterations;c.length<d;){var l=i.update(t).finalize(a);i.reset();for(var p=l.words,f=p.length,v=l,m=1;m<h;m++){v=i.finalize(v),i.reset();for(var y=v.words,g=0;g<f;g++)p[g]^=y[g]}s.concat(l),u[0]++}return s.sigBytes=4*d,s}});e.PBKDF2=function(e,t,r){return c.create(r).compute(e,t)}}(),s.PBKDF2)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.mode.CFB=function(){var e=s.lib.BlockCipherMode.extend();function t(e,t,r,n){var i=this._iv;if(i){var s=i.slice(0);this._iv=void 0}else s=this._prevBlock;n.encryptBlock(s,0);for(var a=0;a<r;a++)e[t+a]^=s[a]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,s=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=s}}),e}(),s.mode.CFB)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.mode.CTR=function(){var e=s.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var a=s.slice(0);r.encryptBlock(a,0),s[n-1]=s[n-1]+1|0;for(var o=0;o<n;o++)e[t+o]^=a[o]}});return e.Decryptor=t,e}(),s.mode.CTR)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.mode.CTRGladman=function(){var e=s.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}var r=e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var o=a.slice(0);n.encryptBlock(o,0);for(var c=0;c<i;c++)e[r+c]^=o[c]}});return e.Decryptor=r,e}(),s.mode.CTRGladman)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.mode.OFB=function(){var e=s.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(s,0);for(var a=0;a<n;a++)e[t+a]^=s[a]}});return e.Decryptor=t,e}(),s.mode.OFB)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.mode.ECB=function(){var e=s.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),s.mode.ECB)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,s=r+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Ansix923)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.pad.Iso10126={pad:function(e,t){var r=4*t,n=r-e.sigBytes%r;e.concat(s.lib.WordArray.random(n-1)).concat(s.lib.WordArray.create([n<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},s.pad.Iso10126)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.pad.Iso97971={pad:function(e,t){e.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(e,t)},unpad:function(e){s.pad.ZeroPadding.unpad(e),e.sigBytes--}},s.pad.Iso97971)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},s.pad.ZeroPadding)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(18),function(e){var t=s,r=t.lib.CipherParams,n=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(n)},parse:function(e){var t=n.parse(e);return r.create({ciphertext:t})}}}(),s.format.Hex)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(33),r(34),r(20),r(18),function(){var e=s,t=e.lib.BlockCipher,r=e.algo,n=[],i=[],a=[],o=[],c=[],u=[],d=[],h=[],l=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,s=0;for(t=0;t<256;t++){var f=s^s<<1^s<<2^s<<3^s<<4;f=f>>>8^255&f^99,n[r]=f,i[f]=r;var v=e[r],m=e[v],y=e[m],g=257*e[f]^16843008*f;a[r]=g<<24|g>>>8,o[r]=g<<16|g>>>16,c[r]=g<<8|g>>>24,u[r]=g,g=16843009*y^65537*m^257*v^16843008*r,d[f]=g<<24|g>>>8,h[f]=g<<16|g>>>16,l[f]=g<<8|g>>>24,p[f]=g,r?(r=v^e[e[e[y^v]]],s^=e[e[s]]):r=s=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,i=4*((this._nRounds=r+6)+1),s=this._keySchedule=[],a=0;a<i;a++)if(a<r)s[a]=t[a];else{var o=s[a-1];a%r?r>6&&a%r==4&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=f[a/r|0]<<24),s[a]=s[a-r]^o}for(var c=this._invKeySchedule=[],u=0;u<i;u++)a=i-u,o=u%4?s[a]:s[a-4],c[u]=u<4||a<=4?o:d[n[o>>>24]]^h[n[o>>>16&255]]^l[n[o>>>8&255]]^p[n[255&o]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,o,c,u,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,d,h,l,p,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,s,a,o){for(var c=this._nRounds,u=e[t]^r[0],d=e[t+1]^r[1],h=e[t+2]^r[2],l=e[t+3]^r[3],p=4,f=1;f<c;f++){var v=n[u>>>24]^i[d>>>16&255]^s[h>>>8&255]^a[255&l]^r[p++],m=n[d>>>24]^i[h>>>16&255]^s[l>>>8&255]^a[255&u]^r[p++],y=n[h>>>24]^i[l>>>16&255]^s[u>>>8&255]^a[255&d]^r[p++],g=n[l>>>24]^i[u>>>16&255]^s[d>>>8&255]^a[255&h]^r[p++];u=v,d=m,h=y,l=g}v=(o[u>>>24]<<24|o[d>>>16&255]<<16|o[h>>>8&255]<<8|o[255&l])^r[p++],m=(o[d>>>24]<<24|o[h>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^r[p++],y=(o[h>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&d])^r[p++],g=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[d>>>8&255]<<8|o[255&h])^r[p++],e[t]=v,e[t+1]=m,e[t+2]=y,e[t+3]=g},keySize:8});e.AES=t._createHelper(v)}(),s.AES)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(33),r(34),r(20),r(18),function(){var e=s,t=e.lib,r=t.WordArray,n=t.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],s=0;s<16;s++){var u=i[s]=[],d=c[s];for(r=0;r<24;r++)u[r/6|0]|=t[(o[r]-1+d)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(o[r+24]-1+d)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],l.call(this,4,252645135),l.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),l.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],s=this._lBlock,a=this._rBlock,o=0,c=0;c<8;c++)o|=u[c][((a^i[c])&d[c])>>>0];this._lBlock=a,this._rBlock=s^o}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,l.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=n._createHelper(h);var f=i.TripleDES=n.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(r.create(e.slice(0,2))),this._des2=h.createEncryptor(r.create(e.slice(2,4))),this._des3=h.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=n._createHelper(f)}(),s.TripleDES)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(33),r(34),r(20),r(18),function(){var e=s,t=e.lib.StreamCipher,r=e.algo,n=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var s=0;i<256;i++){var a=i%r,o=t[a>>>2]>>>24-a%4*8&255;s=(s+n[i]+o)%256;var c=n[i];n[i]=n[s],n[s]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[r],e[r]=s,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}e.RC4=t._createHelper(n);var a=r.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(a)}(),s.RC4)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(33),r(34),r(20),r(18),function(){var e=s,t=e.lib.StreamCipher,r=e.algo,n=[],i=[],a=[],o=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var s=t.words,a=s[0],o=s[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=u>>>16|4294901760&d,l=d<<16|65535&u;for(i[0]^=u,i[1]^=h,i[2]^=d,i[3]^=l,i[4]^=u,i[5]^=h,i[6]^=d,i[7]^=l,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],s=65535&n,o=n>>>16,c=((s*s>>>17)+s*o>>>15)+o*o,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(o)}(),s.Rabbit)}()},function(e,t,r){!function(t,n,i){var s;e.exports=(s=r(14),r(33),r(34),r(20),r(18),function(){var e=s,t=e.lib.StreamCipher,r=e.algo,n=[],i=[],a=[],o=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var s=t.words,a=s[0],o=s[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=u>>>16|4294901760&d,l=d<<16|65535&u;for(n[0]^=u,n[1]^=h,n[2]^=d,n[3]^=l,n[4]^=u,n[5]^=h,n[6]^=d,n[7]^=l,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],s=65535&n,o=n>>>16,c=((s*s>>>17)+s*o>>>15)+o*o,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(o)}(),s.RabbitLegacy)}()},function(e,t,r){"use strict";var n=r(156),i=r(157),s=r(79);e.exports={formats:s,parse:i,stringify:n}},function(e,t,r){"use strict";var n=r(78),i=r(79),s={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,o={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,r,i,s,a,c,u,d,h,l,p,f){var v=t;if("function"===typeof u)v=u(r,v);else if(v instanceof Date)v=l(v);else if(null===v){if(s)return c&&!f?c(r,o.encoder):r;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||n.isBuffer(v))return c?[p(f?r:c(r,o.encoder))+"="+p(c(v,o.encoder))]:[p(r)+"="+p(String(v))];var m,y=[];if("undefined"===typeof v)return y;if(Array.isArray(u))m=u;else{var g=Object.keys(v);m=d?g.sort(d):g}for(var b=0;b<m.length;++b){var k=m[b];a&&null===v[k]||(y=Array.isArray(v)?y.concat(e(v[k],i(r,k),i,s,a,c,u,d,h,l,p,f)):y.concat(e(v[k],r+(h?"."+k:"["+k+"]"),i,s,a,c,u,d,h,l,p,f)))}return y};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!==typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u="undefined"===typeof a.delimiter?o.delimiter:a.delimiter,d="boolean"===typeof a.strictNullHandling?a.strictNullHandling:o.strictNullHandling,h="boolean"===typeof a.skipNulls?a.skipNulls:o.skipNulls,l="boolean"===typeof a.encode?a.encode:o.encode,p="function"===typeof a.encoder?a.encoder:o.encoder,f="function"===typeof a.sort?a.sort:null,v="undefined"!==typeof a.allowDots&&a.allowDots,m="function"===typeof a.serializeDate?a.serializeDate:o.serializeDate,y="boolean"===typeof a.encodeValuesOnly?a.encodeValuesOnly:o.encodeValuesOnly;if("undefined"===typeof a.format)a.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,a.format))throw new TypeError("Unknown format option provided.");var g,b,k=i.formatters[a.format];"function"===typeof a.filter?r=(b=a.filter)("",r):Array.isArray(a.filter)&&(g=b=a.filter);var w,x=[];if("object"!==typeof r||null===r)return"";w=a.arrayFormat in s?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var T=s[w];g||(g=Object.keys(r)),f&&g.sort(f);for(var _=0;_<g.length;++_){var C=g[_];h&&null===r[C]||(x=x.concat(c(r[C],C,T,d,h,l?p:null,b,f,v,m,k,y)))}var O=x.join(u),S=!0===a.addQueryPrefix?"?":"";return O.length>0?S+O:""}},function(e,t,r){"use strict";var n=r(78),i=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),o=a?n.slice(0,a.index):n,c=[];if(o){if(!r.plainObjects&&i.call(Object.prototype,o)&&!r.allowPrototypes)return;c.push(o)}for(var u=0;null!==(a=s.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var s,a=e[i];if("[]"===a)s=(s=[]).concat(n);else{s=r.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(o,10);!isNaN(c)&&a!==o&&String(c)===o&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=n:s[o]=n}n=s}return n}(c,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:s.delimiter,r.depth="number"===typeof r.depth?r.depth:s.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:s.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:s.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:s.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:s.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:s.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:s.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var o="string"===typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,a),c=0;c<o.length;++c){var u,d,h=o[c],l=h.indexOf("]="),p=-1===l?h.indexOf("="):l+1;-1===p?(u=t.decoder(h,s.decoder),d=t.strictNullHandling?null:""):(u=t.decoder(h.slice(0,p),s.decoder),d=t.decoder(h.slice(p+1),s.decoder)),i.call(r,u)?r[u]=[].concat(r[u]).concat(d):r[u]=d}return r}(e,r):e,c=r.plainObjects?Object.create(null):{},u=Object.keys(o),d=0;d<u.length;++d){var h=u[d],l=a(h,o[h],r);c=n.merge(c,l,r)}return n.compact(c)}},function(e,t,r){"use strict";var n=r(75),i=r(57).capitalize,s=r(74),a=s.stringToBase64,o=s.utf16ToBase64,c=s.urlencodeBase64,u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sha256",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",a=n["Hmac"+r.toUpperCase()](e,t);if(s){var o="binary"===s?"Latin1":i(s);return a.toString(n.enc[i(o)])}return a};e.exports={hash:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md5",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex",s=n[t.toUpperCase()](e);return"binary"===r?s:s.toString(n.enc[i(r)])},hmac:u,jwt:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HS256",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sha256",i=[c(a(JSON.stringify({alg:r,typ:"JWT"}))),c(a(JSON.stringify(e)))].join(".");return[i,c(o(u(i,t,n,"utf16")))].join(".")},totp:function(e){var t=function(e){return parseInt(e,16)},r=function(e,t){return(t+e).slice(-t.length)};return function(e){e=e.replace(" ","");var i,s=Math.round((new Date).getTime()/1e3),a=r(((i=Math.floor(s/30))<15.5?"0":"")+Math.round(i).toString(16),"0000000000000000"),o=u(n.enc.Hex.parse(a),n.enc.Hex.parse(function(e){for(var t="",n="",i=0;i<e.length;i++){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(e.charAt(i).toUpperCase());t+=r(s.toString(2),"00000")}for(var a=0;a+4<=t.length;a+=4){var o=t.substr(a,4);n+=parseInt(o,2).toString(16)}return n}(e)),"sha1","hex"),c=t(o.substring(o.length-1)),d=(t(o.substr(2*c,8))&t("7fffffff"))+"";return d=d.substr(d.length-6,6)}(e)}}},function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){var n=r(1),i=r(61),s=r(162),a=r(163);function o(t){var r="function"===typeof Map?new Map:void 0;return e.exports=o=function(e){if(null===e||!s(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},o(t)}e.exports=o},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(61);function i(t,r,s){return!function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=i=function(e,t,r){var i=[null];i.push.apply(i,t);var s=new(Function.bind.apply(e,i));return r&&n(s,r.prototype),s}:e.exports=i=Reflect.construct,i.apply(null,arguments)}e.exports=i},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(80),a=s.sleep,o=s.now;e.exports={throttle:function e(t){var r=o(),s=void 0!==t.numTokens?t.numTokens:t.capacity,c=!1,u=[];return Object.assign(function(e){if(u.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new Promise(function(){var d=i(n.mark(function i(d,h){var l,p,f,v,m;return n.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,u.push({cost:e,resolve:d,reject:h}),c){n.next=15;break}c=!0;case 4:if(!(u.length>0)){n.next=14;break}return(t.capacity?s>0:s>=0)&&u.length>0&&(l=u[0],p=l.cost,f=l.resolve,l.reject,p=p||t.defaultCost,s>=Math.min(p,t.capacity)&&(s-=p,u.shift(),f())),v=o(),m=v-r,r=v,s=Math.min(t.capacity,s+m*t.refillRate),n.next=12,a(t.delay);case 12:n.next=4;break;case 14:c=!1;case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),h(n.t0);case 20:case"end":return n.stop()}},i,this,[[0,17]])}));return function(e,t){return d.apply(this,arguments)}}())},t,{configure:function(r){return e(Object.assign({},t,r))}})}}},function(e,t,r){"use strict";var n=r(13),i=function(e){var t=e.slice(0,-1),r=e.slice(-1),n=60;return"y"===r?n=31536e3:"M"===r?n=2592e3:"w"===r?n=604800:"d"===r?n=86400:"h"===r&&(n=3600),t*n};e.exports={aggregate:function(e){var t={},r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=n(a.value,2),u=c[0],d=c[1];d>0&&(t[u]=(t[u]||0)+d)}}catch(h){i=!0,s=h}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return Object.keys(t).map(function(e){return[parseFloat(e),parseFloat(t[e])]})},parseTimeframe:i,buildOHLCVC:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1/0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,s=1e3*i(t),a=[],o=[0,1,2,3,4,5,6],c=o[0],u=o[2],d=o[3],h=o[4],l=o[5],p=o[6],f=Math.min(e.length-1,n),v=0;v<=f;v++){var m=e[v];if(!(m.timestamp<r)){var y=Math.floor(m.timestamp/s)*s,g=a.length-1;-1===g||y>=a[g][c]+s?a.push([y,m.price,m.price,m.price,m.price,m.amount,1]):(a[g][u]=Math.max(a[g][u],m.price),a[g][d]=Math.min(a[g][d],m.price),a[g][h]=m.price,a[g][l]+=m.amount,a[g][p]++)}}return a}}},function(e,t,r){"use strict";var n=r(2),i=r(3);e.exports=function(){function e(t,r){n(this,e),this.exchange=t,this.symbol=r,this.market=t.markets[r]}return i(e,[{key:"amountToPrecision",value:function(e){return this.exchange.amountToPrecision(this.symbol,e)}},{key:"createLimitBuyOrder",value:function(e,t){return this.exchange.createLimitBuyOrder(this.symbol,e,t)}},{key:"createLimitSellOrder",value:function(e,t){return this.exchange.createLimitSellOrder(this.symbol,e,t)}}]),e}()},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n;!function(i){"use strict";function s(e){var t=e&&e.Promise||i.Promise,r=e&&e.XMLHttpRequest||i.XMLHttpRequest,n=i;return function(){var e=Object.create(n,{fetch:{value:void 0,writable:!0}});return function(e){if(!e.fetch){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=u(e),t=d(t);var r=this.map[e];this.map[e]=r?r+","+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=d(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),h(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),h(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),h(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];w.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=g,e.Response=w,e.fetch=function(e,i){return new t(function(t,s){var a=new g(e,i),o=new r;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:k(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;t(new w(r,e))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&n.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return t.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new t(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function v(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(n.arrayBuffer&&n.blob&&s(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||t.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var r=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function k(e){var t=new l;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}function w(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof e?e:this),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response}}()}void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}("undefined"===typeof self?this:self)},function(e,t,r){var n=r(1);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(50);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"allcoin",name:"Allcoin",countries:["CA"],has:{CORS:!1},extension:"",urls:{logo:"https://user-images.githubusercontent.com/1294454/31561809-c316b37c-b061-11e7-8d5a-b547b4d730eb.jpg",api:{web:"https://www.allcoin.com",public:"https://api.allcoin.com/api",private:"https://api.allcoin.com/api"},www:"https://www.allcoin.com",doc:"https://www.allcoin.com/api_market/market"},api:{web:{get:["Home/MarketOverViewDetail/"]},public:{get:["depth","kline","ticker","trades"]},private:{post:["batch_trade","cancel_order","order_history","order_info","orders_info","repayment","trade","trade_history","userinfo"]}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},t=[],e.next=4,this.webGetHomeMarketOverViewDetail();case 4:for(r=e.sent,i=r.marketCoins,s=0;s<i.length;s++)for(a=i[s].Markets,o=0;o<a.length;o++)c=a[o].Market,u=c.Primary,d=c.Secondary,h=u.toLowerCase(),l=d.toLowerCase(),p=h+"_"+l,f=u+"/"+d,v=c.TradeEnabled&&c.BuyEnabled&&c.SellEnabled,t.push({id:p,symbol:f,base:u,quote:d,baseId:h,quoteId:l,active:v,type:"spot",spot:!0,future:!1,maker:c.AskFeeRate,taker:c.AskFeeRate,precision:{amount:c.PrimaryDigits,price:c.SecondaryDigits},limits:{amount:{min:c.MinTradeAmount,max:c.MaxTradeAmount},price:{min:c.MinOrderPrice,max:c.MaxOrderPrice},cost:{min:void 0,max:void 0}},info:c});return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({"-1":"canceled",0:"open",1:"open",2:"closed",10:"canceled"},e,e)}},{key:"getCreateDateField",value:function(){return"create_data"}},{key:"getOrdersField",value:function(){return"order"}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"anxpro",name:"ANXPro",countries:["JP","SG","HK","NZ"],rateLimit:1500,has:{CORS:!1,fetchCurrencies:!0,fetchOHLCV:!1,fetchTrades:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27765983-fd8595da-5ec9-11e7-82e3-adb3ab8c2612.jpg",api:{public:"https://anxpro.com/api/2",private:"https://anxpro.com/api/2",v3public:"https://anxpro.com/api/3"},www:"https://anxpro.com",doc:["https://anxv2.docs.apiary.io","https://anxv3.docs.apiary.io","https://anxpro.com/pages/api"]},api:{v3public:{get:["currencyStatic"]},public:{get:["{currency_pair}/money/ticker","{currency_pair}/money/depth/full","{currency_pair}/money/trade/fetch"]},private:{post:["{currency_pair}/money/order/add","{currency_pair}/money/order/cancel","{currency_pair}/money/order/quote","{currency_pair}/money/order/result","{currency_pair}/money/orders","money/{currency}/address","money/{currency}/send_simple","money/info","money/trade/list","money/wallet/history"]}},httpExceptions:{403:f},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002}}})}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.length>0&&void 0!==b[0]?b[0]:{},e.next=3,this.v3publicGetCurrencyStatic(t);case 3:for(r=e.sent,i={},s=r.currencyStatic.currencies,a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=s[c],d=this.commonCurrencyCode(c),h=this.safeValue(u,"engineSettings"),l=this.safeValue(h,"depositsEnabled"),p=this.safeValue(h,"withdrawalsEnabled"),f=this.safeValue(h,"displayEnabled"),v=l&&p&&f,m=this.safeInteger(u,"decimals"),y=this.safeFloat(u,"networkFee"),"undefined"!==(g=this.safeString(u,"type"))&&(g=g.toLowerCase()),i[d]={id:c,code:d,info:u,name:d,type:g,active:v,precision:m,fee:y,limits:{amount:{min:this.safeFloat(u,"minOrderSize"),max:this.safeFloat(u,"maxOrderSize")},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(u,"minOrderValue"),max:this.safeFloat(u,"maxOrderValue")},withdraw:{min:void 0,max:void 0}}};return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.length>0&&void 0!==_[0]?_[0]:{},e.next=3,this.v3publicGetCurrencyStatic(t);case 3:for(r=e.sent,i=this.safeValue(r,"currencyStatic",{}),s=this.safeValue(i,"currencies",{}),a=this.safeValue(i,"currencyPairs",{}),o=[],c=Object.keys(a),u=0;u<c.length;u++)d=c[u],h=a[d],l=this.safeString(h,"tradedCcy"),p=this.safeString(h,"settlementCcy"),f=this.commonCurrencyCode(l),v=this.commonCurrencyCode(p),m=f+"/"+v,y=this.safeValue(s,l,{}),g=this.safeValue(s,p,{}),b={price:this.safeInteger(h,"priceDecimals"),amount:this.safeInteger(y,"decimals")},k=this.safeValue(h,"engineSettings"),w=this.safeValue(k,"displayEnabled"),x=this.safeValue(k,"tradingEnabled"),T=w&&x,o.push({id:d,symbol:m,base:f,quote:v,baseId:l,quoteId:p,precision:b,active:T,limits:{price:{min:this.safeFloat(h,"minOrderRate"),max:this.safeFloat(h,"maxOrderRate")},amount:{min:this.safeFloat(y,"minOrderSize"),max:this.safeFloat(y,"maxOrderSize")},cost:{min:this.safeFloat(g,"minOrderValue"),max:this.safeFloat(g,"maxOrderValue")}},info:h});return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostMoneyInfo();case 3:for(t=e.sent,r=t.data,i=Object.keys(r.Wallets),s={info:r},a=0;a<i.length;a++)o=i[a],c=this.account(),o in r.Wallets&&(u=r.Wallets[o],c.free=parseFloat(u.Available_Balance.value),c.total=parseFloat(u.Balance.value),c.used=c.total-c.free),s[o]=c;return e.abrupt("return",this.parseBalance(s));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.publicGetCurrencyPairMoneyDepthFull(this.extend({currency_pair:this.marketId(t)},r));case 4:return i=e.sent,s=i.data,a=parseInt(s.dataUpdateTime),o=parseInt(a/1e3),e.abrupt("return",this.parseOrderBook(s,o,"bids","asks","price","amount"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=3,this.publicGetCurrencyPairMoneyTicker(this.extend({currency_pair:this.marketId(t)},r));case 3:return i=e.sent,s=i.data,a=parseInt(s.dataUpdateTime),o=parseInt(a/1e3),c=this.safeFloat(s.buy,"value"),u=this.safeFloat(s.sell,"value"),d=parseFloat(s.vol.value),h=parseFloat(s.last.value),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:parseFloat(s.high.value),low:parseFloat(s.low.value),bid:c,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:parseFloat(s.avg.value),baseVolume:d,quoteVolume:void 0,info:s});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:void 0,r.length>3&&void 0!==r[3]?r[3]:{},new p(this.id+" switched off the trades endpoint, see their docs at https://docs.anxv2.apiary.io");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},c=this.market(t),u={currency_pair:c.id,amount_int:parseInt(1e8*s)},"limit"===r&&(u.price_int=parseInt(a*c.multiplier)),u.type="buy"===i?"bid":"ask",e.next=8,this.privatePostCurrencyPairMoneyOrderAdd(this.extend(u,o));case 8:return d=e.sent,e.abrupt("return",{info:d,id:d.data});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCurrencyPairMoneyOrderCancel({oid:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAmountMultiplier",value:function(e){return this.safeInteger({BTC:1e8,LTC:1e8,STR:1e8,XRP:1e8,DOGE:1e8},e,100)}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c=this.getAmountMultiplier(t),u={currency:o,amount_int:parseInt(r*c),address:i},void 0!==s&&(u.destinationTag=s),e.next=11,this.privatePostMoneyCurrencySendSimple(this.extend(u,a));case 11:return d=e.sent,e.abrupt("return",{info:d,id:d.data.transactionId});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),o=this.omit(n,this.extractParams(e)),c=this.urls.api[t]+"/"+a;if("public"===t||"v3public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var u=this.nonce();s=this.urlencode(this.extend({nonce:u},o));var d=this.base64ToBinary(this.secret),h=a+"\0"+s,l=this.hmac(this.encode(h),d,"sha512","base64");i={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(l)}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(void 0!==a&&""!==a){var o=this.safeString(a,"result");if(void 0!==o&&"success"!==o)throw new p(this.id+" "+s);var c=this.safeString(a,"resultCode");if(void 0!==c&&"OK"!==c)throw new p(this.id+" "+s)}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(82);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"anybits",name:"Anybits",countries:["IE"],has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41388454-ae227544-6f94-11e8-82a4-127d51d34903.jpg",api:"https://anybits.com/api",www:"https://anybits.com",doc:"https://anybits.com/help/api",fees:"https://anybits.com/help/fees"},api:{public:{get:["assets/currencies","assets/pairs","ticker","orderbook","trades"]},private:{post:["balances","order/cancel","order/new","order/status","orders","orders/history","deposit/address","withdraw","withdrawal/status","transactions/history","vouchers","vouchers/create","vouchers/redeem"]}},fees:{trading:{maker:.0015,taker:.0025}}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.AuthenticationError,m=l.InsufficientFunds,y=l.InvalidOrder,g=l.OrderNotFound;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bcex",name:"BCEX",countries:["CN","CA"],version:"1",has:{fetchBalance:!0,fetchMarkets:!0,createOrder:!0,cancelOrder:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchClosedOrders:"emulated",fetchOpenOrders:!0,fetchTradingLimits:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/43362240-21c26622-92ee-11e8-9464-5801ec526d77.jpg",api:"https://www.bcex.top",www:"https://www.bcex.top",doc:"https://www.bcex.top/api_market/market/",fees:"https://bcex.udesk.cn/hc/articles/57085",referral:"https://www.bcex.top/user/reg/type/2/pid/758978"},api:{public:{get:["Api_Market/getPriceList","Api_Order/ticker","Api_Order/depth","Api_Market/getCoinTrade","Api_Order/marketOrder"],post:["Api_Market/getPriceList","Api_Order/ticker","Api_Order/depth","Api_Market/getCoinTrade","Api_Order/marketOrder"]},private:{post:["Api_Order/cancel","Api_Order/coinTrust","Api_Order/orderList","Api_Order/orderInfo","Api_Order/tradeList","Api_Order/trustList","Api_User/userBalance"]}},fees:{trading:{tierBased:!1,percentage:!0,buy:0,sell:.002},funding:{tierBased:!1,percentage:!1,withdraw:{ckusd:0,other:5e-4},deposit:{}}},exceptions:{"\u8be5\u5e01\u4e0d\u5b58\u5728,\u975e\u6cd5\u64cd\u4f5c":p,"\u516c\u94a5\u4e0d\u5408\u6cd5":v,"\u60a8\u7684\u53ef\u7528\u4f59\u989d\u4e0d\u8db3":m,"\u60a8\u7684btc\u4e0d\u8db3":m,"\u53c2\u6570\u975e\u6cd5":y,"\u8ba2\u5355\u4fe1\u606f\u4e0d\u5b58\u5728":g},options:{limits:{"AFC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:6,max:12e4}}},"AFC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:6,max:12e4}}},"AFT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:15,max:3e5}}},"AICC/CNET":{precision:{amount:2,price:2},limits:{amount:{min:5,max:5e4}}},"AIDOC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:5,max:1e5}}},"AISI/ETH":{precision:{amount:4,price:2},limits:{amount:{min:.001,max:500}}},"AIT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:20,max:4e5}}},"ANS/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.1,max:500}}},"ANS/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.1,max:1e3}}},"ARC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:60,max:6e5}}},"AXF/CNET":{precision:{amount:2,price:4},limits:{amount:{min:100,max:1e6}}},"BASH/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:250,max:3e6}}},"BATT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:60,max:15e5}}},"BCD/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.3,max:7e3}}},"BHPC/BTC":{precision:{amount:2,price:8},limits:{amount:{min:2,max:7e4}}},"BHPC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:2,max:6e4}}},"BOPO/BTC":{precision:{amount:2,price:8},limits:{amount:{min:100,max:2e6}}},"BOPO/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:100,max:1e7}}},"BTC/CKUSD":{precision:{amount:4,price:2},limits:{amount:{min:.001,max:10}}},"BTC/CNET":{precision:{amount:4,price:2},limits:{amount:{min:5e-4,max:5}}},"BTC/USDT":{precision:{amount:4,price:2},limits:{amount:{min:2e-4,max:4}}},"BTE/CNET":{precision:{amount:2,price:4},limits:{amount:{min:25,max:25e4}}},"BU/ETH":{precision:{amount:2,price:8},limits:{amount:{min:20,max:4e5}}},"CIC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:3e3,max:3e7}}},"CIT/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:4,max:4e4}}},"CIT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:4,max:4e4}}},"CMT/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:5,max:25e5}}},"CNET/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:12,max:12e4}}},"CNMC/BTC":{precision:{amount:2,price:8},limits:{amount:{min:4,max:5e4}}},"CTC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:5,max:55e4}}},"CZR/ETH":{precision:{amount:2,price:8},limits:{amount:{min:12,max:5e5}}},"DCON/ETH":{precision:{amount:2,price:8},limits:{amount:{min:8,max:3e5}}},"DCT/BTC":{precision:{amount:4,price:8},limits:{amount:{min:2,max:4e4}}},"DCT/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:2,max:2e3}}},"DOGE/BTC":{precision:{amount:4,price:8},limits:{amount:{min:3e3,max:14e6}}},"DOGE/CKUSD":{precision:{amount:2,price:6},limits:{amount:{min:500,max:2e6}}},"DRCT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:16,max:19e4}}},"ELA/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.02,max:500}}},"ELF/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.1,max:1e5}}},"ELF/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:.01,max:1e5}}},"EOS/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.5,max:5e3}}},"EOS/CNET":{precision:{amount:2,price:2},limits:{amount:{min:2.5,max:3e4}}},"EOS/ETH":{precision:{amount:2,price:8},limits:{amount:{min:.18,max:1800}}},"ETC/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.2,max:2500}}},"ETC/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.2,max:2500}}},"ETF/ETH":{precision:{amount:2,price:8},limits:{amount:{min:7,max:15e4}}},"ETH/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.015,max:100}}},"ETH/CKUSD":{precision:{amount:4,price:4},limits:{amount:{min:.005,max:100}}},"ETH/USDT":{precision:{amount:4,price:2},limits:{amount:{min:.005,max:100}}},"FCT/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.24,max:1e3}}},"FCT/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.24,max:1e3}}},"GAME/CNET":{precision:{amount:2,price:2},limits:{amount:{min:1,max:1e4}}},"GOOC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:200,max:2e6}}},"GP/CNET":{precision:{amount:2,price:4},limits:{amount:{min:600,max:6e6}}},"HSC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:1e3,max:2e7}}},"IFISH/ETH":{precision:{amount:2,price:8},limits:{amount:{min:300,max:8e6}}},"IIC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:50,max:4e6}}},"IMOS/ETH":{precision:{amount:2,price:8},limits:{amount:{min:15,max:3e5}}},"JC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:300,max:3e6}}},"LBTC/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.1,max:3e3}}},"LEC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:500,max:5e6}}},"LKY/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:10,max:7e4}}},"LKY/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:1e5}}},"LMC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:25,max:25e4}}},"LSK/CNET":{precision:{amount:2,price:2},limits:{amount:{min:.3,max:3e3}}},"LTC/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.01,max:500}}},"LTC/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.01,max:500}}},"LTC/USDT":{precision:{amount:4,price:2},limits:{amount:{min:.02,max:450}}},"MC/CNET":{precision:{amount:2,price:6},limits:{amount:{min:1e4,max:1e8}}},"MCC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:30,max:35e4}}},"MOC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:25,max:6e5}}},"MRYC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:300,max:3e6}}},"MT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:200,max:6e6}}},"MXI/CNET":{precision:{amount:2,price:6},limits:{amount:{min:5e3,max:6e7}}},"NAI/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:1e5}}},"NAS/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.2,max:15e3}}},"NAS/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.5,max:5e3}}},"NEWOS/ETH":{precision:{amount:2,price:8},limits:{amount:{min:65,max:7e5}}},"NKN/ETH":{precision:{amount:2,price:8},limits:{amount:{min:3,max:35e4}}},"NTK/ETH":{precision:{amount:2,price:8},limits:{amount:{min:2,max:3e4}}},"ONT/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:.2,max:2e3}}},"ONT/ETH":{precision:{amount:3,price:8},limits:{amount:{min:.01,max:1e3}}},"PNT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:80,max:8e5}}},"PST/ETH":{precision:{amount:2,price:8},limits:{amount:{min:5,max:1e5}}},"PTT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:450,max:1e7}}},"QTUM/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.4,max:2800}}},"QTUM/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.1,max:1e3}}},"RATING/ETH":{precision:{amount:2,price:8},limits:{amount:{min:500,max:1e7}}},"RHC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:1e3,max:1e7}}},"SDA/ETH":{precision:{amount:2,price:8},limits:{amount:{min:20,max:5e5}}},"SDD/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:10,max:1e5}}},"SHC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:250,max:25e5}}},"SHE/ETH":{precision:{amount:2,price:8},limits:{amount:{min:100,max:5e6}}},"SMC/CNET":{precision:{amount:2,price:6},limits:{amount:{min:1e3,max:1e7}}},"SOP/ETH":{precision:{amount:2,price:8},limits:{amount:{min:50,max:1e6}}},"TAC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:35,max:8e5}}},"TIP/ETH":{precision:{amount:2,price:8},limits:{amount:{min:7,max:2e5}}},"TKT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:40,max:4e5}}},"TLC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:500,max:1e7}}},"TNC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:11e4}}},"TUB/ETH":{precision:{amount:2,price:8},limits:{amount:{min:200,max:8e6}}},"UC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:100,max:3e6}}},"UDB/CNET":{precision:{amount:2,price:6},limits:{amount:{min:2e3,max:4e7}}},"UIC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:5,max:15e4}}},"VAAC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:25e4}}},"VPN/CNET":{precision:{amount:2,price:4},limits:{amount:{min:200,max:2e6}}},"VSC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:30,max:65e4}}},"WAVES/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:.15,max:1500}}},"WDNA/ETH":{precision:{amount:2,price:8},limits:{amount:{min:100,max:25e4}}},"WIC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:3,max:3e4}}},"XAS/CNET":{precision:{amount:2,price:2},limits:{amount:{min:2.5,max:25e3}}},"XLM/BTC":{precision:{amount:4,price:8},limits:{amount:{min:10,max:3e5}}},"XLM/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:1,max:3e5}}},"XLM/USDT":{precision:{amount:2,price:4},limits:{amount:{min:5,max:15e4}}},"XRP/BTC":{precision:{amount:4,price:8},limits:{amount:{min:24,max:1e5}}},"XRP/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:5,max:5e4}}},"YBCT/BTC":{precision:{amount:4,price:8},limits:{amount:{min:15,max:2e5}}},"YBCT/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:10,max:2e5}}},"YBY/CNET":{precision:{amount:2,price:6},limits:{amount:{min:25e3,max:25e7}}},"ZEC/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.02,max:100}}},"ZEC/CKUSD":{precision:{amount:4,price:2},limits:{amount:{min:.02,max:100}}}}}})}},{key:"fetchTradingLimits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,this.loadMarkets();case 4:void 0===t&&(t=this.symbols),i={},s=0;case 7:if(!(s<t.length)){e.next=15;break}return a=t[s],e.next=11,this.fetchTradingLimitsById(this.marketId(a),r);case 11:i[a]=e.sent;case 12:s++,e.next=7;break;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingLimitsById",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},i={symbol:t},e.next=4,this.publicPostApiOrderTicker(this.extend(i,r));case 4:return s=e.sent,e.abrupt("return",this.parseTradingLimits(this.safeValue(s,"data",{})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTradingLimits",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{info:e,precision:{amount:this.safeInteger(e,"number_float"),price:this.safeInteger(e,"price_float")},limits:{amount:{min:this.safeFloat(e,"min_trade"),max:this.safeFloat(e,"max_trade")}}}}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.publicGetApiMarketGetPriceList();case 3:for(t=e.sent,r=[],i=Object.keys(t),s=0;s<i.length;s++)for(a=i[s],o=t[a],c=0;c<o.length;c++)u=o[c],d=u.coin_from,h=u.coin_to,l=d.toUpperCase(),p=h.toUpperCase(),l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),f=d+"2"+h,v=l+"/"+p,!0,m=this.safeValue(this.options.limits,v,{}),r.push(this.extend({id:f,symbol:v,base:l,quote:p,baseId:d,quoteId:h,active:!0,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:u},m));return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger2(e,"date","created");void 0!==n&&(n*=1e3);var i=this.safeString(e,"tid"),s=this.safeString(e,"order_id"),a=this.safeFloat2(e,"number","amount"),o=this.safeFloat(e,"price"),c=void 0;void 0!==o&&void 0!==a&&(c=a*o);var u=this.safeString(e,"side");return"sale"===u&&(u="sell"),{info:e,id:i,timestamp:n,datetime:this.iso8601(n),symbol:r,type:void 0,side:u,price:o,amount:a,cost:c,order:s,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a={symbol:this.marketId(t)},void 0!==i&&(a.limit=i),o=this.market(t),e.next=10,this.publicPostApiOrderMarketOrder(this.extend(a,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data,o,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostApiUserUserBalance(t);case 5:for(r=e.sent,i=r.data,s=Object.keys(i),a={},o=0;o<s.length;o++)c=s[o],u=this.safeFloat(i,c),d=c.split("_"),h=d[0],l=d[1],p=h.toUpperCase(),(p=h in this.currencies_by_id?this.currencies_by_id[h].code:this.commonCurrencyCode(p))in a||(f=this.account(),a[p]=f),"lock"===l?a[p].used=parseFloat(u):a[p].free=parseFloat(u);for(s=Object.keys(a),v=0;v<s.length;v++)m=s[v],y=this.sum(a[m].used,a[m].free),a[m].total=y;return a.info=i,e.abrupt("return",this.parseBalance(a));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.markets[t],s={part:i.quoteId,coin:i.baseId},e.next=7,this.publicPostApiMarketGetCoinTrade(this.extend(s,r));case 7:return a=e.sent,o=this.milliseconds(),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(a,"max"),low:this.safeFloat(a,"min"),bid:this.safeFloat(a,"buy"),bidVolume:void 0,ask:this.safeFloat(a,"sale"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeFloat(a,"price"),last:this.safeFloat(a,"price"),previousClose:void 0,change:void 0,percentage:this.safeFloat(a,"change_24h"),average:void 0,baseVolume:this.safeFloat(a,"volume_24h"),quoteVolume:void 0,info:a});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.marketId(t),s={symbol:i},e.next=8,this.publicPostApiOrderDepth(this.extend(s,r));case 8:return a=e.sent,o=a.data,c=this.parseOrderBook(o,1e3*o.date),e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={symbol:a.id},e.next=10,this.privatePostApiOrderOrderList(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"open",2:"closed",3:"canceled"};return e in t?t[e]:e}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:void 0,i=l.length>2&&void 0!==l[2]?l[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s={symbol:this.marketId(r),trust_id:t},e.next=9,this.privatePostApiOrderOrderInfo(this.extend(s,i));case 9:return a=e.sent,o=a.data,c=1e3*this.safeInteger(o,"created"),u=this.parseOrderStatus(this.safeString(o,"status")),"sale"===(d=this.safeString(o,"flag"))&&(d="sell"),h={info:o,id:t,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:r,type:void 0,side:d,price:this.safeFloat(o,"price"),cost:void 0,average:this.safeFloat(o,"avg_price"),amount:this.safeFloat(o,"number"),filled:this.safeFloat(o,"numberdeal"),remaining:this.safeFloat(o,"numberover"),status:u,fee:void 0},e.abrupt("return",h);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=1e3*this.safeInteger(e,"datetime"),i=t.symbol,s=this.safeString(e,"type");"sale"===s&&(s="sell");var a=this.safeFloat(e,"price"),o=this.safeFloat(e,"avg_price"),c=this.safeFloat(e,"amount"),u=this.safeFloat(e,"amount_outstanding"),d=c-u,h=this.parseOrderStatus(this.safeString(e,"status")),l=d*a;return{info:e,id:r,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:i,type:void 0,side:s,price:a,cost:l,average:o,amount:c,filled:d,remaining:u,status:h,fee:void 0}}},{key:"fetchOrdersByType",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o={type:t},c=void 0,void 0!==r&&(c=this.market(r),o.symbol=c.id),e.next=11,this.privatePostApiOrderTradeList(this.extend(o,a));case 11:if(!("data"in(u=e.sent))){e.next=14;break}return e.abrupt("return",this.parseOrders(u.data,c,i,s));case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrdersByType("open",t,r,i,s));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrdersByType("all",t,r,i,s));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c={symbol:this.marketId(t),type:i,price:this.priceToPrecision(t,a),number:this.amountToPrecision(t,s)},e.next=7,this.privatePostApiOrderCoinTrust(this.extend(c,o));case 7:return u=e.sent,d=u.data,e.abrupt("return",{info:u,id:this.safeString(d,"order_id")});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s={},void 0!==r&&(s.symbol=this.marketId(r)),void 0!==t&&(s.order_id=t),e.next=11,this.privatePostApiOrderCancel(this.extend(s,i));case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.urlencode({api_key:this.apiKey});Object.keys(o).length&&(c+="&"+this.urlencode(this.keysort(o)));var u=c+"&secret_key="+this.secret;s=c+"&sign="+this.hash(this.encode(u)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeValue(a,"code");if(void 0!==o&&0!==o){var c=this.safeString(a,"msg"),u=this.id+" msg: "+c+" "+s,d=this.exceptions;throw c in d?new d[c](u):c.indexOf("\u8bf7\u60a8\u91cd\u65b0\u6302\u5355")>=0?new y(u):new p(u)}}}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[r],c=parseFloat(this.costToPrecision(e,n*i));return{type:s,currency:a.quote,rate:o,cost:parseFloat(this.feeToPrecision(e,o*c))}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.AuthenticationError,m=l.DDoSProtection,y=l.ExchangeNotAvailable,g=l.InvalidOrder,b=l.OrderNotFound,k=l.PermissionDenied,w=l.InsufficientFunds;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",has:{CORS:!1,publicAPI:!1,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOHLCV:!0,createMarketOrder:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","12h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/34902611-2be8bf1a-f830-11e7-91a2-11b2f292e750.jpg",api:"https://api.bibox.com",www:"https://www.bibox.com",doc:["https://github.com/Biboxcom/api_reference/wiki/home_en","https://github.com/Biboxcom/api_reference/wiki/api_reference"],fees:"https://bibox.zendesk.com/hc/en-us/articles/115004417013-Fee-Structure-on-Bibox",referral:"https://www.bibox.com/signPage?id=11114745&lang=en"},api:{public:{post:["mdata"],get:["mdata"]},private:{post:["user","orderpending","transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2021:w,2015:v,2027:w,2033:b,2067:g,2068:g,2085:g,3012:v,3024:k,3025:v,4000:y,4003:m},commonCurrencies:{KEY:"Bihu",PAI:"PCHAIN"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetMdata(this.extend({cmd:"marketAll"},t));case 3:for(r=e.sent,i=r.result,s=[],a=0;a<i.length;a++)o=i[a],c=o.coin_symbol,u=o.currency_symbol,d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,p=c+"_"+u,f={amount:4,price:8},s.push({id:p,symbol:l,base:d,quote:h,baseId:d,quoteId:h,active:!0,info:o,precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:void 0},price:{min:void 0,max:void 0}}});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp"),n=void 0;if(void 0!==t)n=t.symbol;else{var i=e.coin_symbol,s=e.currency_symbol;n=this.commonCurrencyCode(i)+"/"+this.commonCurrencyCode(s)}var a=this.safeFloat(e,"last"),o=this.safeFloat(e,"change"),c=void 0;c="vol"in e?this.safeFloat(e,"vol"):this.safeFloat(e,"vol24H");var u=void 0;void 0!==a&&void 0!==o&&(u=a-o);var d=this.safeString(e,"percent");return void 0!==d&&(d=d.replace("%",""),d=parseFloat(d)),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:u,close:a,last:a,previousClose:void 0,change:o,percentage:d,average:void 0,baseVolume:c,quoteVolume:this.safeFloat(e,"amount"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetMdata(this.extend({cmd:"ticker",pair:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.result,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++){var i=this.parseTicker(e[n]);(void 0===t||this.inArray(i.symbol,t))&&r.push(i)}return r}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,this.publicGetMdata(this.extend({cmd:"marketAll"},r));case 4:return i=e.sent,s=this.parseTickers(i.result,t),e.abrupt("return",this.indexBy(s,"symbol"));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"time");r=this.safeInteger(e,"createdAt",r);var n=this.safeInteger(e,"side");n=1===(n=this.safeInteger(e,"order_side",n))?"buy":"sell";var i=void 0;if(void 0===t){var s=this.safeString(e,"pair");if(void 0===s){var a=this.safeString(e,"coin_symbol"),o=this.safeString(e,"currency_symbol");void 0!==a&&void 0!==o&&(s=a+"_"+o)}s in this.markets_by_id&&(t=this.markets_by_id[s])}void 0!==t&&(i=t.symbol);var c=void 0,u=this.safeFloat(e,"fee"),d=this.safeString(e,"fee_symbol");void 0!==d&&(d=d in this.currencies_by_id?this.currencies_by_id[d].code:this.commonCurrencyCode(d));var h=this.safeFloat(e,"price"),l=this.safeFloat(e,"amount"),p=h*l;return void 0!==u&&(c={cost:u,currency:d,rate:void 0}),{info:e,id:this.safeString(e,"id"),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:i,type:"limit",takerOrMaker:void 0,side:n,price:h,amount:l,cost:p,fee:c}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o=i||200,e.next=9,this.publicGetMdata(this.extend({cmd:"deals",pair:a.id,size:o},s));case 9:return c=e.sent,e.abrupt("return",this.parseTrades(c.result,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:200,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),(a={cmd:"depth",pair:s.id}).size=r,e.next=9,this.publicGetMdata(this.extend(a,i));case 9:return o=e.sent,e.abrupt("return",this.parseOrderBook(o.result,this.safeFloat(o.result,"update_time"),"bids","asks","price","volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.time,e.open,e.high,e.low,e.close,e.vol]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"1m",i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:1e3,a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.publicGetMdata(this.extend({cmd:"kline",pair:o.id,period:this.timeframes[r],size:s},a));case 9:return c=e.sent,e.abrupt("return",this.parseOHLCVs(c.result,o,r,i,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.privatePostTransfer({cmd:"transfer/coinList",body:{}});case 3:for(t=e.sent,r=t.result,i={},s=0;s<r.length;s++)a=r[s],o=a.symbol,c=this.commonCurrencyCode(o),8,u=a.enable_deposit,d=a.enable_withdraw,h=!(!u||!d),i[c]={id:o,code:c,info:a,name:a.name,active:h,fee:void 0,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,8)}}};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostTransfer({cmd:"transfer/assets",body:this.extend({select:1},t)});case 5:r=e.sent,i=r.result,s={info:i},a=void 0,a="assets_list"in i?this.indexBy(i.assets_list,"coin_symbol"):i,o=Object.keys(a);for(c=0;c<o.length;c++)u=o[c],(d=u.toUpperCase()).indexOf("TOTAL_")>=0&&(d=d.slice(6)),d in this.currencies_by_id&&(d=this.currencies_by_id[d].code),h=this.account(),"string"===typeof(l=a[u])?(l=parseFloat(l),h.free=l,h.used=0,h.total=l):(h.free=parseFloat(l.balance),h.used=parseFloat(l.freeze),h.total=this.sum(h.free,h.used)),s[d]=h;return e.abrupt("return",this.parseBalance(s));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u="limit"===r?2:1,d="buy"===i?1:2,e.next=9,this.privatePostOrderpending({cmd:"orderpending/trade",body:this.extend({pair:c.id,account_type:0,order_type:u,order_side:d,pay_bix:0,amount:s,price:a},o)});case 9:return h=e.sent,e.abrupt("return",{info:h,id:this.safeString(h,"result")});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.privatePostOrderpending({cmd:"orderpending/cancelTrade",body:this.extend({orders_id:t},r)});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderpending({cmd:"orderpending/order",body:this.extend({id:t},r)});case 6:if(i=e.sent,s=this.safeValue(i,"result"),!this.isEmpty(s)){e.next=10;break}throw new b(this.id+" order "+t+" not found");case 10:return e.abrupt("return",this.parseOrder(s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=void 0,i=this.safeString(e,"coin_symbol"),s=this.safeString(e,"currency_symbol");void 0!==i&&void 0!==s&&(n=i+"_"+s),n in this.markets_by_id&&(t=this.markets_by_id[n])}void 0!==t&&(r=t.symbol);var a=1===e.order_type?"market":"limit",o=e.createdAt,c=this.safeFloat(e,"price"),u=this.safeFloat(e,"deal_price"),d=this.safeFloat(e,"deal_amount"),h=this.safeFloat(e,"amount"),l=this.safeFloat2(e,"deal_money","money"),p=void 0;void 0!==d&&(void 0!==h&&(p=h-d),void 0===l&&(l=c*d));var f=1===e.order_side?"buy":"sell",v=this.parseOrderStatus(this.safeString(e,"status"));return{info:e,id:this.safeString(e,"id"),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:r,type:a,side:f,price:c,amount:h,cost:l||parseFloat(c)*d,average:u,filled:d,remaining:p,status:v,fee:this.safeFloat(e,"fee")}}},{key:"parseOrderStatus",value:function(e){return this.safeString({1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"},e,e)}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},a=void 0,o=void 0,void 0===t){e.next=11;break}return e.next=9,this.loadMarkets();case 9:a=this.market(t),o=a.id;case 11:return c=i||200,e.next=14,this.privatePostOrderpending({cmd:"orderpending/orderPendingList",body:this.extend({pair:o,account_type:0,page:1,size:c},s)});case 14:return u=e.sent,d=this.safeValue(u.result,"items",[]),e.abrupt("return",this.parseOrders(d,a,r,i));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:200,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchClosedOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),e.next=11,this.privatePostOrderpending({cmd:"orderpending/pendingHistoryList",body:this.extend({pair:a.id,account_type:0,page:1,size:i},s)});case 11:return o=e.sent,c=this.safeValue(o.result,"items",[]),e.abrupt("return",this.parseOrders(c,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o=i||200,e.next=12,this.privatePostOrderpending({cmd:"orderpending/orderHistoryList",body:this.extend({pair:a.id,account_type:0,page:1,size:o,coin_symbol:a.baseId,currency_symbol:a.quoteId},s)});case 12:return c=e.sent,u=this.safeValue(c.result,"items",[]),e.abrupt("return",this.parseTrades(u,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostTransfer({cmd:"transfer/transferIn",body:this.extend({coin_symbol:i.id},r)});case 6:return s=e.sent,a=this.safeString(s,"result"),void 0,o={currency:t,address:a,tag:void 0,info:s},e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),void 0!==this.password){e.next=9;break}if("trade_pwd"in a){e.next=9;break}throw new p(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");case 9:if("totp_code"in a){e.next=11;break}throw new p(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");case 11:return c={trade_pwd:this.password,coin_symbol:o.id,amount:r,addr:i},void 0!==s&&(c.address_remark=s),e.next=15,this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(c,a)});case 15:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 17:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchFundingFees",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:i={},s={},void 0===t&&(t=Object.keys(this.currencies)),a=0;case 8:if(!(a<t.length)){e.next=19;break}return o=t[a],c=this.currency(o),e.next=13,this.privatePostTransfer({cmd:"transfer/transferOutInfo",body:this.extend({coin_symbol:c.id},r)});case 13:u=e.sent,s[o]=u,i[o]=u.result.withdraw_fee;case 16:a++,e.next=8;break;case 19:return e.abrupt("return",{info:s,withdraw:i,deposit:{}});case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0),s=this.urls.api+"/"+this.version+"/"+e,a=this.json([n]);return"public"===t?"GET"!==r?i={cmds:a}:Object.keys(n).length&&(s+="?"+this.urlencode(n)):(this.checkRequiredCredentials(),i={cmds:a,apikey:this.apiKey,sign:this.hmac(this.encode(a),this.encode(this.secret),"md5")}),void 0!==i&&(i=this.json(i,{convertArraysToObjects:!0})),{url:s,method:r,body:i,headers:{"Content-Type":"application/json"}}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(s.length>0&&"{"===s[0]){if("error"in a){if("code"in a.error){var o=this.safeString(a.error,"code"),c=this.id+" "+s,u=this.exceptions;throw o in u?new u[o](c):new p(c)}throw new p(this.id+': "error" in response: '+s)}if(!("result"in a))throw new p(this.id+" "+s)}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"GET"!==i){e.next=12;break}return e.abrupt("return",c);case 12:return e.abrupt("return",c.result[0]);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.AuthenticationError,m=l.ExchangeNotAvailable,y=l.InvalidNonce;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bigone",name:"BigONE",countries:["GB"],version:"v2",has:{fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0,fetchOHLCV:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/42803606-27c2b5ec-89af-11e8-8d15-9c8c245e8b2c.jpg",api:{public:"https://big.one/api/v2",private:"https://big.one/api/v2/viewer"},www:"https://big.one",doc:"https://open.big.one/docs/api.html",fees:"https://help.big.one/hc/en-us/articles/115001933374-BigONE-Fee-Policy",referral:"https://b1.run/users/new?code=D3LLBVFT"},api:{public:{get:["ping","markets","markets/{symbol}/depth","markets/{symbol}/trades","markets/{symbol}/ticker","orders","orders/{id}","tickers","trades"]},private:{get:["accounts","orders","orders/{order_id}","trades","withdrawals","deposits"],post:["orders","orders/{order_id}/cancel","orders/cancel_all"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.002,ETH:.01,EOS:.01,ZEC:.002,LTC:.01,QTUM:.01,ETC:.01,GAS:0,BTS:1,GXS:.1,BITCNY:1}}},exceptions:{codes:{401:v,10030:y},detail:{"Internal server error":m}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=t.data,i=[],this.options.marketsByUuid={},s=0;s<r.length;s++)a=r[s],o=a.name,c=a.uuid,u=a.baseAsset.symbol,d=a.quoteAsset.symbol,h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f={amount:a.baseScale,price:a.quoteScale},v={id:o,symbol:p,base:h,quote:l,baseId:u,quoteId:d,active:!0,precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:Math.pow(10,f.amount)},price:{min:Math.pow(10,-f.price),max:Math.pow(10,f.price)},cost:{min:void 0,max:void 0}},info:a},this.options.marketsByUuid[c]=v,i.push(v);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t){var r=this.safeString(e,"market_id");r in this.markets_by_id&&(t=this.markets_by_id[r])}var n=void 0;void 0!==t&&(n=t.symbol);var i=this.milliseconds(),s=this.safeFloat(e,"close");return{symbol:n,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e.bid,"price"),bidVolume:this.safeFloat(e.bid,"amount"),ask:this.safeFloat(e.ask,"price"),askVolume:this.safeFloat(e.ask,"amount"),vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:this.safeFloat(e,"daily_change"),percentage:this.safeFloat(e,"daily_change_perc"),average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetMarketsSymbolTicker(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.data,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i=r.data,s={},a=0;a<i.length;a++)o=this.parseTicker(i[a]),c=o.symbol,s[c]=o;return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsSymbolDepth(this.extend({symbol:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i.data,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.node,n=this.parse8601(r.inserted_at),i=this.safeFloat(r,"price"),s=this.safeFloat(r,"amount");if(void 0===t){var a=this.safeString(r,"market_id");a in this.markets_by_id&&(t=this.markets_by_id[a])}var o=void 0;void 0!==t&&(o=t.symbol);var c=this.costToPrecision(o,i*s),u=void 0;return u="ASK"===r.taker_side?"sell":"buy",{timestamp:n,datetime:this.iso8601(n),symbol:o,id:this.safeString(r,"id"),order:void 0,type:"limit",side:u,price:i,amount:s,cost:parseFloat(c),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.first=i),e.next=10,this.publicGetMarketsSymbolTrades(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data.edges,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccounts(t);case 5:for(r=e.sent,i={info:r},s=r.data,a=0;a<s.length;a++)o=s[a],c=o.asset_id,u=this.commonCurrencyCode(c),c in this.currencies_by_id&&(u=this.currencies_by_id[c].code),d=this.safeFloat(o,"balance"),h=this.safeFloat(o,"locked_balance"),l=void 0,void 0!==d&&void 0!==h&&(l=d-h),p={free:l,used:h,total:d},i[u]=p;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id");if(void 0===t){var n=this.safeString(e,"market_id");if(n in this.markets_by_id)t=this.markets_by_id[n];else{var i=this.safeString(e,"market_uuid");i in this.options.marketsByUuid&&(t=this.options.marketsByUuid[i])}}var s=void 0;void 0!==t&&(s=t.symbol);var a=this.parse8601(this.safeString(e,"inserted_at")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"amount"),u=this.safeFloat(e,"filled_amount"),d=Math.max(0,c-u),h=this.parseOrderStatus(this.safeString(e,"state")),l=this.safeString(e,"side");return l="BID"===l?"buy":"sell",{id:r,datetime:this.iso8601(a),timestamp:a,status:h,symbol:s,type:void 0,side:l,price:o,cost:void 0,amount:c,filled:u,remaining:d,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),i="buy"===i?"BID":"ASK",u={market_id:c.id,side:i,amount:this.amountToPrecision(t,s),price:this.priceToPrecision(t,a)},e.next=9,this.privatePostOrders(this.extend(u,o));case 9:return d=e.sent,h=this.safeValue(d,"data"),e.abrupt("return",this.parseOrder(h,c));case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i={order_id:t},e.next=7,this.privatePostOrdersOrderIdCancel(this.extend(i,r));case 7:return s=e.sent,a=s.data,e.abrupt("return",this.parseOrder(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllOrders",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]?i[0]:void 0,t=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrdersOrderIdCancel(t);case 6:return r=e.sent,e.abrupt("return",this.parseOrders(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i={order_id:t},e.next=7,this.privateGetOrdersOrderId(this.extend(i,r));case 7:return s=e.sent,a=this.safeValue(s,"data"),e.abrupt("return",this.parseOrder(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,i=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={market_id:a.id},void 0!==i&&(o.first=i),e.next=13,this.privateGetOrders(this.extend(o,s));case 13:for(c=e.sent,u=this.safeValue(c,"data",{}),d=this.safeValue(u,"edges",[]),h=[],l=0;l<d.length;l++)h.push(this.parseOrder(d[l].node,a));return e.abrupt("return",this.filterBySymbolSinceLimit(h,t,r,i));case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({PENDING:"open",FILLED:"closed",CANCELED:"canceled"},e)}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({state:"PENDING"},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({state:"FILLED"},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return 1e3*this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.omit(n,this.extractParams(e)),o=this.urls.api[t]+"/"+this.implodeParams(e,n);if("public"===t)Object.keys(a).length&&(o+="?"+this.urlencode(a));else{this.checkRequiredCredentials();var c=this.nonce(),u={type:"OpenAPI",sub:this.apiKey,nonce:c};i={Authorization:"Bearer "+this.jwt(u,this.secret)},"GET"===r?Object.keys(a).length&&(o+="?"+this.urlencode(a)):"POST"===r&&(i["Content-Type"]="application/json",s=this.json(a))}return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeValue(a,"error"),c=this.safeValue(a,"errors"),u=this.safeValue(a,"data");if(void 0!==o||void 0!==c||void 0===u){var d=this.id+" "+this.json(a),h=void 0;void 0!==o&&(h=this.safeInteger(o,"code"));var l=this.exceptions.codes;throw void 0!==c&&(Array.isArray(c)?h=this.safeString(c[0],"code"):(h=this.safeString(c,"detail"),l=this.exceptions.detail)),h in l?new l[h](d):new p(d)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.ExchangeNotAvailable,m=l.InsufficientFunds,y=l.OrderNotFound,g=l.InvalidOrder,b=l.DDoSProtection,k=l.InvalidNonce,w=l.AuthenticationError,x=r(19).ROUND;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"binance",name:"Binance",countries:["JP"],rateLimit:500,certified:!0,has:{fetchDepositAddress:!0,CORS:!1,fetchBidsAsks:!0,fetchTickers:!0,fetchOHLCV:!0,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,fetchFundingFees:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",api:{web:"https://www.binance.com",wapi:"https://api.binance.com/wapi/v3",public:"https://api.binance.com/api/v1",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:"https://www.binance.com/?ref=10205187",doc:"https://github.com/binance-exchange/binance-official-api-docs/blob/master/rest-api.md",fees:"https://www.binance.com/en/fee/schedule"},api:{web:{get:["exchange/public/product","assetWithdraw/getAllAsset.html"]},wapi:{post:["withdraw"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","userAssetDribbletLog","tradeFee","assetDetail"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["ping","time","depth","trades","aggTrades","klines","ticker/24hr","ticker/allPrices","ticker/allBookTickers","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["order","openOrders","allOrders","account","myTrades"],post:["order","order/test"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{ADA:1,ADX:4.7,AION:1.9,AMB:11.4,APPC:6.5,ARK:.1,ARN:3.1,AST:10,BAT:18,BCD:1,BCH:.001,BCPT:10.2,BCX:1,BNB:.7,BNT:1.5,BQX:1.6,BRD:6.4,BTC:.001,BTG:.001,BTM:5,BTS:1,CDT:67,CMT:37,CND:47,CTR:5.4,DASH:.002,DGD:.06,DLT:11.7,DNT:51,EDO:2.5,ELF:6.5,ENG:2.1,ENJ:42,EOS:1,ETC:.01,ETF:1,ETH:.01,EVX:2.5,FUEL:45,FUN:85,GAS:0,GTO:20,GVT:.53,GXS:.3,HCC:5e-4,HSR:1e-4,ICN:3.5,ICX:1.3,INS:1.5,IOTA:.5,KMD:.002,KNC:2.6,LEND:54,LINK:12.8,LLT:54,LRC:9.1,LSK:.1,LTC:.01,LUN:.29,MANA:74,MCO:.86,MDA:4.7,MOD:2,MTH:34,MTL:1.9,NAV:.2,NEBL:.01,NEO:0,NULS:2.1,OAX:8.3,OMG:.57,OST:17,POE:88,POWR:8.6,PPT:.25,QSP:21,QTUM:.01,RCN:35,RDN:2.2,REQ:18.1,RLC:4.1,SALT:1.3,SBTC:1,SNGLS:42,SNM:29,SNT:32,STORJ:5.9,STRAT:.1,SUB:7.4,TNB:82,TNT:47,TRIG:6.7,TRX:129,USDT:23,VEN:1.8,VIB:28,VIBE:7.2,WABI:3.5,WAVES:.002,WINGS:9.3,WTC:.5,XLM:.01,XMR:.04,XRP:.25,XVG:.1,XZC:.02,YOYOW:39,ZEC:.005,ZRX:5.7},deposit:{}}},commonCurrencies:{YOYO:"YOYOW"},options:{fetchTradesMethod:"publicGetAggTrades",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",defaultLimitOrderType:"limit",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT"}},exceptions:{"-1000":v,"-1013":g,"-1021":k,"-1022":w,"-1100":g,"-1104":p,"-1128":p,"-2010":p,"-2011":y,"-2013":y,"-2014":w,"-2015":w}})}},{key:"nonce",value:function(){return this.milliseconds()-this.options.timeDifference}},{key:"loadTimeDifference",value:function(){var e=i(n.mark(function e(){var t,r;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,r=this.milliseconds(),this.options.timeDifference=parseInt(r-t.serverTime),e.abrupt("return",this.options.timeDifference);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.length>0&&void 0!==b[0]?b[0]:{},e.next=3,this.publicGetExchangeInfo();case 3:if(t=e.sent,!this.options.adjustForTimeDifference){e.next=7;break}return e.next=7,this.loadTimeDifference();case 7:r=t.symbols,i=[],s=0;case 10:if(!(s<r.length)){e.next=31;break}if(a=r[s],"123456"!==(o=a.symbol)){e.next=15;break}return e.abrupt("continue",28);case 15:c=a.baseAsset,u=a.quoteAsset,d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,p=this.indexBy(a.filters,"filterType"),f={base:a.baseAssetPrecision,quote:a.quotePrecision,amount:a.baseAssetPrecision,price:a.quotePrecision},v="TRADING"===a.status,m={id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,info:a,active:v,precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:void 0},price:{min:void 0,max:void 0},cost:{min:-1*Math.log10(f.amount),max:void 0}}},"PRICE_FILTER"in p&&(y=p.PRICE_FILTER,m.precision.price=this.precisionFromString(y.tickSize)),"LOT_SIZE"in p&&(g=p.LOT_SIZE,m.precision.amount=this.precisionFromString(g.stepSize),m.limits.amount={min:this.safeFloat(g,"minQty"),max:this.safeFloat(g,"maxQty")}),"MIN_NOTIONAL"in p&&(m.limits.cost.min=parseFloat(p.MIN_NOTIONAL.minNotional)),i.push(m);case 28:s++,e.next=10;break;case 31:return e.abrupt("return",i);case 32:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",c=a[s],u=n*c,d=a.precision.price;return"sell"===r?u*=i:(o="base",d=a.precision.amount),u=this.decimalToPrecision(u,x,d,this.precisionMode),{type:s,currency:a[o],rate:c,cost:parseFloat(u)}}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccount(t);case 5:for(r=e.sent,i={info:r},s=r.balances,a=0;a<s.length;a++)o=s[a],(c=o.asset)in this.currencies_by_id&&(c=this.currencies_by_id[c].code),(u={free:parseFloat(o.free),used:parseFloat(o.locked),total:0}).total=this.sum(u.free,u.used),i[c]=u;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={symbol:s.id},void 0!==r&&(a.limit=r),e.next=9,this.publicGetDepth(this.extend(a,i));case 9:return o=e.sent,(c=this.parseOrderBook(o)).nonce=this.safeInteger(o,"lastUpdateId"),e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"closeTime"),n=this.findSymbol(this.safeString(e,"symbol"),t),i=this.safeFloat(e,"lastPrice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"openPrice"),close:i,last:i,previousClose:this.safeFloat(e,"prevClosePrice"),change:this.safeFloat(e,"priceChange"),percentage:this.safeFloat(e,"priceChangePercent"),average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTicker24hr(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}},{key:"fetchBidsAsks",value:function(){var e=i(n.mark(function e(){var t,r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:void 0,r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickerBookTicker(r);case 6:return i=e.sent,e.abrupt("return",this.parseTickers(i,t));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,this.loadMarkets();case 4:return i=this.options.fetchTickersMethod,e.next=7,this[i](r);case 7:return s=e.sent,e.abrupt("return",this.parseTickers(s,t));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,interval:this.timeframes[r]},void 0!==i&&(c.startTime=i),void 0!==s&&(c.limit=s),e.next=12,this.publicGetKlines(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger2(e,"T","time"),n=this.safeFloat2(e,"p","price"),i=this.safeFloat2(e,"q","qty"),s=this.safeString2(e,"a","id"),a=void 0,o=this.safeString(e,"orderId");"m"in e?a=e.m?"sell":"buy":"isBuyerMaker"in e?a=e.isBuyerMaker?"sell":"buy":"isBuyer"in e&&(a=e.isBuyer?"buy":"sell");var c=void 0;"commission"in e&&(c={cost:this.safeFloat(e,"commission"),currency:this.commonCurrencyCode(e.commissionAsset)});var u=void 0;"isMaker"in e&&(u=e.isMaker?"maker":"taker");var d=void 0;if(void 0===t){var h=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,h)}return void 0!==t&&(d=t.symbol),{info:e,timestamp:r,datetime:this.iso8601(r),symbol:d,id:s,order:o,type:void 0,takerOrMaker:u,side:a,price:n,cost:n*i,amount:i,fee:c}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},"publicGetAggTrades"===this.options.fetchTradesMethod&&void 0!==r&&(o.startTime=r,o.endTime=this.sum(r,36e5)),void 0!==i&&(o.limit=i),c=this.safeValue(this.options,"fetchTradesMethod","publicGetTrades"),e.next=12,this[c](this.extend(o,s));case 12:return u=e.sent,e.abrupt("return",this.parseTrades(u,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"expired"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseOrderStatus(this.safeString(e,"status")),n=this.findSymbol(this.safeString(e,"symbol"),t),i=void 0;"time"in e?i=e.time:"transactTime"in e&&(i=e.transactTime);var s=this.safeFloat(e,"price"),a=this.safeFloat(e,"origQty"),o=this.safeFloat(e,"executedQty"),c=void 0,u=this.safeFloat(e,"cummulativeQuoteQty");void 0!==o&&(void 0!==a&&(c=a-o,this.options.parseOrderToPrecision&&(c=parseFloat(this.amountToPrecision(n,c))),c=Math.max(c,0)),void 0!==s&&void 0===u&&(u=s*o));var d=this.safeString(e,"orderId"),h=this.safeString(e,"type");void 0!==h&&"market"===(h=h.toLowerCase())&&0===s&&void 0!==u&&void 0!==o&&u>0&&o>0&&(s=u/o);var l=this.safeString(e,"side");void 0!==l&&(l=l.toLowerCase());var p=void 0,f=void 0,v=this.safeValue(e,"fills");if(void 0!==v&&(f=this.parseTrades(v,t)).length>0){u=f[0].cost,p={cost:f[0].fee.cost,currency:f[0].fee.currency};for(var m=1;m<f.length;m++)u=this.sum(u,f[m].cost),p.cost=this.sum(p.cost,f[m].fee.cost)}var y=void 0;return void 0!==u&&(o&&(y=u/o),this.options.parseOrderToPrecision&&(u=parseFloat(this.costToPrecision(n,u)))),{info:e,id:d,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:n,type:h,side:l,price:s,amount:a,cost:u,average:y,filled:o,remaining:c,status:r,fee:p,trades:f}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f,v,m,y,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.length>4&&void 0!==b[4]?b[4]:void 0,o=b.length>5&&void 0!==b[5]?b[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),u="privatePostOrder",this.safeValue(o,"test",!1)&&(u+="Test",o=this.omit(o,"test")),d=r.toUpperCase(),h=this.safeValue(this.options.newOrderRespType,r,"RESULT"),l={symbol:c.id,quantity:this.amountToPrecision(t,s),type:d,side:i.toUpperCase(),newOrderRespType:h},p=!1,f=!1,v=!1,"LIMIT"===d?(f=!0,p=!0):"STOP_LOSS"===d||"TAKE_PROFIT"===d?v=!0:"STOP_LOSS_LIMIT"===d||"TAKE_PROFIT_LIMIT"===d?(v=!0,f=!0,p=!0):"LIMIT_MAKER"===d&&(f=!0),!f){e.next=19;break}if(void 0!==a){e.next=18;break}throw new g(this.id+" createOrder method requires a price argument for a "+r+" order");case 18:l.price=this.priceToPrecision(t,a);case 19:if(p&&(l.timeInForce=this.options.defaultTimeInForce),!v){e.next=28;break}if(void 0!==(m=this.safeFloat(o,"stopPrice"))){e.next=26;break}throw new g(this.id+" createOrder method requires a stopPrice extra param for a "+r+" order");case 26:o=this.omit(o,"stopPrice"),l.stopPrice=this.priceToPrecision(t,m);case 28:return e.next=30,this[u](this.extend(l,o));case 30:return y=e.sent,e.abrupt("return",this.parseOrder(y,c));case 32:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a=this.safeValue(i,"origClientOrderId"),o={symbol:s.id},void 0!==a?o.origClientOrderId=a:o.orderId=parseInt(t),e.next=12,this.privateGetOrder(this.extend(o,i));case 12:return c=e.sent,e.abrupt("return",this.parseOrder(c,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={symbol:a.id},void 0!==r&&(o.startTime=r),void 0!==i&&(o.limit=i),e.next=14,this.privateGetAllOrders(this.extend(o,s));case 14:return c=e.sent,e.abrupt("return",this.parseOrders(c,a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,i=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:{},e.next=6,this.loadMarkets();case 6:if(a=void 0,o={},void 0===t){e.next=13;break}a=this.market(t),o.symbol=a.id,e.next=18;break;case 13:if(!this.options.warnOnFetchOpenOrdersWithoutSymbol){e.next=18;break}throw c=this.symbols,u=c.length,d=parseInt(u/2),new p(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+d.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.');case 18:return e.next=20,this.privateGetOpenOrders(this.extend(o,s));case 20:return h=e.sent,e.abrupt("return",this.parseOrders(h,a,r,i));case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),e.next=9,this.privateDeleteOrder(this.extend({symbol:s.id,orderId:parseInt(t)},i));case 9:return a=e.sent,e.abrupt("return",this.parseOrder(a));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.limit=i),e.next=13,this.privateGetMyTrades(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.currency(t),o.asset=a.id),void 0!==r&&(o.startTime=r),e.next=12,this.wapiGetDepositHistory(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c.depositList,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.currency(t),o.asset=a.id),void 0!==r&&(o.startTime=r),e.next=12,this.wapiGetWithdrawHistory(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c.withdrawList,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatusByType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t)return e;var r={deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}};return e in r[t]?r[t][e]:e}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeString(e,"address"),i=this.safeString(e,"addressTag");void 0!==i&&i.length<1&&(i=void 0);var s=this.safeValue(e,"txId"),a=void 0,o=this.safeString(e,"asset");o in this.currencies_by_id?t=this.currencies_by_id[o]:a=this.commonCurrencyCode(o),void 0!==t&&(a=t.code);var c=void 0,u=this.safeInteger(e,"insertTime"),d=this.safeInteger(e,"applyTime"),h=this.safeString(e,"type");void 0===h&&(void 0!==u&&void 0===d?(h="deposit",c=u):void 0===u&&void 0!==d&&(h="withdrawal",c=d));var l=this.parseTransactionStatusByType(this.safeString(e,"status"),h),p=this.safeFloat(e,"amount"),f={cost:void 0,currency:a};return{info:e,id:r,txid:s,timestamp:c,datetime:this.iso8601(c),address:n,tag:i,type:h,amount:p,currency:a,status:l,updated:void 0,fee:f}}},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.wapiGetDepositAddress(this.extend({asset:i.id},r));case 6:if(!("success"in(s=e.sent))){e.next=12;break}if(!s.success){e.next=12;break}return a=this.safeString(s,"address"),o=this.safeString(s,"addressTag"),e.abrupt("return",{currency:t,address:this.checkAddress(a),tag:o,info:s});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFundingFees",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.wapiGetAssetDetail();case 4:for(t=e.sent,r=this.safeValue(t,"assetDetail"),i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=this.commonCurrencyCode(o),s[c]=this.safeFloat(r[o],"withdrawFee");return e.abrupt("return",{withdraw:s,deposit:{},info:t});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c=i.slice(0,20),u={asset:o.id,address:i,amount:parseFloat(r),name:c},s&&(u.addressTag=s),e.next=11,this.wapiPostWithdraw(this.extend(u,a));case 11:return d=e.sent,e.abrupt("return",{info:d,id:this.safeString(d,"id")});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if(a+="/"+e,"wapi"===t&&(a+=".html"),"userDataStream"===e)s=this.urlencode(n),i={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"};else if("private"===t||"wapi"===t){this.checkRequiredCredentials();var o=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options.recvWindow},n));o+="&signature="+this.hmac(this.encode(o),this.encode(this.secret)),i={"X-MBX-APIKEY":this.apiKey},"GET"===r||"DELETE"===r||"wapi"===t?a+="?"+o:(s=o,i["Content-Type"]="application/x-www-form-urlencoded")}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(418===e||429===e)throw new b(this.id+" "+e.toString()+" "+t+" "+s);if(e>=400){if(s.indexOf("Price * QTY is zero or less")>=0)throw new g(this.id+" order cost = amount * price is zero or less "+s);if(s.indexOf("LOT_SIZE")>=0)throw new g(this.id+" order amount should be evenly divisible by lot size "+s);if(s.indexOf("PRICE_FILTER")>=0)throw new g(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+s)}if(s.length>0&&"{"===s[0]){var o=this.safeValue(a,"success",!0);if(!o){var c=this.safeString(a,"msg"),u=void 0;if(void 0!==c){try{u=JSON.parse(c)}catch(f){u=void 0}void 0!==u&&(a=u)}}var d=this.safeString(a,"code");if(void 0!==d){var h=this.exceptions;if(d in h){if("-2015"===d&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new b(this.id+" temporary banned: "+s);var l=this.safeString(a,"msg");if("Order would trigger immediately."===l)throw new g(this.id+" "+s);if("Account has insufficient balance for requested action."===l)throw new m(this.id+" "+s);if("Rest API trading is not enabled."===l)throw new v(this.id+" "+s);throw new h[d](this.id+" "+s)}throw new p(this.id+" "+s)}if(!o)throw new p(this.id+" "+s)}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:return c=e.sent,"private"!==r&&"wapi"!==r||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ArgumentsRequired,f=l.ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bit2c",name:"Bit2C",countries:["IL"],rateLimit:3e3,has:{CORS:!1,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS"},"ETH/NIS":{id:"EthNis",symbol:"ETH/NIS",base:"ETH",quote:"NIS"},"BCH/NIS":{id:"BchAbcNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS"},"ETC/NIS":{id:"EtcNis",symbol:"ETC/NIS",base:"ETC",quote:"NIS"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS"},"BSV/NIS":{id:"BchSvNis",symbol:"BSV/NIS",base:"BSV",quote:"NIS"}},fees:{trading:{maker:.005,taker:.005}},options:{fetchTradesMethod:"public_get_exchanges_pair_lasttrades"}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privateGetAccountBalanceV2();case 3:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],o=this.account(),a in t&&(c="AVAILABLE_"+a,o.free=t[c],o.total=t[a],o.used=o.total-o.free),r[a]=o;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetExchangesPairOrderbook(this.extend({pair:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.publicGetExchangesPairTicker(this.extend({pair:this.marketId(t)},r));case 3:return i=e.sent,s=this.milliseconds(),a=this.safeFloat(i,"av"),o=this.safeFloat(i,"a"),c=void 0,void 0!==o&&void 0!==a&&(c=o*a),u=this.safeFloat(i,"ll"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(i,"h"),bidVolume:void 0,ask:this.safeFloat(i,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:a,baseVolume:o,quoteVolume:c,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},a=this.market(t),o=this.options.fetchTradesMethod,e.next=7,this[o](this.extend({pair:a.id},s));case 7:if("string"!==typeof(c=e.sent)){e.next=10;break}throw new f(c);case 10:return e.abrupt("return",this.parseTrades(c,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},c="privatePostOrderAddOrder",u={Amount:s,Pair:this.marketId(t)},"market"===r?c+="MarketPrice"+this.capitalize(i):(u.Price=a,u.Total=s*a,u.IsBid="buy"===i),e.next=7,this[c](this.extend(u,o));case 7:return d=e.sent,e.abrupt("return",{info:d,id:d.NewOrder.id});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrderCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n);if("public"===t)e.indexOf("lasttrades")<0&&(a+=".json");else{this.checkRequiredCredentials();var o=this.nonce(),c=this.extend({nonce:o},n);s=this.urlencode(c);var u=this.hmac(this.encode(s),this.encode(this.secret),"sha512","base64");i={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:this.decode(u)}}return{url:a,method:r,body:s,headers:i}}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==t){e.next=8;break}throw new p(this.id+" fetchOpenOrders() requires a symbol argument");case 8:return a=this.market(t),e.next=11,this.privateGetOrderMyOrders(this.extend({pair:a.id},s));case 11:return o=e.sent,c=this.safeValue(o,a.id,{}),u=this.safeValue(c,"ask"),d=this.safeValue(c,"bid"),e.abrupt("return",this.parseOrders(this.arrayConcat(u,d),a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.created,n=e.price,i=e.amount,s=n*i,a=void 0;void 0!==t&&(a=t.symbol);var o=this.safeValue(e,"type");0===o?o="buy":1===o&&(o="sell");var c=this.safeString(e,"id"),u=this.safeString(e,"status");return{id:c,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:u,symbol:a,type:void 0,side:o,price:n,amount:i,filled:void 0,remaining:void 0,cost:s,trades:void 0,fee:void 0,info:e}}},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,"privateGetOrderOrderhistory",o={},void 0!==i&&(o.take=i),o.take=i,void 0!==r&&(o.toTime=this.ymd(this.milliseconds(),"."),o.fromTime=this.ymd(r,".")),void 0!==t&&(a=this.market(t),o.pair=a.id),e.next=15,this.privateGetOrderOrderhistory(this.extend(o,s));case 15:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,c=void 0,u=this.safeString(e,"reference");if(void 0!==u){r=1e3*this.safeInteger(e,"ticks"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"firstAmount");var d=u.split("|");if(void 0===t){var h=this.safeString(e,"pair");h in this.markets_by_id[h]?t=this.markets_by_id[h]:d[0]in this.markets_by_id&&(t=this.markets_by_id[d[0]])}a=d[1],n=d[2],0===(c=this.safeInteger(e,"action"))?c="buy":1===c&&(c="sell"),o=this.safeFloat(e,"feeAmount")}else r=1e3*this.safeInteger(e,"date"),n=this.safeString(e,"tid"),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),void 0!==(c=this.safeValue(e,"isBid"))&&(c=c?"buy":"sell");var l=void 0;return void 0!==t&&(l=t.symbol),{info:e,id:n,timestamp:r,datetime:this.iso8601(r),symbol:l,order:a,type:void 0,side:c,takerOrMaker:void 0,price:i,amount:s,cost:i*s,fee:{cost:o,currency:"NIS",rate:void 0}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.InvalidNonce,m=l.InsufficientFunds,y=l.InvalidOrder,g=l.OrderNotFound,b=l.PermissionDenied;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitbank",name:"bitbank",countries:["JP"],version:"v1",has:{fetchOHLCV:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.bitbank.cc",private:"https://api.bitbank.cc"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]}},markets:{"BCH/BTC":{id:"bcc_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bcc",quoteId:"btc"},"BCH/JPY":{id:"bcc_jpy",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bcc",quoteId:"jpy"},"MONA/BTC":{id:"mona_btc",symbol:"MONA/BTC",base:"MONA",quote:"BTC",baseId:"mona",quoteId:"btc"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"XRP/JPY":{id:"xrp_jpy",symbol:"XRP/JPY",base:"XRP",quote:"JPY",baseId:"xrp",quoteId:"jpy"},"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}},fees:{trading:{maker:0,taker:0},funding:{withdraw:{BTC:.001,LTC:.001,XRP:.15,ETH:5e-4,MONA:.001,BCC:.001}}},precision:{price:8,amount:8},exceptions:{20001:f,20002:f,20003:f,20005:f,20004:v,40020:y,40021:y,40025:p,40013:g,40014:g,50008:b,50009:g,50010:g,60001:m,60005:y}})}},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=e.timestamp,n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPairTicker(this.extend({pair:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.data,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPairDepth(this.extend({pair:this.marketId(t)},r));case 6:return i=e.sent,s=i.data,e.abrupt("return",this.parseOrderBook(s,s.timestamp));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.executed_at,n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=t.symbol,a=parseFloat(this.costToPrecision(s,n*i)),o=this.safeString(e,"transaction_id"),c=this.safeString(e,"maker_taker");o||(o=this.safeString(e,"trade_id"));var u=void 0;return"fee_amount_quote"in e&&(u={currency:t.quote,cost:this.safeFloat(e,"fee_amount_quote")}),{timestamp:r,datetime:this.iso8601(r),symbol:s,id:o,order:this.safeString(e,"order_id"),type:this.safeString(e,"type"),side:e.side,takerOrMaker:c,price:n,amount:i,cost:a,fee:u,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetPairTransactions(this.extend({pair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.data.transactions,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[5],parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"5m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c=this.milliseconds(),c=(c=this.ymd(c)).split("-"),e.next=12,this.publicGetPairCandlestickCandletypeYyyymmdd(this.extend({pair:o.id,candletype:this.timeframes[r],yyyymmdd:c.join("")},a));case 12:return u=e.sent,d=u.data.candlestick[0].ohlcv,e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserAssets(t);case 5:for(r=e.sent,i={info:r},s=r.data.assets,a=0;a<s.length;a++)o=s[a],c=o.asset,u=c,c in this.currencies_by_id&&(u=this.currencies_by_id[c].code),d={free:parseFloat(o.free_amount),used:parseFloat(o.locked_amount),total:parseFloat(o.onhand_amount)},i[u]=d;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"pair"),n=void 0;r&&!t&&r in this.marketsById&&(t=this.marketsById[r]),t&&(n=t.symbol);var i=this.safeInteger(e,"ordered_at"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"start_amount"),o=this.safeFloat(e,"executed_amount"),c=this.safeFloat(e,"remaining_amount"),u=o*this.safeFloat(e,"average_price"),d=this.safeString(e,"status");d="FULLY_FILLED"===d?"closed":"CANCELED_UNFILLED"===d||"CANCELED_PARTIALLY_FILLED"===d?"canceled":"open";var h=this.safeString(e,"type");void 0!==h&&(h=h.toLowerCase());var l=this.safeString(e,"side");return void 0!==l&&(l=l.toLowerCase()),{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:d,symbol:n,type:h,side:l,price:s,cost:u,amount:a,filled:o,remaining:c,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),void 0!==a){e.next=7;break}throw new y(this.id+" createOrder requires a price argument for both market and limit orders");case 7:return u={pair:c.id,amount:this.amountToPrecision(t,s),price:this.priceToPrecision(t,a),side:i,type:r},e.next=10,this.privatePostUserSpotOrder(this.extend(u,o));case 10:return d=e.sent,h=d.data.order_id,l=this.parseOrder(d.data,c),this.orders[h]=l,e.abrupt("return",l);case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostUserSpotCancelOrder(this.extend({order_id:t,pair:s.id},i));case 7:return a=e.sent,e.abrupt("return",a.data);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privateGetUserSpotOrder(this.extend({order_id:t,pair:s.id},i));case 7:return a=e.sent,e.abrupt("return",this.parseOrder(a.data));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={pair:a.id},void 0!==i&&(o.count=i),void 0!==r&&(o.since=parseInt(r/1e3)),e.next=12,this.privateGetUserSpotActiveOrders(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.data.orders,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},a=void 0,void 0===t){e.next=9;break}return e.next=8,this.loadMarkets();case 8:a=this.market(t);case 9:return o={},void 0!==a&&(o.pair=a.id),void 0!==i&&(o.count=i),void 0!==r&&(o.since=parseInt(r/1e3)),e.next=15,this.privateGetUserSpotTradeHistory(this.extend(o,s));case 15:return c=e.sent,e.abrupt("return",this.parseTrades(c.data.trades,a,r,i));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privateGetUserWithdrawalAccount(this.extend({asset:i.id},r));case 6:return s=e.sent,a=s.data.accounts,o=this.safeString(a[0],"address"),e.abrupt("return",{currency:i,address:o,tag:void 0,info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>3&&void 0!==c[3]?c[3]:void 0,"uuid"in(s=c.length>4&&void 0!==c[4]?c[4]:{})){e.next=4;break}throw new p(this.id+" uuid is required for withdrawal");case 4:return e.next=6,this.loadMarkets();case 6:return a=this.currency(t),e.next=9,this.privatePostUserRequestWithdrawal(this.extend({asset:a.id,amount:r},s));case 9:return o=e.sent,e.abrupt("return",{info:o,id:o.data.txid});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.omit(n,this.extractParams(e)),o=this.urls.api[t]+"/";if("public"===t)o+=this.implodeParams(e,n),Object.keys(a).length&&(o+="?"+this.urlencode(a));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c;o+=this.version+"/"+this.implodeParams(e,n),"POST"===r?u+=s=this.json(a):(u+="/"+this.version+"/"+e,Object.keys(a).length&&(o+="?"+(a=this.urlencode(a)),u+="?"+a)),i={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":c,"ACCESS-SIGNATURE":this.hmac(this.encode(u),this.encode(this.secret))}}return{url:o,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:"public",i=y.length>2&&void 0!==y[2]?y[2]:"GET",s=y.length>3&&void 0!==y[3]?y[3]:{},a=y.length>4&&void 0!==y[4]?y[4]:void 0,o=y.length>5&&void 0!==y[5]?y[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,u=this.safeInteger(c,"success"),d=this.safeValue(c,"data"),u&&d){e.next=21;break}if(h={10000:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed ",70009:"We are currently temporarily restricting orders to be carried out. Please use the limit order.",70010:"We are temporarily raising the minimum order quantity as the system load is now rising."},l=this.exceptions,f=this.safeString(d,"code"),v=this.safeString(h,f,"Error"),void 0===(m=this.safeValue(l,f))){e.next=20;break}throw new m(v);case 20:throw new p(this.id+" "+this.json(c));case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.InvalidNonce,f=l.InsufficientFunds,v=l.AuthenticationError,m=l.InvalidOrder,y=l.ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{CORS:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://bitbay.net/API/Public",private:"https://bitbay.net/API/Trading/tradingApi.php"},doc:["https://bitbay.net/public-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API"],fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]}},markets:{"BTC/USD":{id:"BTCUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"BTC",quoteId:"USD"},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR"},"BTC/PLN":{id:"BTCPLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN",baseId:"BTC",quoteId:"PLN"},"LTC/USD":{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD"},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR"},"LTC/PLN":{id:"LTCPLN",symbol:"LTC/PLN",base:"LTC",quote:"PLN",baseId:"LTC",quoteId:"PLN"},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"LTC",quoteId:"BTC"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR"},"ETH/PLN":{id:"ETHPLN",symbol:"ETH/PLN",base:"ETH",quote:"PLN",baseId:"ETH",quoteId:"PLN"},"ETH/BTC":{id:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"ETH",quoteId:"BTC"},"LSK/USD":{id:"LSKUSD",symbol:"LSK/USD",base:"LSK",quote:"USD",baseId:"LSK",quoteId:"USD"},"LSK/EUR":{id:"LSKEUR",symbol:"LSK/EUR",base:"LSK",quote:"EUR",baseId:"LSK",quoteId:"EUR"},"LSK/PLN":{id:"LSKPLN",symbol:"LSK/PLN",base:"LSK",quote:"PLN",baseId:"LSK",quoteId:"PLN"},"LSK/BTC":{id:"LSKBTC",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"LSK",quoteId:"BTC"},"BCH/USD":{id:"BCCUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCC",quoteId:"USD"},"BCH/EUR":{id:"BCCEUR",symbol:"BCH/EUR",base:"BCH",quote:"EUR",baseId:"BCC",quoteId:"EUR"},"BCH/PLN":{id:"BCCPLN",symbol:"BCH/PLN",base:"BCH",quote:"PLN",baseId:"BCC",quoteId:"PLN"},"BCH/BTC":{id:"BCCBTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"BCC",quoteId:"BTC"},"BTG/USD":{id:"BTGUSD",symbol:"BTG/USD",base:"BTG",quote:"USD",baseId:"BTG",quoteId:"USD"},"BTG/EUR":{id:"BTGEUR",symbol:"BTG/EUR",base:"BTG",quote:"EUR",baseId:"BTG",quoteId:"EUR"},"BTG/PLN":{id:"BTGPLN",symbol:"BTG/PLN",base:"BTG",quote:"PLN",baseId:"BTG",quoteId:"PLN"},"BTG/BTC":{id:"BTGBTC",symbol:"BTG/BTC",base:"BTG",quote:"BTC",baseId:"BTG",quoteId:"BTC"},"DASH/USD":{id:"DASHUSD",symbol:"DASH/USD",base:"DASH",quote:"USD",baseId:"DASH",quoteId:"USD"},"DASH/EUR":{id:"DASHEUR",symbol:"DASH/EUR",base:"DASH",quote:"EUR",baseId:"DASH",quoteId:"EUR"},"DASH/PLN":{id:"DASHPLN",symbol:"DASH/PLN",base:"DASH",quote:"PLN",baseId:"DASH",quoteId:"PLN"},"DASH/BTC":{id:"DASHBTC",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"DASH",quoteId:"BTC"},"GAME/USD":{id:"GAMEUSD",symbol:"GAME/USD",base:"GAME",quote:"USD",baseId:"GAME",quoteId:"USD"},"GAME/EUR":{id:"GAMEEUR",symbol:"GAME/EUR",base:"GAME",quote:"EUR",baseId:"GAME",quoteId:"EUR"},"GAME/PLN":{id:"GAMEPLN",symbol:"GAME/PLN",base:"GAME",quote:"PLN",baseId:"GAME",quoteId:"PLN"},"GAME/BTC":{id:"GAMEBTC",symbol:"GAME/BTC",base:"GAME",quote:"BTC",baseId:"GAME",quoteId:"BTC"},"XRP/USD":{id:"XRPUSD",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"XRP",quoteId:"USD"},"XRP/EUR":{id:"XRPEUR",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"XRP",quoteId:"EUR"},"XRP/PLN":{id:"XRPPLN",symbol:"XRP/PLN",base:"XRP",quote:"PLN",baseId:"XRP",quoteId:"PLN"},"XRP/BTC":{id:"XRPBTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"XRP",quoteId:"BTC"},"XIN/BTC":{id:"XINBTC",symbol:"XIN/BTC",base:"XIN",quote:"BTC",baseId:"XIN",quoteId:"BTC"}},fees:{trading:{maker:.003,taker:.0043},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},exceptions:{400:y,401:m,402:m,403:m,404:m,405:m,406:f,408:m,501:v,502:v,503:p,504:y,505:v,506:v,509:y,510:y}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.privatePostInfo();case 3:if(!("balances"in(t=e.sent))){e.next=10;break}for(r=t.balances,i={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=this.currencies[o],u=c.id,d=this.account(),u in r&&(d.free=parseFloat(r[u].available),d.used=parseFloat(r[u].locked),d.total=this.sum(d.free,d.used)),i[o]=d;return e.abrupt("return",this.parseBalance(i));case 10:throw new y(this.id+" empty balance response "+this.json(t));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetIdOrderbook(this.extend({id:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.publicGetIdTicker(this.extend({id:this.marketId(t)},r));case 3:return i=e.sent,s=this.milliseconds(),a=this.safeFloat(i,"volume"),o=this.safeFloat(i,"vwap"),c=void 0,void 0!==a&&void 0!==o&&(c=a*o),u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(i,"max"),low:this.safeFloat(i,"min"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:o,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(i,"average"),baseVolume:a,quoteVolume:c,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetIdTrades(this.extend({id:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:{},"limit"===r){e.next=4;break}throw new y(this.id+" allows limit orders only");case 4:return c=this.market(t),e.abrupt("return",this.privatePostTrade(this.extend({type:i,currency:c.baseId,amount:s,payment_currency:c.quoteId,rate:a},o)));case 6:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isFiat",value:function(e){return e in{USD:!0,EUR:!0,PLN:!0}}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=void 0,c=this.currency(t),u={currency:c.id,quantity:r},this.isFiat(t)?o="privatePostWithdraw":(o="privatePostTransfer",void 0!==s&&(i+="?dt="+s.toString()),u.address=i),e.next=11,this[o](this.extend(u,a));case 11:return d=e.sent,e.abrupt("return",{info:d,id:void 0});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("public"===t){var o=this.omit(n,this.extractParams(e));a+="/"+this.implodeParams(e,n)+".json",a+="?"+this.urlencode(o)}else this.checkRequiredCredentials(),s=this.urlencode(this.extend({method:e,moment:this.nonce()},n)),i={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(s),this.encode(this.secret),"sha512")};return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])&&"code"in a){var o=a.code,c=this.id+" "+this.json(a),u=this.exceptions;throw o in this.exceptions?new u[o](c):new y(c)}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(62),p=r(10),f=p.ExchangeError,v=p.NotSupported,m=p.InsufficientFunds;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bitfinex2",name:"Bitfinex v2",countries:["VG"],version:"v2",certified:!1,has:{CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchDepositAddress:!1,fetchClosedOrders:!1,fetchFundingFees:!1,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchTickers:!0,fetchTradingFees:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:"https://api.bitfinex.com",www:"https://www.bitfinex.com",doc:["https://bitfinex.readme.io/v2/docs","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"],post:["calc/trade/avg","calc/fx"]},private:{post:["auth/r/wallets","auth/r/orders/{symbol}","auth/r/orders/{symbol}/new","auth/r/orders/{symbol}/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/hist","auth/r/trades/{symbol}/hist","auth/r/positions","auth/r/funding/offers/{symbol}","auth/r/funding/offers/{symbol}/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/info/margin/{key}","auth/r/info/funding/{key}","auth/r/movements/hist","auth/r/movements/{currency}/hist","auth/r/stats/perf:{timeframe}/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/r/ledgers/{symbol}/hist","auth/r/settings","auth/w/settings/set","auth/w/settings/del","auth/r/info/user"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:5e-4,BCH:5e-4,ETH:.01,EOS:.1,LTC:.001,OMG:.1,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:.04,QTM:.01,EDO:.5,DAT:1,AVT:.5,SAN:.1,USDT:5,SPK:9.2784,BAT:9.0883,GNT:8.2881,SNT:14.303,QASH:3.2428,YYW:18.055}}}})}},{key:"isFiat",value:function(e){return e in{USD:"USD",EUR:"EUR"}}},{key:"getCurrencyId",value:function(e){return"f"+e}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.v1GetSymbolsDetails();case 3:for(t=e.sent,r=[],n=0;n<t.length;n++)s=t[n],a=s.pair.toUpperCase(),o=a.slice(0,3),c=a.slice(3,6),u=this.commonCurrencyCode(o),d=this.commonCurrencyCode(c),h=u+"/"+d,a="t"+a,o=this.getCurrencyId(o),c=this.getCurrencyId(c),l={price:s.price_precision,amount:s.price_precision},(p={amount:{min:this.safeFloat(s,"minimum_order_size"),max:this.safeFloat(s,"maximum_order_size")},price:{min:Math.pow(10,-l.price),max:Math.pow(10,l.price)}}).cost={min:p.amount.min*p.price.min,max:void 0},r.push({id:a,symbol:h,base:u,quote:d,baseId:o,quoteId:c,active:!0,precision:l,limits:p,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostAuthRWallets();case 5:for(r=e.sent,n=this.safeString(t,"type","exchange"),s={info:r},a=0;a<r.length;a++)o=r[a],c=o[0],u=o[1],d=o[2],h=o[4],c===n&&(l=u,u in this.currencies_by_id?l=this.currencies_by_id[u].code:"t"===u[0]?(u=u.slice(1),l=u.toUpperCase(),l=this.commonCurrencyCode(l)):l=this.commonCurrencyCode(l),(p=this.account()).total=d,h?(p.free=h,p.used=p.total-p.free):0===h?(p.free=0,p.used=d):p.free=d,s[l]=p);return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>1&&void 0!==l[1]?l[1]:void 0,r=l.length>2&&void 0!==l[2]?l[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBookSymbolPrecision(this.extend({symbol:this.marketId(t),precision:"R0"},r));case 6:for(n=e.sent,s=this.milliseconds(),a={bids:[],asks:[],timestamp:s,datetime:this.iso8601(s),nonce:void 0},o=0;o<n.length;o++)c=n[o],u=c[1],d=c[2],h=d>0?"bids":"asks",d=Math.abs(d),a[h].push([u,d]);return a.bids=this.sortBy(a.bids,0,!0),a.asks=this.sortBy(a.asks,0),e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=e.length,s=e[i-4];return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e[i-2],low:e[i-1],bid:e[i-10],bidVolume:void 0,ask:e[i-8],askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:e[i-6],percentage:100*e[i-5],average:void 0,baseVolume:e[i-3],quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return n={},void 0!==t?(s=this.marketIds(t),n.symbols=s.join(",")):n.symbols="ALL",e.next=8,this.publicGetTickers(this.extend(n,r));case 8:for(a=e.sent,o={},c=0;c<a.length;c++)u=a[c],(d=u[0])in this.markets_by_id&&(h=this.markets_by_id[d],l=h.symbol,o[l]=this.parseTicker(u,h));return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerSymbol(this.extend({symbol:n.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=n(e,4),i=r[0],s=r[1],a=r[2],o=r[3],c=a<0?"sell":"buy";return a<0&&(a=-a),{id:i.toString(),info:e,timestamp:s,datetime:this.iso8601(s),symbol:t.symbol,type:void 0,side:c,price:o,amount:a}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:void 0,n=h.length>2&&void 0!==h[2]?h[2]:120,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o="-1",c={symbol:a.id,limit:n},void 0!==r&&(c.start=r,o="1"),c.sort=o,e.next=12,this.publicGetTradesSymbolHist(this.extend(c,s));case 12:return u=e.sent,d=this.sortBy(u,1),e.abrupt("return",this.parseTrades(d,a,void 0,n));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:100,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),void 0===s&&(s=100),void 0===n&&(n=this.milliseconds()-this.parseTimeframe(r)*s*1e3),c={symbol:o.id,timeframe:this.timeframes[r],sort:1,limit:s,start:n},e.next=12,this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,n,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw a.length>4&&void 0!==a[4]?a[4]:void 0,a.length>5&&void 0!==a[5]?a[5]:{},new v(this.id+" createOrder not implemented yet");case 3:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new v(this.id+" cancelOrder not implemented yet")}},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new v(this.id+" fetchOrder not implemented yet");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:{},new v(this.id+" fetchDepositAddress() not implemented yet.");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw s.length>3&&void 0!==s[3]?s[3]:void 0,s.length>4&&void 0!==s[4]?s[4]:{},new v(this.id+" withdraw not implemented yet");case 3:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:25,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={symbol:a.id,limit:n,end:this.seconds()},void 0!==r&&(o.start=parseInt(r/1e3)),e.next=11,this.privatePostAuthRTradesSymbolHist(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));a="v1"===t?t+a:this.version+a;var c=this.urls.api+"/"+a;if("public"===t&&Object.keys(o).length&&(c+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="/api/"+a+u+(s=this.json(o)),h=this.hmac(this.encode(d),this.encode(this.secret),"sha384");i={"bfx-nonce":u,"bfx-apikey":this.apiKey,"bfx-signature":h,"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,s,a,o);case 7:if(!(c=e.sent)){e.next=16;break}if(!("message"in c)){e.next=13;break}if(!(c.message.indexOf("not enough exchange balance")>=0)){e.next=12;break}throw new m(this.id+" "+this.json(c));case 12:throw new f(this.id+" "+this.json(c));case 13:return e.abrupt("return",c);case 16:if(""!==c){e.next=18;break}throw new f(this.id+" returned empty response");case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.OrderNotFound;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitflyer",name:"bitFlyer",countries:["JP"],version:"v1",rateLimit:1e3,has:{CORS:!1,withdraw:!0,fetchMyTrades:!0,fetchOrders:!0,fetchOrder:!0,fetchOpenOrders:"emulated",fetchClosedOrders:"emulated"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.bitflyer.jp",www:"https://bitflyer.jp",doc:"https://lightning.bitflyer.com/docs?lang=en"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getbalancehistory","getcollateral","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.0025,taker:.0025}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.length>0&&void 0!==k[0]?k[0]:{},e.next=3,this.publicGetGetmarkets();case 3:return t=e.sent,e.next=6,this.publicGetGetmarketsUsa();case 6:return r=e.sent,e.next=9,this.publicGetGetmarketsEu();case 9:for(i=e.sent,s=this.arrayConcat(t,r),s=this.arrayConcat(s,i),a=[],o=0;o<s.length;o++)c=s[o],u=c.product_code,d=!0,h=!1,l="spot","alias"in c&&(l="future",h=!0,d=!1),p=u.split("_"),f=void 0,v=void 0,void 0,void 0,1===(g=p.length)?(f=u.slice(0,3),v=u.slice(3,6)):2===g?(f=p[0],v=p[1]):(f=p[1],v=p[2]),m=this.commonCurrencyCode(f),y=this.commonCurrencyCode(v),b=2===g?m+"/"+y:u,a.push({id:u,symbol:b,base:m,quote:y,baseId:f,quoteId:v,type:l,spot:d,future:h,info:c});return e.abrupt("return",a);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetbalance();case 5:for(t=e.sent,r={},i=0;i<t.length;i++)s=t[i],a=s.currency_code,r[a]=s;for(o={info:t},c=Object.keys(this.currencies),u=0;u<c.length;u++)d=c[u],h=this.account(),d in r&&(h.total=r[d].amount,h.free=r[d].available,h.used=h.total-h.free),o[d]=h;return e.abrupt("return",this.parseBalance(o));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetboard(this.extend({product_code:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","size"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetGetticker(this.extend({product_code:this.marketId(t)},r));case 5:return i=e.sent,s=this.parse8601(i.timestamp),a=this.safeFloat(i,"ltp"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(i,"best_bid"),bidVolume:void 0,ask:this.safeFloat(i,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"volume_by_product"),quoteVolume:void 0,info:i});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;if("side"in e&&e.side){var i=(r=e.side.toLowerCase())+"_child_order_acceptance_id";i in e&&(n=e[i])}void 0===n&&(n=this.safeString(e,"child_order_acceptance_id"));var s=this.parse8601(e.exec_date),a=this.safeFloat(e,"price"),o=this.safeFloat(e,"size");return{id:e.id.toString(),info:e,timestamp:s,datetime:this.iso8601(s),symbol:t.symbol,order:n,type:void 0,side:r,price:a,amount:o}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetGetexecutions(this.extend({product_code:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={product_code:this.marketId(t),child_order_type:r.toUpperCase(),side:i.toUpperCase(),price:a,size:s},e.next=7,this.privatePostSendchildorder(this.extend(c,o));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.child_order_acceptance_id});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:void 0,i=s.length>2&&void 0!==s[2]?s[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostCancelchildorder(this.extend({product_code:this.marketId(r),child_order_acceptance_id:t},i));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.child_order_date),n=this.safeFloat(e,"size"),i=this.safeFloat(e,"outstanding_size"),s=this.safeFloat(e,"executed_size"),a=this.safeFloat(e,"price"),o=a*s,c=this.parseOrderStatus(this.safeString(e,"child_order_state")),u=e.child_order_type.toLowerCase(),d=e.side.toLowerCase(),h=void 0;if(void 0===t){var l=this.safeString(e,"product_code");void 0!==l&&l in this.markets_by_id&&(t=this.markets_by_id[l])}void 0!==t&&(h=t.symbol);var p=void 0,f=this.safeFloat(e,"total_commission");return void 0!==f&&(p={cost:f,currency:void 0,rate:void 0}),{id:e.child_order_acceptance_id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:c,symbol:h,type:u,side:d,price:a,cost:o,amount:n,filled:s,remaining:i,fee:p}}},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:100,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchOrders() requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={product_code:a.id,count:i},e.next=12,this.privateGetGetchildorders(this.extend(o,s));case 12:return c=e.sent,u=this.parseOrders(c,a,r,i),void 0!==t&&(u=this.filterBy(u,"symbol",t)),e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:100,s=o.length>3&&void 0!==o[3]?o[3]:{},a={child_order_state:"ACTIVE"},e.next=7,this.fetchOrders(t,r,i,this.extend(a,s));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:100,s=o.length>3&&void 0!==o[3]?o[3]:{},a={child_order_state:"COMPLETED"},e.next=7,this.fetchOrders(t,r,i,this.extend(a,s));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder() requires a symbol argument");case 4:return e.next=6,this.fetchOrders(r);case 6:if(i=e.sent,s=this.indexBy(i,"id"),!(t in s)){e.next=10;break}return e.abrupt("return",s[t]);case 10:throw new v(this.id+" No order found with id "+t);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={product_code:a.id},void 0!==i&&(o.count=i),e.next=13,this.privateGetGetexecutions(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>3&&void 0!==c[3]?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if("JPY"===t||"USD"===t||"EUR"===t){e.next=7;break}throw new p(this.id+" allows withdrawing JPY, USD, EUR only, "+t+" is not supported");case 7:return a=this.currency(t),e.next=10,this.privatePostWithdraw(this.extend({currency_code:a.id,amount:r},s));case 10:return o=e.sent,e.abrupt("return",{info:o,id:o.message_id});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/";"private"===t&&(a+="me/"),a+=e,"GET"===r&&Object.keys(n).length&&(a+="?"+this.urlencode(n));var o=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=[c,r,a].join("");Object.keys(n).length&&"GET"!==r&&(u+=s=this.json(n)),i={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":c,"ACCESS-SIGN":this.hmac(this.encode(u),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:o,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.OrderNotFound,m=l.InsufficientFunds,y=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitforex",name:"Bitforex",countries:["CN"],version:"v1",has:{fetchBalance:!0,fetchMarkets:!0,createOrder:!0,cancelOrder:!0,fetchTicker:!0,fetchTickers:!1,fetchMyTrades:!1,fetchTrades:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/44310033-69e9e600-a3d8-11e8-873d-54d74d1bc4e4.jpg",api:"https://api.bitforex.com",www:"https://www.bitforex.com",doc:"https://github.com/bitforexapi/API_Docs/wiki",fees:"https://help.bitforex.com/en_us/?cat=13",referral:"https://www.bitforex.com/registered?inviterId=1867438"},api:{public:{get:["api/v1/market/symbols","api/v1/market/ticker","api/v1/market/depth","api/v1/market/trades","api/v1/market/kline"]},private:{post:["api/v1/fund/mainAccount","api/v1/fund/allAccount","api/v1/trade/placeOrder","api/v1/trade/cancelOrder","api/v1/trade/orderInfo","api/v1/trade/orderInfos"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:5e-4},funding:{tierBased:!1,percentage:!0,deposit:{},withdraw:{BTC:5e-4,ETH:.01,BCH:1e-4,LTC:.001,ETC:.005,USDT:5,CMCT:30,AION:3,LVT:0,DATA:40,RHP:50,NEO:0,AIDOC:10,BQT:2,R:2,DPY:.8,GTC:40,AGI:30,DENT:100,SAN:1,SPANK:8,AID:5,OMG:.1,BFT:5,SHOW:150,TRX:20,ABYSS:10,THM:25,ZIL:20,PPT:.2,WTC:.4,LRC:7,BNT:1,CTXC:1,MITH:20,TRUE:4,LYM:10,VEE:100,AUTO:200,REN:50,TIO:2.5,NGC:1.5,PST:10,CRE:200,IPC:5,PTT:1e3,XMCT:20,ATMI:40,TERN:40,XLM:.01,ODE:15,FTM:100,RTE:100,DCC:100,IMT:500,GOT:3,EGT:500,DACC:1e3,UBEX:500,ABL:100,OLT:100,DAV:40,THRT:10,RMESH:3,UPP:20,SDT:0,SHR:10,MTV:3,ESS:100,MET:3,TTC:20,LXT:10,XCLP:100,LUK:100,UBC:100,DTX:10,BEAT:20,DEED:2,BGX:3e3,PRL:20,ELY:50,CARD:300,SQR:15,VRA:400,BWX:3500,MAS:75,FLP:.6,UNC:300,CRNC:15,MFG:70,ZXC:70,TRT:30,ZIX:35,XRA:10,AMO:1600,IPG:3,uDoo:50,URB:30,ARCONA:3,CRAD:5,NOBS:1e3,ADF:2,ELF:5,LX:20,PATH:15,SILK:120,SKYFT:50,EDN:50,ADE:50,EDR:10,TIME:.25,SPRK:20,QTUM:.01,BF:5,ZPR:100,HYB:10,CAN:30,CEL:10,ATS:50,KCASH:1,ACT:.01,MT:300,DXT:30,WAB:4e3,HYDRO:400,LQD:5,OPTC:200,EQUAD:80,LATX:50,LEDU:100,RIT:70,ACDC:500,FSN:2}}},exceptions:{4004:v,1013:f,1016:f,3002:m,10204:y}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetApiV1MarketSymbols();case 3:for(t=e.sent,r=t.data,i=[],s=0;s<r.length;s++)a=r[s],o=a.symbol,c=o.split("-"),u=c[2],d=c[1],h=u.toUpperCase(),l=d.toUpperCase(),h=this.commonCurrencyCode(h),l=this.commonCurrencyCode(l),p=h+"/"+l,!0,f={amount:a.amountPrecision,price:a.pricePrecision},v={amount:{min:a.minOrderAmount,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},i.push({id:o,symbol:p,base:h,quote:l,baseId:u,quoteId:d,active:!0,precision:f,limits:v,info:a});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeInteger(e,"time"),i=this.safeString(e,"tid"),s=this.safeFloat(e,"amount"),a=this.safeFloat(e,"price"),o=void 0;void 0!==a&&void 0!==s&&(o=s*a);var c=this.safeInteger(e,"direction"),u=this.parseSide(c);return{info:e,id:i,timestamp:n,datetime:this.iso8601(n),symbol:r,type:void 0,side:u,price:a,amount:s,cost:o,order:void 0,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a={symbol:this.marketId(t)},void 0!==i&&(a.size=i),o=this.market(t),e.next=10,this.publicGetApiV1MarketTrades(this.extend(a,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data,o,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostApiV1FundAllAccount(t);case 5:for(r=e.sent,i=r.data,s={info:r},a=0;a<i.length;a++)o=i[a],c=o.currency,u=c.toUpperCase(),u=c in this.currencies_by_id?this.currencies_by_id[c].code:this.commonCurrencyCode(u),d=this.account(),s[u]=d,s[u].used=this.safeFloat(o,"frozen"),s[u].free=this.safeFloat(o,"active"),s[u].total=this.safeFloat(o,"fix");return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.markets[t],s={symbol:i.id},e.next=7,this.publicGetApiV1MarketTicker(this.extend(s,r));case 7:return a=e.sent,o=a.data,c=this.safeInteger(o,"date"),e.abrupt("return",{symbol:t,timestamp:c,datetime:this.iso8601(c),high:this.safeFloat(o,"high"),low:this.safeFloat(o,"low"),bid:this.safeFloat(o,"buy"),bidVolume:void 0,ask:this.safeFloat(o,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeFloat(o,"last"),last:this.safeFloat(o,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(o,"vol"),quoteVolume:void 0,info:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.marketId(t),a={symbol:s},void 0!==r&&(a.size=r),e.next=9,this.publicGetApiV1MarketDepth(this.extend(a,i));case 9:return o=e.sent,c=o.data,u=o.time,"bids","asks","price","amount",d=this.parseOrderBook(c,u,"bids","asks","price","amount"),e.abrupt("return",d);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return e in t?t[e]:e}},{key:"parseSide",value:function(e){return 1===e?"buy":2===e?"sell":void 0}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"orderId"),n=this.safeFloat(e,"createTime"),i=this.safeFloat(e,"lastTime"),s=t.symbol,a=this.safeInteger(e,"tradeType"),o=this.parseSide(a),c=this.safeFloat(e,"orderPrice"),u=this.safeFloat(e,"avgPrice"),d=this.safeFloat(e,"orderAmount"),h=this.safeFloat(e,"dealAmount"),l=d-h,p=this.parseOrderStatus(this.safeString(e,"orderState")),f=h*c,v=t["buy"===o?"base":"quote"],m={cost:this.safeFloat(e,"tradeFee"),currency:v};return{info:e,id:r,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:i,symbol:s,type:void 0,side:o,price:c,cost:f,average:u,amount:d,filled:h,remaining:l,status:p,fee:m}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),a={symbol:this.marketId(r),orderId:t},e.next=8,this.privatePostApiV1TradeOrderInfo(this.extend(a,i));case 8:return o=e.sent,c=this.parseOrder(o.data,s),e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={symbol:this.marketId(t),state:0},e.next=10,this.privatePostApiV1TradeOrderInfos(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseOrders(c.data,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={symbol:this.marketId(t),state:1},e.next=10,this.privatePostApiV1TradeOrderInfos(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseOrders(c.data,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=void 0,"buy"===i?c=1:"sell"===i&&(c=2),u={symbol:this.marketId(t),price:a,amount:s,tradeType:c},e.next=9,this.privatePostApiV1TradePlaceOrder(this.extend(u,o));case 9:return d=e.sent,h=d.data,e.abrupt("return",{info:d,id:this.safeString(h,"orderId")});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s={orderId:t},void 0!==r&&(s.symbol=this.marketId(r)),e.next=8,this.privatePostApiV1TradeCancelOrder(this.extend(s,i));case 8:return a=e.sent,o=a.success,c={info:a,success:o},e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.urlencode({accessKey:this.apiKey});o.nonce=this.milliseconds(),Object.keys(o).length&&(c+="&"+this.urlencode(this.keysort(o)));var u="/"+e+"?"+c;s=c+"&signData="+this.hmac(this.encode(u),this.encode(this.secret)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&("{"===s[0]||"["===s[0])){var o=this.id+" "+s,c=this.safeValue(a,"success");if(void 0!==c&&!c){var u=this.safeString(a,"code");throw u in this.exceptions?new this.exceptions[u](o):new p(o)}}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ExchangeNotAvailable,m=p.AuthenticationError,y=p.BadRequest,g=p.PermissionDenied,b=p.InvalidAddress;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bithumb",name:"Bithumb",countries:["KR"],rateLimit:500,has:{CORS:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.bithumb.com/public",private:"https://api.bithumb.com"},www:"https://www.bithumb.com",doc:"https://apidocs.bithumb.com"},api:{public:{get:["ticker/{currency}","ticker/all","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","trade/place","info/order_detail","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0015,taker:.0015}},exceptions:{"Bad Request(SSL)":y,"Bad Request(Bad Method)":y,"Bad Request.(Auth Data)":m,"Not Member":m,"Invalid Apikey":m,"Method Not Allowed.(Access IP)":g,"Method Not Allowed.(BTC Adress)":b,"Method Not Allowed.(Access)":g,"Database Fail":v,"Invalid Parameter":y,5600:f,"Unknown Error":f,"After May 23th, recent_transactions is no longer, hence users will not be able to connect to recent_transactions":f}})}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetTickerAll();case 3:for(t=e.sent,r=Object.keys(t.data),n=[],s=0;s<r.length;s++)"date"!==(a=r[s])&&(o=t.data[a],c=a,"KRW",u=a+"/KRW",d=!0,Array.isArray(o)&&0===o.length&&(d=!1),n.push({id:a,symbol:u,base:c,quote:"KRW",info:o,active:d,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}));return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostInfoBalance(this.extend({currency:"ALL"},t));case 5:for(r=e.sent,n={info:r},s=r.data,a=Object.keys(this.currencies),o=0;o<a.length;o++)c=a[o],u=this.account(),d=c.toLowerCase(),u.total=this.safeFloat(s,"total_"+d),u.used=this.safeFloat(s,"in_use_"+d),u.free=this.safeFloat(s,"available_"+d),n[c]=u;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={currency:s.base},void 0!==r&&(a.count=r),e.next=9,this.publicGetOrderbookCurrency(this.extend(a,n));case 9:return o=e.sent,c=o.data,u=parseInt(c.timestamp),e.abrupt("return",this.parseOrderBook(c,u,"bids","asks","price","quantity"));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=parseInt(e.date),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"opening_price"),s=this.safeFloat(e,"closing_price"),a=void 0,o=void 0,c=void 0;void 0!==s&&void 0!==i&&(a=s-i,i>0&&(o=a/i*100),c=this.sum(i,s)/2);var u=this.safeFloat(e,"average_price"),d=this.safeFloat(e,"volume_1day");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max_price"),low:this.safeFloat(e,"min_price"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:u,open:i,close:s,last:s,previousClose:void 0,change:a,percentage:o,average:c,baseVolume:d,quoteVolume:d*u,info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:void 0,t=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickerAll(t);case 6:for(r=e.sent,n={},s=r.data.date,a=this.omit(r.data,"date"),o=Object.keys(a),c=0;c<o.length;c++)u=o[c],d=u,h=void 0,u in this.markets_by_id&&(h=this.markets_by_id[u],d=h.symbol),l=a[u],Array.isArray(l)||(l.date=s,n[d]=this.parseTicker(l,h));return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerCurrency(this.extend({currency:n.base},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.data,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=e.transaction_date.split(" "),i=n(r,2),s=i[0],a=i[1];a.length<8&&(a="0"+a);var o=this.parse8601(s+" "+a);o-=324e5;var c="ask"===e.type?"sell":"buy";return{id:this.safeString(e,"cont_no"),info:e,timestamp:o,datetime:this.iso8601(o),symbol:t.symbol,order:void 0,type:void 0,side:c,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"units_traded")}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTransactionHistoryCurrency(this.extend({currency:a.base,count:100},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u=void 0,d="privatePostTrade","limit"===r?(u={order_currency:c.id,Payment_currency:c.quote,units:s,price:a,type:"buy"===n?"bid":"ask"},d+="Place"):"market"===r&&(u={currency:c.id,units:s},d+="Market"+this.capitalize(n)),e.next=10,this[d](this.extend(u,o));case 10:return h=e.sent,l=void 0,"order_id"in h&&h.order_id&&(l=h.order_id.toString()),e.abrupt("return",{info:h,id:l});case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},"side"in r){e.next=5;break}throw new f(this.id+" cancelOrder requires a side parameter (sell or buy) and a currency parameter");case 5:if("currency"in r){e.next=8;break}throw new f(this.id+" cancelOrder requires a currency parameter");case 8:return n="buy"===r.side?"bid":"ask",e.next=11,this.privatePostTradeCancel({order_id:t,type:n,currency:r.currency});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),c={units:r,address:n,currency:o.id},"XRP"!==o&&"XMR"!==o){e.next=14;break}if(u=this.safeString(a,"destination"),void 0!==s||void 0!==u){e.next=13;break}throw new f(this.id+" "+t+" withdraw() requires a tag argument or an extra destination param");case 13:void 0!==s&&(c.destination=s);case 14:return e.next=16,this.privatePostTradeBtcWithdrawal(this.extend(c,a));case 16:return d=e.sent,e.abrupt("return",{info:d,id:void 0});case 18:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.urls.api[t]+a,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),s=this.urlencode(this.extend({endpoint:a},c));var u=this.nonce().toString(),d=a+"\0"+s+"\0"+u,h=this.hmac(this.encode(d),this.encode(this.secret),"sha512"),l=this.decode(this.stringToBase64(this.encode(h)));i={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":l.toString(),"Api-Nonce":u}}return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])&&"status"in a){var o=this.safeString(a,"status"),c=this.safeString(a,"message");if(void 0!==o){if("0000"===o)return;var u=this.id+" "+this.json(a),d=this.exceptions;throw o in d?new d[o](u):c in d?new d[c](u):new f(u)}}}},{key:"request",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,s,a,o);case 7:if(!("status"in(c=e.sent))){e.next=12;break}if("0000"!==c.status){e.next=11;break}return e.abrupt("return",c);case 11:throw new f(this.id+" "+this.json(c));case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(49);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"bitibu",name:"Bitibu",countries:["CY"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/45444675-c9ce6680-b6d0-11e8-95ab-3e749a940de1.jpg",extension:".json",api:"https://bitibu.com",www:"https://bitibu.com",doc:"https://bitibu.com/documents/api_v2"}})}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(63);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"bitkk",name:"bitkk",comment:"a Chinese ZB clone",urls:{api:{public:"http://api.bitkk.com/data",private:"https://trade.bitkk.com/api"},www:"https://www.bitkk.com",doc:"https://www.bitkk.com/i/developer",fees:"https://www.bitkk.com/i/rate"}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10).NotSupported;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bitlish",name:"Bitlish",countries:["GB","EU","RU"],rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1h":3600},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766275-dcfc6c30-5ed3-11e7-839d-00a846385d0b.jpg",api:"https://bitlish.com/api",www:"https://bitlish.com",doc:"https://bitlish.com/api"},requiredCredentials:{apiKey:!0,secret:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:.003,maker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.001,DOGE:.001,ETH:.001,XMR:0,ZEC:.001,DASH:1e-4,EUR:50},deposit:{BTC:0,LTC:0,DOGE:0,ETH:0,XMR:0,ZEC:0,DASH:0,EUR:0}}},api:{public:{get:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"],post:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"]},private:{post:["accounts_operations","balance","cancel_trade","cancel_trades_by_ids","cancel_all_trades","create_bcode","create_template_wallet","create_trade","deposit","list_accounts_operations_from_ts","list_active_trades","list_bcodes","list_my_matches_from_ts","list_my_trades","list_my_trads_from_ts","list_payment_methods","list_payments","redeem_code","resign","signin","signout","trade_details","trade_options","withdraw","withdraw_by_id"]}},commonCurrencies:{DSH:"DASH",XDG:"DOGE"}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetPairs();case 3:for(t=e.sent,r=[],s=Object.keys(t),a=0;a<s.length;a++)o=t[s[a]],c=o.id,u=o.name,d=u.split("/"),h=i(d,2),l=h[0],p=h[1],l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),u=l+"/"+p,r.push({id:c,symbol:u,base:l,quote:p,info:o});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e,t){var r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{timestamp:r,datetime:this.iso8601(r),symbol:n,high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:i,last:i,previousClose:void 0,change:void 0,percentage:100*this.safeFloat(e,"prc"),average:void 0,baseVolume:this.safeFloat(e,"sum"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:void 0,t=v.length>1&&void 0!==v[1]?v[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=this.safeValue(this.markets_by_id,o),u=void 0,void 0!==c?u=c.symbol:(d=o.slice(0,3),h=o.slice(3,6),l=d.toUpperCase(),p=h.toUpperCase(),l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),u=l+"/"+p),f=r[o],s[u]=this.parseTicker(f,c);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTickers(r);case 6:return s=e.sent,a=s[i.id],e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOHLCV",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:"1h",r=c.length>2&&void 0!==c[2]?c[2]:void 0,c.length>3&&void 0!==c[3]?c[3]:void 0,i=c.length>4&&void 0!==c[4]?c[4]:{},e.next=6,this.loadMarkets();case 6:return s=this.seconds(),a=s-2592e3,void 0!==r&&(a=parseInt(r/1e3)),o=[a.toString(),void 0],e.next=12,this.publicPostOhlcv(this.extend({time_range:o},i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTradesDepth(this.extend({pair_id:this.marketId(t)},r));case 6:return i=e.sent,s=void 0,(a=this.safeInteger(i,"last"))&&(s=parseInt(a/1e3)),e.abrupt("return",this.parseOrderBook(i,s,"bid","ask","price","volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.dir?"buy":"sell",n=void 0;t&&(n=t.symbol);var i=parseInt(e.created/1e3);return{id:void 0,info:e,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradesHistory(this.extend({pair_id:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.list,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},i=Object.keys(t),s={},a=0;a<i.length;a++)o=i[a],c=t[o],"DSH"===(o=o.toUpperCase())&&(o="DASH"),"XDG"===o&&(o="DOGE"),s[o]=c;for(i=Object.keys(this.currencies),u=0;u<i.length;u++)d=i[u],h=this.account(),d in s&&(h.free=parseFloat(s[d].funds),h.used=parseFloat(s[d].holded),h.total=this.sum(h.free,h.used)),r[d]=h;return e.abrupt("return",this.parseBalance(r));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){return this.privatePostSignin({login:this.login,passwd:this.password})}},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={pair_id:this.marketId(t),dir:"buy"===i?"bid":"ask",amount:s},"limit"===r&&(c.price=a),e.next=8,this.privatePostCreateTrade(this.extend(c,o));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelTrade({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>3&&void 0!==c[3]?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(a=this.currency(t),"BTC"===t){e.next=8;break}throw new p(this.id+" currently supports BTC withdrawals only, until they document other currencies...");case 8:return e.next=10,this.privatePostWithdraw(this.extend({currency:a.toLowerCase(),amount:parseFloat(r),account:i,payment_method:"bitcoin"},s));case 10:return o=e.sent,e.abrupt("return",{info:o,id:o.message_id});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;return"public"===t?"GET"===r?Object.keys(n).length&&(a+="?"+this.urlencode(n)):(s=this.json(n),i={"Content-Type":"application/json"}):(this.checkRequiredCredentials(),s=this.json(this.extend({token:this.apiKey},n)),i={"Content-Type":"application/json"}),{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitmarket",name:"BitMarket",countries:["PL","EU"],rateLimit:1500,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0},timeframes:{"90m":"90m","6h":"6h","1d":"1d","1w":"7d","1M":"1m","3M":"3m","6M":"6m","1y":"1y"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27767256-a8555200-5ef9-11e7-96fd-469a65e2b0bd.jpg",api:{public:"https://www.bitmarket.net",private:"https://www.bitmarket.pl/api2/"},www:["https://www.bitmarket.pl","https://www.bitmarket.net"],doc:["https://www.bitmarket.net/docs.php?file=api_public.html","https://www.bitmarket.net/docs.php?file=api_private.html","https://github.com/bitmarket-net/api"],referral:"https://www.bitmarket.net/?ref=23323"},api:{public:{get:["json/{market}/ticker","json/{market}/orderbook","json/{market}/trades","json/ctransfer","graphs/{market}/90m","graphs/{market}/6h","graphs/{market}/1d","graphs/{market}/7d","graphs/{market}/1m","graphs/{market}/3m","graphs/{market}/6m","graphs/{market}/1y"]},private:{post:["info","trade","cancel","orders","trades","history","withdrawals","tradingdesk","tradingdeskStatus","tradingdeskConfirm","cryptotradingdesk","cryptotradingdeskStatus","cryptotradingdeskConfirm","withdraw","withdrawFiat","withdrawPLNPP","withdrawFiatFast","deposit","transfer","transfers","marginList","marginOpen","marginClose","marginCancel","marginModify","marginBalanceAdd","marginBalanceRemove","swapList","swapOpen","swapClose"]}},markets:{"BCH/PLN":{id:"BCCPLN",symbol:"BCH/PLN",base:"BCH",quote:"PLN"},"BTG/PLN":{id:"BTGPLN",symbol:"BTG/PLN",base:"BTG",quote:"PLN"},"BTC/PLN":{id:"BTCPLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},"LTC/PLN":{id:"LTCPLN",symbol:"LTC/PLN",base:"LTC",quote:"PLN"},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC"},"LiteMineX/BTC":{id:"LiteMineXBTC",symbol:"LiteMineX/BTC",base:"LiteMineX",quote:"BTC"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.45/100,maker:.0015,tiers:{taker:[[0,.45/100],[99.99,.0044],[299.99,.0043],[499.99,.0042],[999.99,.41/100],[1999.99,.004],[2999.99,.39/100],[4999.99,.0038],[9999.99,.0037],[19999.99,.0036],[29999.99,.35/100],[49999.99,.34/100],[99999.99,.0033],[199999.99,.0032],[299999.99,.0031],[499999.99,0]],maker:[[0,.0015],[99.99,.14/100],[299.99,.0013],[499.99,.0012],[999.99,.0011],[1999.99,.001],[2999.99,.9/100],[4999.99,.008],[9999.99,.7/100],[19999.99,.006],[29999.99,.005],[49999.99,.004],[99999.99,.003],[199999.99,.002],[299999.99,.001],[499999.99,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:8e-4,LTC:.005,BCH:8e-4,BTG:8e-4,DOGE:1,EUR:2,PLN:2},deposit:{BTC:0,LTC:0,BCH:0,BTG:0,DOGE:25,EUR:2,PLN:0}}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostInfo();case 5:for(t=e.sent,r=t.data,i=r.balances,s={info:r},a=Object.keys(this.currencies),o=0;o<a.length;o++)c=a[o],u=this.account(),c in i.available&&(u.free=i.available[c]),c in i.blocked&&(u.used=i.blocked[c]),u.total=this.sum(u.free,u.used),s[c]=u;return e.abrupt("return",this.parseBalance(s));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetJsonMarketOrderbook(this.extend({market:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.publicGetJsonMarketTicker(this.extend({market:this.marketId(t)},r));case 3:return i=e.sent,s=this.milliseconds(),a=this.safeFloat(i,"vwap"),o=this.safeFloat(i,"volume"),c=void 0,void 0!==o&&void 0!==a&&(c=o*a),u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:a,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.type?"buy":"sell",n=1e3*e.date;return{id:e.tid.toString(),info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,order:void 0,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetJsonMarketTrades(this.extend({market:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.time,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.vol)]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"90m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o="publicGetGraphsMarket"+this.timeframes[r],c=this.market(t),e.next=10,this[o](this.extend({market:c.id},a));case 10:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,c,r,i,s));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.privatePostTrade(this.extend({market:this.marketId(t),type:i,amount:s,rate:a},o));case 4:return c=e.sent,u={info:c},"id"in c.data&&(u.id=c.id),e.abrupt("return",u);case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isFiat",value:function(e){return"EUR"===e||"PLN"===e}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>3&&void 0!==d[3]?d[3]:void 0,s=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(a=this.currency(t),o=void 0,c={currency:a.id,quantity:r},!this.isFiat(t)){e.next=29;break}if(o="privatePostWithdrawFiat",!("account"in s)){e.next=14;break}c.account=s.account,e.next=15;break;case 14:throw new l(this.id+" requires account parameter to withdraw fiat currency");case 15:if(!("account2"in s)){e.next=19;break}c.account2=s.account2,e.next=21;break;case 19:if("EUR"!==a){e.next=21;break}throw new l(this.id+" requires account2 parameter to withdraw EUR");case 21:if(!("withdrawal_note"in s)){e.next=25;break}c.withdrawal_note=s.withdrawal_note,e.next=27;break;case 25:if("PLN"!==a){e.next=27;break}throw new l(this.id+" requires withdrawal_note parameter to withdraw PLN");case 27:e.next=31;break;case 29:o="privatePostWithdraw",c.address=i;case 31:return e.next=33,this[o](this.extend(c,s));case 33:return u=e.sent,e.abrupt("return",{info:u,id:u});case 35:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("public"===t)a+="/"+this.implodeParams(e+".json",n);else{this.checkRequiredCredentials();var o=this.nonce(),c=this.extend({tonce:o,method:e},n);s=this.urlencode(c),i={"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.AuthenticationError,f=l.BadRequest,v=l.DDoSProtection,m=l.ExchangeError,y=l.ExchangeNotAvailable,g=l.InsufficientFunds,b=l.InvalidOrder,k=l.OrderNotFound,w=l.PermissionDenied;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitmex",name:"BitMEX",countries:["SC"],version:"v1",userAgent:void 0,rateLimit:2e3,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0,editOrder:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:"https://testnet.bitmex.com",logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:"https://www.bitmex.com",www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees",referral:"https://www.bitmex.com/register/rm3C16"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{exact:{"Invalid API Key.":p,"Access Denied":w,"Duplicate clOrdID":b,"Signature not valid":p},broad:{overloaded:y,"Account has insufficient Available Balance":g}},options:{"api-expires":void 0}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.length>0&&void 0!==k[0]?k[0]:{},e.next=3,this.publicGetInstrumentActiveAndIndices(t);case 3:for(r=e.sent,i=[],s=0;s<r.length;s++)a=r[s],o="Unlisted"!==a.state,c=a.symbol,u=a.underlying,d=a.quoteCurrency,h=void 0,l=!1,p=!1,f=u+d,v=this.commonCurrencyCode(u),m=this.commonCurrencyCode(d),g=c,(y=c===f)?(h="swap",g=v+"/"+m):c.indexOf("B_")>=0?(p=!0,h="prediction"):(l=!0,h="future"),b={amount:void 0,price:void 0},a.lotSize&&(b.amount=this.precisionFromString(this.truncate_to_string(a.lotSize,16))),a.tickSize&&(b.price=this.precisionFromString(this.truncate_to_string(a.tickSize,16))),i.push({id:c,symbol:g,base:v,quote:m,baseId:u,quoteId:d,active:o,precision:b,limits:{amount:{min:a.lotSize,max:a.maxOrderQty},price:{min:a.tickSize,max:a.maxPrice}},taker:a.takerFee,maker:a.makerFee,type:h,spot:!1,swap:y,future:l,prediction:p,info:a});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return r={currency:"all"},e.next=6,this.privateGetUserMargin(this.extend(r,t));case 6:for(i=e.sent,s={info:i},a=0;a<i.length;a++)o=i[a],c=(c=this.safeString(o,"currency")).toUpperCase(),u=this.commonCurrencyCode(c),d={free:o.availableMargin,used:0,total:o.marginBalance},"BTC"===u&&(d.free=1e-8*d.free,d.total=1e-8*d.total),d.used=d.total-d.free,s[u]=d;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:void 0,i=f.length>2&&void 0!==f[2]?f[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={symbol:s.id},void 0!==r&&(a.depth=r),e.next=9,this.publicGetOrderBookL2(this.extend(a,i));case 9:for(o=e.sent,c={bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0},u=0;u<o.length;u++)d=o[u],h="Sell"===d.side?"asks":"bids",l=d.size,p=d.price,c[h].push([p,l]);return c.bids=this.sortBy(c.bids,0,!0),c.asks=this.sortBy(c.asks,0),e.abrupt("return",c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},s={filter:{orderID:t}},e.next=5,this.fetchOrders(r,void 0,void 0,this.deepExtend(s,i));case 5:if(a=e.sent,1!==a.length){e.next=9;break}return e.abrupt("return",a[0]);case 9:throw new k(this.id+": The order "+t+" not found.");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.symbol=a.id),void 0!==r&&(o.startTime=this.iso8601(r)),void 0!==i&&(o.count=i),"filter"in(o=this.deepExtend(o,s))&&(o.filter=this.json(o.filter)),e.next=15,this.privateGetOrder(o);case 15:return c=e.sent,e.abrupt("return",this.parseOrders(c,a,r,i));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},a={filter:{open:!0}},e.next=7,this.fetchOrders(t,r,i,this.deepExtend(a,s));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:if((i=this.market(t)).active){e.next=6;break}throw new m(this.id+": symbol "+t+" is delisted");case 6:return s={symbol:i.id},e.next=9,this.publicGetInstrumentActiveAndIndices(this.extend(s,r));case 9:return a=e.sent,e.abrupt("return",this.parseTicker(a[0]));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=this.safeString(e,"symbol");void 0!==(t=this.safeValue(this.markets_by_id,n,t))&&(r=t.symbol);var i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeFloat(e,"prevPrice24h"),a=this.safeFloat(e,"lastPrice"),o=void 0,c=void 0;return void 0!==a&&void 0!==s&&(o=a-s,s>0&&(c=o/s*100)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"askPrice"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:s,close:a,last:a,previousClose:void 0,change:o,percentage:c,average:this.sum(s,a)/2,baseVolume:this.safeFloat(e,"homeNotional24h"),quoteVolume:this.safeFloat(e,"foreignNotional24h"),info:e}}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.timestamp),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,binSize:this.timeframes[r],partial:!0},void 0!==s&&(c.count=s),void 0!==i&&(u=this.ymdhms(i),c.startTime=u),e.next=12,this.publicGetTradeBucketed(this.extend(c,a));case 12:return d=e.sent,e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=void 0;return void 0===t&&"symbol"in e&&(t=this.markets_by_id[e.symbol]),t&&(n=t.symbol),{id:e.trdMatchID,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:void 0,type:void 0,side:e.side.toLowerCase(),price:e.price,amount:e.size}}},{key:"parseOrderStatus",value:function(e){return this.safeString({New:"open",PartiallyFilled:"open",Filled:"closed",DoneForDay:"open",Canceled:"canceled",PendingCancel:"open",PendingNew:"open",Rejected:"rejected",Expired:"expired",Stopped:"open",Untriggered:"open",Triggered:"open"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseOrderStatus(this.safeString(e,"ordStatus")),n=void 0;if(void 0!==t)n=t.symbol;else{var i=e.symbol;i in this.markets_by_id&&(n=(t=this.markets_by_id[i]).symbol)}var s=this.parse8601(this.safeString(e,"timestamp")),a=this.parse8601(this.safeString(e,"transactTime")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"orderQty"),u=this.safeFloat(e,"cumQty",0),d=void 0;void 0!==c&&void 0!==u&&(d=Math.max(c-u,0));var h=void 0;return void 0!==o&&void 0!==u&&(h=o*u),{info:e,id:e.orderID.toString(),timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:a,symbol:n,type:e.ordType.toLowerCase(),side:e.side.toLowerCase(),price:o,amount:c,cost:h,filled:u,remaining:d,status:r,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==r&&(o.startTime=this.iso8601(r)),void 0!==i&&(o.count=i),e.next=11,this.publicGetTrade(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c,a));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c={symbol:this.marketId(t),side:this.capitalize(i),orderQty:s,ordType:this.capitalize(r)},void 0!==a&&(c.price=a),e.next=8,this.privatePostOrder(this.extend(c,o));case 8:return u=e.sent,d=this.parseOrder(u),h=d.id,this.orders[h]=d,e.abrupt("return",this.extend({info:u},d));case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"editOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:void 0,c=l.length>6&&void 0!==l[6]?l[6]:{},e.next=5,this.loadMarkets();case 5:return u={orderID:t},void 0!==a&&(u.orderQty=a),void 0!==o&&(u.price=o),e.next=10,this.privatePutOrder(this.extend(u,c));case 10:return d=e.sent,h=this.parseOrder(d),this.orders[h.id]=h,e.abrupt("return",this.extend({info:d},h));case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrder(this.extend({orderID:t},r));case 6:if(i=e.sent,s=i[0],void 0===(a=this.safeString(s,"error"))){e.next=12;break}if(!(a.indexOf("Unable to cancel order due to existing state")>=0)){e.next=12;break}throw new k(this.id+" cancelOrder() failed: "+a);case 12:return s=this.parseOrder(s),this.orders[s.id]=s,e.abrupt("return",this.extend({info:i},s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isFiat",value:function(e){return"EUR"===e||"PLN"===e}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>3&&void 0!==c[3]?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if("BTC"===t){e.next=7;break}throw new m(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");case 7:return a={currency:"XBt",amount:r,address:i},e.next=10,this.privatePostUserRequestWithdrawal(this.extend(a,s));case 10:return o=e.sent,e.abrupt("return",{info:o,id:o.transactID});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(429===e)throw new v(this.id+" "+s);if(e>=400&&s&&"{"===s[0]){var o=this.safeValue(a,"error",{}),c=this.safeString(o,"message"),u=this.id+" "+s,d=this.exceptions.exact;if(c in d)throw new d[c](u);var h=this.exceptions.broad,l=this.findBroadlyMatchedKey(h,c);if(void 0!==l)throw new h[l](u);if(400===e)throw new f(u);throw new m(u)}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+e;"PUT"!==r&&Object.keys(n).length&&(a+="?"+this.urlencode(n));var o=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var c=r+a,u=this.safeInteger(this.options,"api-expires"),d=this.nonce().toString();i={"Content-Type":"application/json","api-key":this.apiKey},void 0!==u?(c+=u=(u=this.sum(this.seconds(),u)).toString(),i["api-expires"]=u):(c+=d,i["api-nonce"]=d),"POST"!==r&&"PUT"!==r||Object.keys(n).length&&(c+=s=this.json(n)),i["api-signature"]=this.hmac(this.encode(c),this.encode(this.secret))}return{url:o,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.InvalidNonce,m=p.AuthenticationError,y=p.OrderNotFound;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bitso",name:"Bitso",countries:["MX"],rateLimit:2e3,version:"v3",has:{CORS:!0,fetchMyTrades:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766335-715ce7aa-5ed5-11e7-88a8-173a27bb30fe.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees?l=es",referral:"https://bitso.com/?ref=itej"},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":m,104:v}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetAvailableBooks();case 3:for(t=e.sent,r=[],s=0;s<t.payload.length;s++)a=t.payload[s],o=a.book,c=o.toUpperCase().replace("_","/"),u=c.split("/"),d=i(u,2),h=d[0],l=d[1],p={amount:{min:this.safeFloat(a,"minimum_amount"),max:this.safeFloat(a,"maximum_amount")},price:{min:this.safeFloat(a,"minimum_price"),max:this.safeFloat(a,"maximum_price")},cost:{min:this.safeFloat(a,"minimum_value"),max:this.safeFloat(a,"maximum_value")}},f={amount:this.precisionFromString(a.minimum_amount),price:this.precisionFromString(a.minimum_price)},r.push({id:o,symbol:c,base:h,quote:l,info:a,limits:p,precision:f});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance();case 5:for(t=e.sent,r=t.payload.balances,i={info:t},s=0;s<r.length;s++)a=r[s],o=a.currency.toUpperCase(),c={free:parseFloat(a.available),used:parseFloat(a.locked),total:parseFloat(a.total)},i[o]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBook(this.extend({book:this.marketId(t)},r));case 6:return i=e.sent,s=i.payload,a=this.parse8601(s.updated_at),e.abrupt("return",this.parseOrderBook(s,a,"bids","asks","price","amount"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTicker(this.extend({book:this.marketId(t)},r));case 5:return i=e.sent,s=i.payload,a=this.parse8601(s.created_at),o=this.safeFloat(s,"vwap"),c=this.safeFloat(s,"volume"),u=void 0,void 0!==c&&void 0!==o&&(u=c*o),d=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:o,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:u,info:s});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=void 0;if(void 0===t){var i=this.safeString(e,"book");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(n=t.symbol);var s=this.safeString(e,"side");void 0===s&&(s=this.safeString(e,"maker_side"));var a=this.safeFloat(e,"amount");void 0===a&&(a=this.safeFloat(e,"major")),void 0!==a&&(a=Math.abs(a));var o=void 0,c=this.safeFloat(e,"fees_amount");if(void 0!==c){var u=this.safeString(e,"fees_currency");void 0!==u&&u in this.currencies_by_id&&(u=this.currencies_by_id[u].code),o={cost:c,currency:u}}var d=this.safeFloat(e,"minor");void 0!==d&&(d=Math.abs(d));var h=this.safeFloat(e,"price"),l=this.safeString(e,"oid");return{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:l,type:void 0,side:s,price:h,amount:a,cost:d,fee:o}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({book:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.payload,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:25,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:if(a=this.market(t),o="marker"in s,void 0===r||o){e.next=10;break}throw f(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 10:return o&&(s=this.extend(s,{marker:parseInt(s.marker)})),c={book:a.id,limit:i},e.next=14,this.privateGetUserTrades(this.extend(c,s));case 14:return u=e.sent,e.abrupt("return",this.parseTrades(u.payload,a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={book:this.marketId(t),side:i,type:r,major:this.amountToPrecision(t,s)},"limit"===r&&(c.price=this.priceToPrecision(t,a)),e.next=8,this.privatePostOrders(this.extend(c,o));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.payload.oid});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrdersOid({oid:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={"partial-fill":"open",completed:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.side,n=this.parseOrderStatus(this.safeString(e,"status")),i=void 0;if(void 0===t){var s=e.book;s in this.markets_by_id&&(t=this.markets_by_id[s])}t&&(i=t.symbol);var a=e.type,o=this.parse8601(e.created_at),c=this.safeFloat(e,"original_amount"),u=this.safeFloat(e,"unfilled_amount"),d=c-u;return{info:e,id:e.oid,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:i,type:a,side:r,price:this.safeFloat(e,"price"),amount:c,cost:void 0,remaining:u,filled:d,status:n,fee:void 0}}},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:25,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:if(a=this.market(t),o="marker"in s,void 0===r||o){e.next=10;break}throw f(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 10:return o&&(s=this.extend(s,{marker:parseInt(s.marker)})),c={book:a.id,limit:i},e.next=14,this.privateGetOpenOrders(this.extend(c,s));case 14:return u=e.sent,d=this.parseOrders(u.payload,a,r,i),e.abrupt("return",d);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(r),e.next=7,this.privateGetOrdersOid({oid:t});case 7:if(s=e.sent,a=s.payload.length,Array.isArray(s.payload)&&1===a){e.next=11;break}throw new y(this.id+": The order "+t+" not found.");case 11:return e.abrupt("return",this.parseOrder(s.payload[0],i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:void 0,a.length>4&&void 0!==a[4]?a[4]:{},e.next=6,this.loadMarkets();case 6:return i=this.market(r),e.next=9,this.privateGetOrderTradesOid({oid:t});case 9:return s=e.sent,e.abrupt("return",this.parseTrades(s.payload,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),s={fund_currency:i.id},e.next=7,this.privateGetFundingDestination(this.extend(s,r));case 7:return a=e.sent,o=this.safeString(a.payload,"account_identifier"),c=void 0,"XRP"===t&&(u=o.split("?dt="),o=u[0],c=u[1]),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:c,info:a});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(void 0!==(c=t in(o={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"})?o[t]:void 0)){e.next=9;break}throw new f(this.id+" not valid withdraw coin: "+t);case 9:return u={amount:r,address:i,destination_tag:s},d="privatePost"+c+"Withdrawal",e.next=13,this[d](this.extend(u,a));case 13:return h=e.sent,e.abrupt("return",{info:h,id:this.safeString(h.payload,"wid")});case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o));var c=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d=[u,r,a].join("");"GET"!==r&&Object.keys(o).length&&(d+=s=this.json(o));var h=this.hmac(this.encode(d),this.encode(this.secret));i={Authorization:"Bitso "+(this.apiKey+":"+u+":"+h),"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])&&"success"in a){var o=this.safeValue(a,"success",!1);if("string"===typeof o&&(o="true"===o||"1"===o),!o){var c=this.id+" "+this.json(a),u=this.safeValue(a,"error");if(void 0===u)throw new f(c);var d=this.safeString(u,"code"),h=this.exceptions;throw d in h?new h[d](c):new f(c)}}}},{key:"request",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("success"in(c=e.sent))){e.next=11;break}if(!c.success){e.next=11;break}return e.abrupt("return",c);case 11:throw new f(this.id+" "+this.json(c));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.AuthenticationError,v=p.ExchangeError,m=p.NotSupported,y=p.PermissionDenied,g=p.InvalidNonce,b=p.OrderNotFound;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bitstamp",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v2",has:{CORS:!0,fetchDepositAddress:!0,fetchOrder:"emulated",fetchOpenOrders:!0,fetchMyTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","buy/{pair}/","buy/market/{pair}/","buy/instant/{pair}/","sell/{pair}/","sell/market/{pair}/","sell/instant/{pair}/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["bitcoin_deposit_address/","unconfirmed_btc/","bitcoin_withdrawal/","ripple_withdrawal/","ripple_address/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.0025,tiers:{taker:[[0,.0025],[2e4,.0024],[1e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]],maker:[[0,.0025],[2e4,.0024],[1e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:.9},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:0}}},exceptions:{"No permission found":y,"API key not found":f,"IP address not allowed":y,"Invalid nonce":g,"Invalid signature":f,"Authentication failed":f,"Missing key, signature and nonce parameters":f,"Your account is frozen":y,"Please update your profile with your FATCA information, before using API.":y,"Order not found":b}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.length>0&&void 0!==k[0]?k[0]:{},e.next=3,this.publicGetTradingPairsInfo();case 3:for(t=e.sent,r=[],s=0;s<t.length;s++)a=t[s],o=a.name,c=o.split("/"),u=i(c,2),d=u[0],h=u[1],l=d.toLowerCase(),p=h.toLowerCase(),f=l+"_"+p,v=a.url_symbol,m={amount:a.base_decimals,price:a.counter_decimals},y=a.minimum_order.split(" "),g=y[0],b="Enabled"===a.trading,r.push({id:v,symbol:o,base:d,quote:h,baseId:l,quoteId:p,symbolId:f,info:a,active:b,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:void 0},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:parseFloat(g),max:void 0}}});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBookPair(this.extend({pair:this.marketId(t)},r));case 6:return i=e.sent,s=1e3*parseInt(i.timestamp),e.abrupt("return",this.parseOrderBook(i,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTickerPair(this.extend({pair:this.marketId(t)},r));case 5:return i=e.sent,s=1e3*parseInt(i.timestamp),a=this.safeFloat(i,"vwap"),o=this.safeFloat(i,"volume"),c=void 0,void 0!==o&&void 0!==a&&(c=o*a),u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(i,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:i});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrencyIdFromTransaction",value:function(e){if("currency"in e)return e.currency.toLowerCase();e=this.omit(e,["fee","price","datetime","type","status","id"]);for(var t=Object.keys(e),r=0;r<t.length;r++){var n=t[r];if(n.indexOf("_")<0){var i=this.safeFloat(e,n);if(void 0!==i&&0!==i)return n}}}},{key:"getMarketFromTrade",value:function(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);var t=Object.keys(e),r=t.length;if(r>2)throw new v(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===r){var n=t[0]+t[1];if(n in this.markets_by_id)return this.markets_by_id[n];if((n=t[1]+t[0])in this.markets_by_id)return this.markets_by_id[n]}}},{key:"getMarketFromTrades",value:function(e){var t=this.indexBy(e,"symbol"),r=Object.keys(t);if(1===r.length)return this.markets[r[0]]}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;"date"in e?r=1e3*parseInt(e.date):"datetime"in e&&(r=this.parse8601(e.datetime));var i=this.safeString(e,"side"),s=this.safeString(e,"order_id"),a=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"cost"),u=this.safeString2(e,"tid","id");if(void 0===t){for(var d=Object.keys(e),h=0;h<d.length;h++)if(d[h].indexOf("_")>=0){var l=d[h].replace("_","");l in this.markets_by_id&&(t=this.markets_by_id[l])}void 0===t&&(t=this.getMarketFromTrade(e))}var p=this.safeFloat(e,"fee"),f=void 0;return void 0!==t&&(a=this.safeFloat(e,t.symbolId,a),o=this.safeFloat(e,t.baseId,o),c=this.safeFloat(e,t.quoteId,c),f=t.quote,n=t.symbol),void 0!==o&&(i=o<0?"sell":"buy",o=Math.abs(o)),void 0===c&&void 0!==a&&void 0!==o&&(c=a*o),void 0!==c&&(c=Math.abs(c)),{id:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:s,type:void 0,side:i,price:a,amount:o,cost:c,fee:{cost:p,currency:f}}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTransactionsPair(this.extend({pair:a.id,time:"hour"},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],o=a.toLowerCase(),c=o+"_balance",u=o+"_available",d=o+"_reserved",h=this.account(),u in t&&(h.free=parseFloat(t[u])),d in t&&(h.used=parseFloat(t[d])),c in t&&(h.total=parseFloat(t[c])),r[a]=h;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u="privatePost"+this.capitalize(i),d={pair:c.id,amount:this.amountToPrecision(t,s)},"market"===r?u+="Market":d.price=this.priceToPrecision(t,a),u+="Pair",e.next=11,this[u](this.extend(d,o));case 11:return h=e.sent,l=this.parseOrder(h,c),e.abrupt("return",this.extend(l,{type:r}));case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"};return e in t?t[e]:e}},{key:"fetchOrderStatus",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderStatus(this.safeString(i,"status")));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=void 0,void 0!==r&&(s=this.market(r)),e.next=8,this.privatePostOrderStatus(this.extend({id:t},i));case 8:return a=e.sent,e.abrupt("return",this.parseOrder(a,s));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o="privatePostUserTransactions",c=void 0,void 0!==t&&(c=this.market(t),a.pair=c.id,o+="Pair"),void 0!==i&&(a.limit=i),e.next=13,this[o](this.extend(a,s));case 13:return u=e.sent,d=this.filterBy(u,"type","2"),e.abrupt("return",this.parseTrades(d,c,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a={},void 0!==i&&(a.limit=i),e.next=10,this.privatePostUserTransactions(this.extend(a,s));case 10:return o=e.sent,c=void 0,void 0!==t&&(c=this.currency(t)),u=this.filterByArray(o,"type",["0","1"],!1),e.abrupt("return",this.parseTransactions(u,c,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,t=o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return s={},void 0!==t&&(s.timedelta=this.milliseconds()-t),e.next=10,this.privatePostWithdrawalRequests(this.extend(s,i));case 10:return a=e.sent,e.abrupt("return",this.parseTransactions(a,void 0,t,r));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(this.safeString(e,"datetime")),n=void 0,i=this.safeString(e,"id"),s=this.getCurrencyIdFromTransaction(e);s in this.currencies_by_id?t=this.currencies_by_id[s]:void 0!==s&&(n=s.toUpperCase(),n=this.commonCurrencyCode(n));var a=this.safeFloat(e,"fee"),o=void 0,c=void 0;void 0!==t?(c=this.safeFloat(e,t.id,c),o=t.code,n=t.code):void 0!==n&&void 0!==s&&(c=this.safeFloat(e,s,c),o=n),void 0!==c&&(c=Math.abs(c));var u=this.parseTransactionStatusByType(this.safeString(e,"status")),d=this.safeString(e,"type");void 0===u?"0"===d?d="deposit":"1"===d&&(d="withdrawal"):d="withdrawal";var h=this.safeString(e,"transaction_id"),l=this.safeString(e,"address");return{info:e,id:i,txid:h,timestamp:r,datetime:this.iso8601(r),address:l,tag:void 0,type:d,amount:c,currency:n,status:u,updated:void 0,fee:{currency:o,cost:a,rate:void 0}}}},{key:"parseTransactionStatusByType",value:function(e){return this.safeString({0:"pending",1:"pending",2:"ok",3:"canceled",4:"failed"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeString(e,"type");void 0!==n&&(n="1"===n?"sell":"buy");var i=this.parse8601(this.safeString(e,"datetime")),s=void 0,a=this.safeString(e,"currency_pair");void 0!==a&&(a=(a=a.replace("/","")).toLowerCase())in this.markets_by_id&&(s=(t=this.markets_by_id[a]).symbol);var o=this.safeFloat(e,"amount"),c=0,u=[],d=this.safeValue(e,"transactions"),h=void 0,l=void 0;if(void 0!==d&&Array.isArray(d)){h=0;for(var p=0;p<d.length;p++){var f=this.parseTrade(this.extend({order_id:r,side:n},d[p]),t);c+=f.amount,h+=f.fee.cost,void 0===l&&(l=0),l+=f.cost,u.push(f)}}var v=this.parseOrderStatus(this.safeString(e,"status"));"closed"===v&&void 0===o&&(o=c);var m=void 0;void 0!==o&&(m=o-c);var y=this.safeFloat(e,"price");void 0===t&&(t=this.getMarketFromTrades(u));var g=void 0;void 0!==t&&(void 0===s&&(s=t.symbol),g=t.quote),void 0===l?void 0!==y&&(l=y*c):void 0===y&&c>0&&(y=l/c);var b=void 0;return void 0!==h&&void 0!==g&&(b={cost:h,currency:g}),{id:r,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:v,symbol:s,type:void 0,side:n,price:y,cost:l,amount:o,filled:c,remaining:m,trades:u,fee:b,info:e}}},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},a=void 0,e.next=7,this.loadMarkets();case 7:return void 0!==t&&(a=this.market(t)),e.next=10,this.privatePostOpenOrdersAll(s);case 10:for(o=e.sent,c=[],u=0;u<o.length;u++)d=this.parseOrder(o[u],a),c.push(this.extend(d,{status:"open",type:"limit"}));if(void 0!==t){e.next=15;break}return e.abrupt("return",this.filterBySinceLimit(c,r,i));case 15:return e.abrupt("return",this.filterBySymbolSinceLimit(c,t,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getCurrencyName",value:function(e){return"BTC"===e?"bitcoin":e.toLowerCase()}},{key:"isFiat",value:function(e){return"USD"===e||"EUR"===e}},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},!this.isFiat(t)){e.next=3;break}throw new m(this.id+" fiat fetchDepositAddress() for "+t+" is not implemented yet");case 3:return i=this.getCurrencyName(t),a=(s="BTC"===t)?"v1":"private",a+="Post"+this.capitalize(i),a+=s?"Deposit":"",a+="Address",e.next=11,this[a](r);case 11:return o=e.sent,c=s?o:this.safeString(o,"address"),u=s?void 0:this.safeString(o,"destination_tag"),this.checkAddress(c),e.abrupt("return",{currency:t,address:c,tag:u,info:o});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(i),!this.isFiat(t)){e.next=5;break}throw new m(this.id+" fiat withdraw() for "+t+" is not implemented yet");case 5:if(o=this.getCurrencyName(t),c={amount:r,address:i},u="BTC"===t?"v1":"private",u+="Post"+this.capitalize(o)+"Withdrawal",d=a,"XRP"!==t){e.next=18;break}if(void 0===s){e.next=17;break}c.destination_tag=s,d=this.omit(a,"destination_tag"),e.next=18;break;case 17:throw new v(this.id+" withdraw() requires a destination_tag param for "+t);case 18:return e.next=20,this[u](this.extend(c,d));case 20:return h=e.sent,e.abrupt("return",{info:h,id:h.id});case 22:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";"v1"!==t&&(a+=this.version+"/"),a+=this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+this.uid+this.apiKey,d=this.encode(this.hmac(this.encode(u),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:c},o),s=this.urlencode(o),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeString(a,"error"),c=this.exceptions;if(o in c)throw new c[o](this.id+" "+s);if("error"===this.safeString(a,"status")){var u=this.safeString(a,"code");if(void 0!==u&&"API0005"===u)throw new f(this.id+" invalid signature, use the uid for the main account if you have subaccounts");throw new v(this.id+" "+s)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.NotSupported;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bitstamp1",name:"Bitstamp v1",countries:["GB"],rateLimit:1e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.0025,taker:.0025},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",maker:.0025,taker:.0025},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",maker:.0025,taker:.0025},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",maker:.0025,taker:.0025},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",maker:.0025,taker:.0025},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",maker:.0025,taker:.0025},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.0025,taker:.0025},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",maker:.0025,taker:.0025},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",maker:.0025,taker:.0025},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.0025,taker:.0025}}})}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},"BTC/USD"===t){e.next=4;break}throw new p(this.id+" "+this.version+" fetchOrderBook doesn't support "+t+", use it for BTC/USD only");case 4:return e.next=6,this.publicGetOrderBook(r);case 6:return i=e.sent,s=1e3*parseInt(i.timestamp),e.abrupt("return",this.parseOrderBook(i,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},"BTC/USD"===t){e.next=3;break}throw new p(this.id+" "+this.version+" fetchTicker doesn't support "+t+", use it for BTC/USD only");case 3:return e.next=5,this.publicGetTicker(r);case 5:return i=e.sent,s=1e3*parseInt(i.timestamp),a=this.safeFloat(i,"vwap"),o=this.safeFloat(i,"volume"),c=void 0,void 0!==o&&void 0!==a&&(c=o*a),u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(i,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:i});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"date"in e?r=1e3*parseInt(e.date):"datetime"in e&&(r=1e3*parseInt(e.datetime));var n=0===e.type?"buy":"sell",i=void 0;return"order_id"in e&&(i=e.order_id.toString()),"currency_pair"in e&&e.currency_pair in this.markets_by_id&&(t=this.markets_by_id[e.currency_pair]),{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:i,type:void 0,side:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},"BTC/USD"===t){e.next=5;break}throw new p(this.id+" "+this.version+" fetchTrades doesn't support "+t+", use it for BTC/USD only");case 5:return a=this.market(t),e.next=8,this.publicGetTransactions(this.extend({time:"minute"},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.privatePostBalance();case 3:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],o=a.toLowerCase(),c=o+"_balance",u=o+"_available",d=o+"_reserved",(h=this.account()).free=this.safeFloat(t,u,0),h.used=this.safeFloat(t,d,0),h.total=this.safeFloat(t,c,0),r[a]=h;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},"limit"===r){e.next=4;break}throw new p(this.id+" "+this.version+" accepts limit orders only");case 4:if("BTC/USD"===t){e.next=6;break}throw new p(this.id+" v1 supports BTC/USD orders only");case 6:return c="privatePost"+this.capitalize(i),u={amount:s,price:a},e.next=10,this[c](this.extend(u,o));case 10:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"};return e in t?t[e]:e}},{key:"fetchOrderStatus",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={id:t},e.next=7,this.privatePostOrderStatus(this.extend(i,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrderStatus(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,void 0!==t&&(a=this.market(t)),o=a?a.id:"all",c=this.extend({id:o},s),e.next=12,this.privatePostOpenOrdersId(c);case 12:return u=e.sent,e.abrupt("return",this.parseTrades(u,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new f(this.id+" fetchOrder is not implemented yet");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+this.uid+this.apiKey,d=this.encode(this.hmac(this.encode(u),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:c},o),s=this.urlencode(o),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("status"in(c=e.sent))){e.next=11;break}if("error"!==c.status){e.next=11;break}throw new p(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.ExchangeNotAvailable,y=p.PermissionDenied,g=p.InvalidOrder,b=p.AuthenticationError,k=p.InsufficientFunds,w=p.OrderNotFound,x=p.DDoSProtection;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bitz",name:"Bit-Z",countries:["HK"],rateLimit:2e3,version:"v2",userAgent:this.userAgents.chrome,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrders:!0,fetchOrder:!0,createMarketOrder:!1},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","5d":"5day","1w":"1week","1M":"1mon"},urls:{logo:"https://user-images.githubusercontent.com/1294454/35862606-4f554f14-0b5d-11e8-957d-35058c504b6f.jpg",api:{market:"https://apiv2.bitz.com",trade:"https://apiv2.bitz.com",assets:"https://apiv2.bitz.com"},www:"https://www.bit-z.com",doc:"https://apidoc.bit-z.com/en",fees:"https://www.bit-z.com/about/fee",referral:"https://u.bit-z.com/register?invite_code=1429193"},api:{market:{get:["ticker","depth","order","tickerall","kline","symbolList","currencyRate","currencyCoinRate","coinRate"]},trade:{post:["addEntrustSheet","cancelEntrustSheet","cancelAllEntrustSheet","getUserHistoryEntrustSheet","getUserNowEntrustSheet","getEntrustSheetInfo"]},assets:{post:["getUserAssets"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{fetchOHLCVVolume:!0,fetchOHLCVWarning:!0,lastNonceTimestamp:0},commonCurrencies:{BOX:"BOX Token",XRB:"NANO",PXC:"Pixiecoin"},exceptions:{"-102":f,"-103":b,"-104":m,"-105":b,"-106":m,"-109":b,"-110":x,"-111":y,"-112":m,"-100015":b,"-100044":f,"-100101":f,"-100201":f,"-100301":f,"-100401":f,"-100302":f,"-100303":f,"-200003":b,"-200005":y,"-200025":m,"-200027":g,"-200028":g,"-200029":g,"-200030":g,"-200031":k,"-200032":f,"-200033":f,"-200034":w,"-200035":w,"-200037":g,"-200038":f,"-200055":w,"-300069":b,"-300101":f,"-300102":g,"-300103":b,"-301001":m}})}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.marketGetSymbolList();case 3:for(t=e.sent,r=t.data,n=Object.keys(r),s=[],a=0;a<n.length;a++)o=n[a],c=r[o],u=this.safeString(c,"id"),d=this.safeString(c,"coinFrom"),h=this.safeString(c,"coinTo"),l=d.toUpperCase(),p=h.toUpperCase(),l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),f=l+"/"+p,v={amount:this.safeInteger(c,"numberFloat"),price:this.safeInteger(c,"priceFloat")},s.push({info:c,id:o,numericId:u,symbol:f,base:l,quote:p,baseId:d,quoteId:h,active:!0,precision:v,limits:{amount:{min:this.safeFloat(c,"minTrade"),max:this.safeFloat(c,"maxTrade")},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.assetsPostGetUserAssets(t);case 5:for(r=e.sent,n=r.data.info,s={info:r},a=0;a<n.length;a++)o=n[a],c=this.safeString(o,"name"),u=c.toUpperCase(),u=c in this.markets_by_id?this.currencies_by_id[c].code:this.commonCurrencyCode(u),(d=this.account()).used=this.safeFloat(o,"lock"),d.total=this.safeFloat(o,"num"),d.free=this.safeFloat(o,"over"),s[u]=d;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,n)}void 0!==t&&(r=t.symbol);var i=this.safeFloat(e,"now"),s=this.safeFloat(e,"open"),a=void 0,o=void 0;return void 0!==i&&void 0!==s&&(a=i-s,o=this.sum(i,s)/2),{symbol:r,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:void 0,open:s,close:i,last:i,previousClose:void 0,change:a,percentage:this.safeFloat(e,"priceChange24h"),average:o,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"parseMicrotime",value:function(e){if(void 0===e)return e;var t=e.split(" "),r=parseFloat(t[0]),n=parseInt(t[1]),i=this.sum(n,r);return parseInt(1e3*i)}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.marketGetTicker(this.extend({symbol:n.id},r));case 6:return s=e.sent,a=this.parseTicker(s.data,n),o=this.parseMicrotime(this.safeString(s,"microtime")),e.abrupt("return",this.extend(a,{timestamp:o,datetime:this.iso8601(o)}));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.length>0&&void 0!==T[0]?T[0]:void 0,r=T.length>1&&void 0!==T[1]?T[1]:{},e.next=4,this.loadMarkets();case 4:return s={},void 0!==t&&(a=this.marketIds(t),s.symbols=a.join(",")),e.next=8,this.marketGetTickerall(this.extend(s,r));case 8:for(o=e.sent,c=o.data,u=this.parseMicrotime(this.safeString(o,"microtime")),d={},h=Object.keys(c),l=0;l<h.length;l++)p=h[l],c[p],v=void 0,p in this.markets_by_id&&(v=this.markets_by_id[p]),f=this.parseTicker(c[p],v),void 0===(m=f.symbol)&&(void 0!==v?m=v.symbol:(y=p.split("_"),g=n(y,2),b=g[0],k=g[1],b.toUpperCase(),k.toUpperCase(),w=this.commonCurrencyCode(b),x=this.commonCurrencyCode(k),m=w+"/"+x)),void 0!==m&&(d[m]=this.extend(f,{timestamp:u,datetime:this.iso8601(u)}));return e.abrupt("return",d);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.marketGetDepth(this.extend({symbol:this.marketId(t)},r));case 6:return n=e.sent,s=n.data,a=this.parseMicrotime(this.safeString(n,"microtime")),e.abrupt("return",this.parseOrderBook(s,a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeInteger(e,"T");void 0!==n&&(n*=1e3);var i=this.safeFloat(e,"p"),s=this.safeFloat(e,"n"),a=void 0;void 0!==t&&(a=t.symbol);var o=this.priceToPrecision(a,s*i),c=this.safeString(e,"s");return{timestamp:n,datetime:this.iso8601(n),symbol:a,id:r,order:void 0,type:"limit",side:c,price:i,amount:s,cost:o,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.marketGetOrder(this.extend({symbol:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",n=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:if(o=1e3*this.parseTimeframe(r),c=this.market(t),u={symbol:c.id,resolution:this.timeframes[r]},void 0===s){e.next=14;break}u.size=Math.min(s,300),void 0!==n&&(u.to=n+s*o*1e3),e.next=16;break;case 14:if(void 0===n){e.next=16;break}throw new f(this.id+" fetchOHLCV requires a limit argument if the since argument is specified");case 16:return e.next=18,this.marketGetKline(this.extend(u,a));case 18:return d=e.sent,e.abrupt("return",this.parseOHLCVs(d.data.bars,c,r,n,s));case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"open",2:"closed",3:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=void 0;if(void 0===t){var i=this.safeString(e,"coinFrom"),s=this.safeString(e,"coinTo");if(void 0!==i&&void 0!==s){var a=i+"_"+s;if(a in this.markets_by_id)t=this.safeValue(this.markets_by_id,a);else{var o=i.toUpperCase(),c=s.toUpperCase();n=(o=this.commonCurrencyCode(o))+"/"+(c=this.commonCurrencyCode(c))}}}void 0!==t&&(n=t.symbol);var u=this.safeString(e,"flag");void 0!==u&&(u="sale"===u?"sell":"buy");var d=this.safeFloat(e,"price"),h=this.safeFloat(e,"number"),l=this.safeFloat(e,"numberOver"),p=this.safeFloat(e,"numberDeal"),f=this.safeInteger(e,"timestamp");void 0===f&&void 0!==(f=this.safeInteger(e,"created"))&&(f*=1e3);var v=this.safeFloat(e,"orderTotalPrice");void 0!==d&&void 0!==p&&(v=p*d);var m=this.parseOrderStatus(this.safeString(e,"status"));return{id:r,datetime:this.iso8601(f),timestamp:f,lastTradeTimestamp:void 0,status:m,symbol:n,type:"limit",side:u,price:d,cost:v,amount:h,filled:p,remaining:l,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>4&&void 0!==v[4]?v[4]:void 0,o=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:if("limit"===r){e.next=6;break}throw new f(this.id+" createOrder allows limit orders only");case 6:if(c=this.market(t),u="buy"===n?"1":"2",this.password){e.next=10;break}throw new f(this.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');case 10:return d={symbol:c.id,type:u,price:this.priceToPrecision(t,a),number:this.amountToPrecision(t,s),tradePwd:this.password},e.next=13,this.tradePostAddEntrustSheet(this.extend(d,o));case 13:return h=e.sent,l=this.parseMicrotime(this.safeString(h,"microtime")),p=this.extend({timestamp:l},h.data),e.abrupt("return",this.parseOrder(p,c));case 17:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradePostCancelEntrustSheet(this.extend({entrustSheetId:t},r));case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelOrders",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradePostCancelEntrustSheet(this.extend({ids:t.join(",")},r));case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n={entrustSheetId:t},e.next=7,this.tradePostGetEntrustSheetInfo(this.extend(n,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s.data));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersWithMethod",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==r){e.next=8;break}throw new v(this.id+" fetchOpenOrders requires a symbol argument");case 8:return o=this.market(r),c={coinFrom:o.baseId,coinTo:o.quoteId},void 0!==s&&(c.page=1,c.pageSize=s),void 0!==n&&(c.startTime=parseInt(n/1e3)),e.next=14,this[t](this.extend(c,a));case 14:if(u=e.sent,!this.safeValue(u.data,"data")){e.next=20;break}return e.abrupt("return",this.parseOrders(u.data.data,void 0,n,s));case 20:return e.abrupt("return",[]);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersWithMethod("tradePostGetUserNowEntrustSheet",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){var e=this.seconds();return e>this.options.lastNonceTimestamp&&(this.options.lastNonceTimestamp=e,this.options.lastNonce=1e5),this.options.lastNonce=this.sum(this.options.lastNonce,1),this.options.lastNonce}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"market",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.capitalize(t)+"/"+e,o=void 0;return"market"===t?(o=this.urlencode(n)).length&&(a+="?"+o):(this.checkRequiredCredentials(),s=this.rawencode(this.keysort(this.extend({apiKey:this.apiKey,timeStamp:this.seconds(),nonce:this.nonce()},n))),s+="&sign="+this.hash(this.encode(s+this.secret)),i={"Content-type":"application/x-www-form-urlencoded"}),{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeString(a,"status");if(void 0!==o){var c=this.id+" "+s,u=this.exceptions;if("200"===o){var d=this.safeInteger(a,"data");if(void 0!==d)throw d in u?new u[d](c):new f(c);return}throw o in u?new u[o](c):new f(c)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:["https://bl3p.eu","https://bitonic.nl"],doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostGENMKTMoneyInfo();case 3:for(t=e.sent,r=t.data,i=r.wallets,s={info:r},a=Object.keys(this.currencies),o=0;o<a.length;o++)c=a[o],u=this.account(),c in i&&"available"in i[c]&&(u.free=parseFloat(i[c].available.value)),c in i&&"balance"in i[c]&&(u.total=parseFloat(i[c].balance.value)),u.total&&u.free&&(u.used=u.total-u.free),s[c]=u;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[e[t]/1e5,e[r]/1e8]}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},i=this.market(t),e.next=5,this.publicGetMarketOrderbook(this.extend({market:i.id},r));case 5:return s=e.sent,a=s.data,e.abrupt("return",this.parseOrderBook(a,void 0,"bids","asks","price_int","amount_int"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.publicGetMarketTicker(this.extend({market:this.marketId(t)},r));case 3:return i=e.sent,s=1e3*i.timestamp,a=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(i.volume["24h"]),quoteVolume:void 0,info:i});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){return{id:e.trade_id.toString(),timestamp:e.date,datetime:this.iso8601(e.date),symbol:t.symbol,type:void 0,side:void 0,price:e.price_int/1e5,amount:e.amount_int/1e8,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},a=this.market(t),e.next=6,this.publicGetMarketTrades(this.extend({market:a.id},s));case 6:return o=e.sent,c=this.parseTrades(o.data.trades,a,r,i),e.abrupt("return",c);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},c=this.market(t),u={market:c.id,amount_int:parseInt(1e8*s),fee_currency:c.quote,type:"buy"===i?"bid":"ask"},"limit"===r&&(u.price_int=parseInt(1e5*a)),e.next=7,this.privatePostMarketMoneyOrderAdd(this.extend(u,o));case 7:return d=e.sent,e.abrupt("return",{info:d,id:d.data.order_id.toString()});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostMarketMoneyOrderCancel({order_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),o=this.urls.api+"/"+this.version+"/"+a,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();var u=this.nonce();s=this.urlencode(this.extend({nonce:u},c));var d=this.base64ToBinary(this.secret),h=a+"\0"+s,l=this.hmac(this.encode(h),d,"sha512","base64");i={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(l)}}return{url:o,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(83),p=r(10),f=p.ExchangeError,v=p.AuthenticationError,m=p.InvalidOrder,y=p.InsufficientFunds;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"bleutrade",name:"Bleutrade",countries:["BR"],rateLimit:1e3,version:"v2",certified:!1,has:{CORS:!0,fetchTickers:!0,fetchOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0},hostname:"bleutrade.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/30303000-b602dbe6-976d-11e7-956d-36c5049c01e7.jpg",api:{public:"https://{hostname}/api",account:"https://{hostname}/api",market:"https://{hostname}/api"},www:"https://bleutrade.com",doc:"https://bleutrade.com/help/API",fees:"https://bleutrade.com/help/fees_and_deadlines"},api:{account:{get:["balance","balances","depositaddress","deposithistory","order","orders","orderhistory","withdrawhistory","withdraw"]}},fees:{funding:{withdraw:{ADC:.1,BTA:.1,BITB:.1,BTC:.001,BCC:.001,BTCD:.001,BTG:.001,BLK:.1,CDN:.1,CLAM:.01,DASH:.001,DCR:.05,DGC:.1,DP:.1,DPC:.1,DOGE:10,EFL:.1,ETH:.01,EXP:.1,FJC:.1,BSTY:.001,GB:.1,NLG:.1,HTML:1,LTC:.001,MONA:.01,MOON:1,NMC:.015,NEOS:.1,NVC:.05,OK:.1,PPC:.1,POT:.1,XPM:.001,QTUM:.1,RDD:.1,SLR:.1,START:.1,SLG:.1,TROLL:.1,UNO:.01,VRC:.1,VTC:.1,XVP:.1,WDC:.001,ZET:.1}}},commonCurrencies:{EPC:"Epacoin"},exceptions:{"Insufficient funds!":y,"Invalid Order ID":m,"Invalid apikey or apisecret":v},options:{parseOrderStatus:!0,disableNonce:!1,symbolSeparator:"_"}})}},{key:"parseOrderStatus",value:function(e){var t={OK:"closed",OPEN:"open",CANCELED:"canceled"};return e in t?t[e]:e}},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:if(a=void 0,void 0===t){e.next=13;break}return e.next=10,this.loadMarkets();case 10:a=this.market(t),e.next=14;break;case 13:a=void 0;case 14:return e.next=16,this.accountGetOrders(this.extend({market:"ALL",orderstatus:"ALL"},s));case 16:return o=e.sent,e.abrupt("return",this.parseOrders(o.result,a,r,n));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getOrderIdField",value:function(){return"orderid"}},{key:"parseSymbol",value:function(e){var t=e.split(this.options.symbolSeparator),r=n(t,2),i=r[0],s=r[1];return(i=this.commonCurrencyCode(i))+"/"+(s=this.commonCurrencyCode(s))}},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={market:this.marketId(t),type:"ALL"},void 0!==r&&(s.depth=r),e.next=8,this.publicGetOrderbook(this.extend(s,n));case 8:if(a=e.sent,o=this.safeValue(a,"result")){e.next=12;break}throw new f(this.id+" publicGetOrderbook() returneded no result "+this.json(a));case 12:return e.abrupt("return",this.parseOrderBook(o,void 0,"buy","sell","Rate","Quantity"));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>1&&void 0!==d[1]?d[1]:void 0,r=d.length>2&&void 0!==d[2]?d[2]:void 0,n=d.length>3&&void 0!==d[3]?d[3]:void 0,d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.accountGetOrderhistory({orderid:t});case 8:for(s=e.sent,a=this.parseTrades(s.result,void 0,r,n),o=[],c=0;c<a.length;c++)u=this.extend(a[c],{order:t}),o.push(u);return e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactionsByType",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o="deposit"===t?"accountGetDeposithistory":"accountGetWithdrawhistory",e.next=9,this[o](a);case 9:return c=e.sent,u=this.parseTransactions(c.result),e.abrupt("return",this.filterByCurrencySinceLimit(u,r,n,s));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsByType("deposit",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsByType("withdrawal",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TimeStamp+"+00:00"),n=void 0;"BUY"===e.OrderType?n="buy":"SELL"===e.OrderType&&(n="sell");var i=this.safeString(e,"TradeID"),s=void 0;void 0!==t&&(s=t.symbol);var a=void 0,o=this.safeFloat(e,"Price"),c=this.safeFloat(e,"Quantity");return void 0!==c&&void 0!==o&&(a=o*c),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,type:"limit",side:n,price:o,amount:c,cost:a,fee:void 0}}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"Id"),n=this.safeFloat(e,"Amount"),i="deposit";n<0&&(n=Math.abs(n),i="withdrawal");var s=this.safeString(e,"Coin"),a=void 0;a=void 0!==(t=this.safeValue(this.currencies_by_id,s))?t.code:this.commonCurrencyCode(s);var o=this.safeString(e,"Label"),c=this.parse8601(this.safeString(e,"TimeStamp")),u=this.safeString(e,"TransactionId"),d=void 0,h=void 0,l=o.split(";");3===l.length?(n=l[0],d=l[1],h=l[2]):d=o;var p=void 0;void 0!==h&&(p={currency:a,cost:h});var f="ok";return"CANCELED"===u&&(u=void 0,f="canceled"),{info:e,timestamp:c,datetime:this.iso8601(c),id:r,currency:a,amount:n,address:d,tag:void 0,status:f,type:i,updated:void 0,txid:u,fee:p}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.InvalidOrder,m=p.AuthenticationError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"braziliex",name:"Braziliex",countries:["BR"],rateLimit:1e3,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php",referral:"https://braziliex.com/?ref=5FE61AB6F6D67DA885BC98BA27223465"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order"]}},commonCurrencies:{EPC:"Epacoin",ABC:"Anti Bureaucracy Coin"},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8}})}},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n=Object.keys(r),s={},a=0;a<n.length;a++)o=n[a],c=r[o],u=this.safeInteger(c,"decimal"),d=o.toUpperCase(),h=this.commonCurrencyCode(d),l=1===this.safeInteger(c,"active"),0!==this.safeInteger(c,"under_maintenance")&&(l=!1),p=1===this.safeInteger(c,"is_withdrawal_active"),f=1===this.safeInteger(c,"is_deposit_active"),p&&f||(l=!1),s[h]={id:o,code:h,name:c.name,active:l,precision:u,funding:{withdraw:{active:p,fee:this.safeFloat(c,"txWithdrawalFee")},deposit:{active:f,fee:this.safeFloat(c,"txDepositFee")}},limits:{amount:{min:this.safeFloat(c,"minAmountTrade"),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(c,"MinWithdrawal"),max:Math.pow(10,u)},deposit:{min:this.safeFloat(c,"minDeposit"),max:void 0}},info:c};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.publicGetTicker();case 3:for(t=e.sent,r=Object.keys(t),s=[],a=0;a<r.length;a++)o=r[a],c=t[o],u=o.split("_"),d=n(u,2),h=d[0],l=d[1],p=h.toUpperCase(),f=l.toUpperCase(),p=this.commonCurrencyCode(p),f=this.commonCurrencyCode(f),v=p+"/"+f,m=1===this.safeInteger(c,"active"),y={amount:8,price:8},s.push({id:o,symbol:v.toUpperCase(),base:p,quote:f,baseId:h,quoteId:l,active:m,precision:y,limits:{amount:{min:Math.pow(10,-y.amount),max:Math.pow(10,y.amount)},price:{min:Math.pow(10,-y.price),max:Math.pow(10,y.price)},cost:{min:void 0,max:void 0}},info:c});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=e.date;e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highestBid24"),low:this.safeFloat(e,"lowestAsk24"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume24"),quoteVolume:this.safeFloat(e,"quoteVolume24"),info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerMarket(this.extend({market:n.id},r));case 6:return s=e.sent,s={date:this.milliseconds(),ticker:s},e.abrupt("return",this.parseTicker(s,n));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n={},s=this.milliseconds(),a=Object.keys(r),o=0;o<a.length;o++)c=a[o],u=this.markets_by_id[c],d=u.symbol,h={date:s,ticker:r[c]},n[d]=this.parseTicker(h,u);return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbookMarket(this.extend({market:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;r="date_exec"in e?this.parse8601(e.date_exec):this.parse8601(e.date);var n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=t.symbol,a=this.safeFloat(e,"total"),o=this.safeString(e,"order_number");return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:this.safeString(e,"_id"),order:o,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradehistoryMarket(this.extend({market:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostCompleteBalance(t);case 5:for(r=e.sent,n={info:r},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=this.commonCurrencyCode(o),(d={free:parseFloat(c.available),used:0,total:parseFloat(c.total)}).used=d.total-d.free,n[u]=d;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=this.safeString(e,"market");n&&n in this.markets_by_id&&(t=this.markets_by_id[n])}t&&(r=t.symbol);var i=this.safeValue(e,"timestamp");i||(i=this.parse8601(e.date));var s=this.safeFloat(e,"price"),a=this.safeFloat(e,"total",0),o=this.safeFloat(e,"amount"),c=o*this.safeFloat(e,"progress"),u=parseFloat(this.amountToPrecision(r,o-c)),d=e;return"info"in d&&(d=e.info),{id:e.order_number,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:e.type,price:s,cost:a,amount:o,filled:c,remaining:u,trades:void 0,fee:this.safeValue(e,"fee"),info:d}}},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p,f,m=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u="privatePost"+this.capitalize(n),e.next=8,this[u](this.extend({market:c.id,price:a,amount:s},o));case 8:if(d=e.sent,1===this.safeInteger(d,"success")){e.next=12;break}throw new v(this.id+" "+this.json(d));case 12:return h=(h=d.message.split(" / ")).slice(1),l=h[5].split(" "),p=this.parseOrder({timestamp:this.milliseconds(),order_number:d.order_number,type:h[0].toLowerCase(),market:h[0].toLowerCase(),amount:h[2].split(" ")[1],price:h[3].split(" ")[1],total:h[4].split(" ")[1],fee:{cost:parseFloat(l[1]),currency:l[2]},progress:"0.0",info:d},c),f=p.id,this.orders[f]=p,e.abrupt("return",p);case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostCancelOrder(this.extend({order_number:t,market:s.id},n));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),e.next=9,this.privatePostOpenOrders(this.extend({market:a.id},s));case 9:return o=e.sent,e.abrupt("return",this.parseOrders(o.order_open,a,r,n));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),e.next=9,this.privatePostTradeHistory(this.extend({market:a.id},s));case 9:return o=e.sent,e.abrupt("return",this.parseTrades(o.trade_history,a,r,n));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostDepositAddress(this.extend({currency:n.id},r));case 6:return s=e.sent,a=this.safeString(s,"deposit_address"),this.checkAddress(a),o=this.safeString(s,"payment_id"),e.abrupt("return",{currency:t,address:a,tag:o,info:s});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+t,o=this.omit(n,this.extractParams(e));if("public"===t)a+="/"+this.implodeParams(e,n),Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),o=this.extend({command:e,nonce:this.nonce()},o),s=this.urlencode(o);var c=this.hmac(this.encode(s),this.encode(this.secret),"sha512");i={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.decode(c)}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"public",n=d.length>2&&void 0!==d[2]?d[2]:"GET",s=d.length>3&&void 0!==d[3]?d[3]:{},a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:void 0,e.next=7,this.fetch2(t,r,n,s,a,o);case 7:if(!("success"in(c=e.sent))){e.next=15;break}if(0!==this.safeInteger(c,"success")){e.next=15;break}if("Invalid APIKey"!==(u=this.safeString(c,"message"))){e.next=14;break}throw new m(u);case 14:throw new f(u);case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.DDoSProtection,m=l.InvalidOrder;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btcalpha",name:"BTC-Alpha",countries:["US"],version:"v1",has:{fetchTicker:!1,fetchOHLCV:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42625213-dabaa5da-85cf-11e8-8f99-aa8f8f7699f0.jpg",api:"https://btc-alpha.com/api",www:"https://btc-alpha.com",doc:"https://btc-alpha.github.io/api-docs",fees:"https://btc-alpha.com/fees/",referral:"https://btc-alpha.com/?r=123788"},api:{public:{get:["currencies/","pairs/","orderbook/{pair_name}/","exchanges/","charts/{pair}/{type}/chart/"]},private:{get:["wallets/","orders/own/","order/{id}/","exchanges/own/","deposits/","withdraws/"],post:["order/","order-cancel/"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.00135,LTC:.0035,XMR:.018,ZEC:.002,ETH:.01,ETC:.01,SIB:1.5,CCRB:4,PZM:.05,ITI:.05,DCY:5,R:5,ATB:.05,BRIA:.05,KZC:.05,HWC:1,SPA:1,SMS:.001,REC:.01,SUP:1,BQ:100,GDS:.1,EVN:300,TRKC:.01,UNI:1,STN:1,BCH:void 0,QBIC:.5}}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetPairs();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.name,o=this.commonCurrencyCode(s.currency1),c=this.commonCurrencyCode(s.currency2),u=o+"/"+c,d={amount:8,price:parseInt(s.price_precision)},r.push({id:a,symbol:u,base:o,quote:c,active:!0,precision:d,limits:{amount:{min:parseFloat(s.minimum_order_size),max:parseFloat(s.maximum_order_size)},price:{min:Math.pow(10,-d.price),max:Math.pow(10,d.price)},cost:{min:void 0,max:void 0}},info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s={pair_name:this.marketId(t)},r&&(s.limit_sell=r,s.limit_buy=r),e.next=8,this.publicGetOrderbookPairName(this.extend(s,i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a,void 0,"buy","sell","price","amount"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t||(t=this.safeValue(this.marketsById,e.pair)),t&&(r=t.symbol);var n=parseInt(1e3*e.timestamp),i=parseFloat(e.price),s=parseFloat(e.amount),a=this.costToPrecision(r,i*s),o=this.safeString(e,"id"),c=void 0;return c="my_side"in e?this.safeString(e,"my_side"):this.safeString(e,"side"),o||(o=this.safeString(e,"tid")),{timestamp:n,datetime:this.iso8601(n),symbol:r,id:o,order:this.safeString(e,"o_id"),type:"limit",side:c,price:i,amount:s,cost:parseFloat(a),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.pair=a.id),i&&(o.limit=i),e.next=11,this.publicGetExchanges(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.time,e.open,e.high,e.low,e.close,e.volume]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"5m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={pair:o.id,type:this.timeframes[r]},s&&(c.limit=s),i&&(c.since=parseInt(i/1e3)),e.next=12,this.publicGetChartsPairTypeChart(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetWallets(t);case 5:for(r=e.sent,i={info:r},s=0;s<r.length;s++)a=r[s],o=this.commonCurrencyCode(a.currency),c=this.safeFloat(a,"reserve"),u=this.safeFloat(a,"balance"),d=void 0,void 0!==c&&void 0!==u&&(d=u-c),i[o]={free:d,used:c,total:u};return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({1:"open",2:"canceled",3:"closed"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t||(t=this.safeValue(this.marketsById,e.pair)),t&&(r=t.symbol);var n=this.safeInteger(e,"date");void 0!==n&&(n*=1e3);var i=parseFloat(e.price),s=this.safeFloat(e,"amount"),a=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"oid");o||(o=this.safeString(e,"id"));var c=this.safeValue(e,"trades");c&&(c=this.parseTrades(c,t));var u=this.safeString2(e,"my_side","type");return{id:o,datetime:this.iso8601(n),timestamp:n,status:a,symbol:r,type:"limit",side:u,price:i,cost:void 0,amount:s,filled:void 0,remaining:void 0,trades:c,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),e.next=7,this.privatePostOrder(this.extend({pair:c.id,type:i,amount:s,price:this.priceToPrecision(t,a)},o));case 7:if((u=e.sent).success){e.next=10;break}throw new m(this.id+" "+this.json(u));case 10:return e.abrupt("return",this.parseOrder(u,c));case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.privatePostOrderCancel(this.extend({order:t},r));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrderId(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,t&&(o=this.market(t),a.pair=o.id),i&&(a.limit=i),e.next=12,this.privateGetOrdersOwn(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c,o,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({status:"1"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({status:"3"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},t&&(o=this.market(t),a.pair=o.id),i&&(a.limit=i),e.next=11,this.privateGetExchangesOwn(this.extend(a,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c,void 0,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urlencode(this.keysort(this.omit(n,this.extractParams(e)))),o=this.urls.api+"/";if("charts/{pair}/{type}/chart/"!==e&&(o+="v1/"),o+=this.implodeParams(e,n),i={Accept:"application/json"},"public"===t)a.length&&(o+="?"+a);else{this.checkRequiredCredentials();var c=this.apiKey;"POST"===r?(i["Content-Type"]="application/x-www-form-urlencoded",c+=s=a):a.length&&(o+="?"+a),i["X-KEY"]=this.apiKey,i["X-SIGN"]=this.hmac(this.encode(c),this.encode(this.secret)),i["X-NONCE"]=this.nonce().toString()}return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(e<400)&&"string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.id+" "+this.safeValue(a,"detail",s);if(401===e||403===e)throw new f(o);if(429===e)throw new v(o);throw new p(o)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btcchina",name:"BTCChina",countries:["CN"],rateLimit:1500,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766368-465b3286-5ed6-11e7-9a11-0f6467e1d82b.jpg",api:{plus:"https://plus-api.btcchina.com/market",public:"https://data.btcchina.com/data",private:"https://api.btcchina.com/api_trade_v1.php"},www:"https://www.btcchina.com",doc:"https://www.btcchina.com/apidocs"},api:{plus:{get:["orderbook","ticker","trade"]},public:{get:["historydata","orderbook","ticker","trades"]},private:{post:["BuyIcebergOrder","BuyOrder","BuyOrder2","BuyStopOrder","CancelIcebergOrder","CancelOrder","CancelStopOrder","GetAccountInfo","getArchivedOrder","getArchivedOrders","GetDeposits","GetIcebergOrder","GetIcebergOrders","GetMarketDepth","GetMarketDepth2","GetOrder","GetOrders","GetStopOrder","GetStopOrders","GetTransactions","GetWithdrawal","GetWithdrawals","RequestWithdrawal","SellIcebergOrder","SellOrder","SellOrder2","SellStopOrder"]}},markets:{"BTC/CNY":{id:"btccny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",api:"public",plus:!1},"LTC/CNY":{id:"ltccny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",api:"public",plus:!1},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",api:"public",plus:!1},"BCH/CNY":{id:"bcccny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",api:"plus",plus:!0},"ETH/CNY":{id:"ethcny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",api:"plus",plus:!0}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetTicker({market:"all"});case 3:for(t=e.sent,r=[],i=Object.keys(t),s=0;s<i.length;s++)a=i[s],o=t[a],c=a.split("_"),u=c[1],d=u.slice(0,3),h=u.slice(3,6),d=d.toUpperCase(),h=h.toUpperCase(),l=d+"/"+h,r.push({id:u,symbol:l,base:d,quote:h,info:o});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccountInfo();case 5:for(t=e.sent,r=t.result,i={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=o.toLowerCase(),u=this.account(),c in r.balance&&(u.total=parseFloat(r.balance[c].amount)),c in r.frozen&&(u.used=parseFloat(r.frozen[c].amount)),u.free=u.total-u.used,i[o]=u;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createMarketRequest",value:function(e){var t={};return t[e.plus?"symbol":"market"]=e.id,t}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),s=i.api+"GetOrderbook",a=this.createMarketRequest(i),e.next=9,this[s](this.extend(a,r));case 9:return o=e.sent,c=1e3*o.date,e.abrupt("return",this.parseOrderBook(o,c));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e,t){var r=1e3*e.date,n=this.safeFloat(e,"last");return{timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),vwap:this.safeFloat(e,"vwap"),open:this.safeFloat(e,"open"),close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"parseTickerPlus",value:function(e,t){var r=e.Timestamp,n=void 0;return t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),ask:this.safeFloat(e,"AskPrice"),vwap:void 0,open:this.safeFloat(e,"Open"),last:this.safeFloat(e,"Last"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"Volume24H"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s=i.api+"GetTicker",a=this.createMarketRequest(i),e.next=8,this[s](this.extend(a,r));case 8:if(o=e.sent,c=o.ticker,!i.plus){e.next=12;break}return e.abrupt("return",this.parseTickerPlus(c,i));case 12:return e.abrupt("return",this.parseTicker(c,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"parseTradePlus",value:function(e,t){var r=this.parse8601(e.timestamp);return{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side.toLowerCase(),price:e.price,amount:e.size}}},{key:"parseTradesPlus",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++)r.push(this.parseTradePlus(e[n],t));return r}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o=a.api+"GetTrade",c=this.createMarketRequest(a),a.plus?(u=this.milliseconds(),c.start_time=u-864e5,c.end_time=u):o+="s",e.next=11,this[o](this.extend(c,s));case 11:if(d=e.sent,!a.plus){e.next=14;break}return e.abrupt("return",this.parseTradesPlus(d.trades,a));case 14:return e.abrupt("return",this.parseTrades(d,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u="privatePost"+this.capitalize(i)+"Order2",d={},h=c.id.toUpperCase(),d.params="market"===r?[void 0,s,h]:[a,s,h],e.next=11,this[u](this.extend(d,o));case 11:return l=e.sent,e.abrupt("return",{info:l,id:l.id});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i=r.market,e.next=7,this.privatePostCancelOrder(this.extend({params:[t,i]},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var o=[];"params"in n&&(o=n.params);var c=this.nonce(),u={method:e,id:c,params:o};o=o.join(","),s=this.json(u);var d="tonce="+c+"&accesskey="+this.apiKey+"&requestmethod="+r.toLowerCase()+"&id="+c+"&method="+e+"&params="+o,h=this.hmac(this.encode(d),this.encode(this.secret),"sha1"),l=this.encode(this.apiKey+":"+h);i={Authorization:"Basic "+this.stringToBase64(l),"Json-Rpc-Tonce":c}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(85);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"btcexchange",name:"BTCExchange",countries:["PH"],rateLimit:1500,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27993052-4c92911a-64aa-11e7-96d8-ec6ac3435757.jpg",api:"https://www.btcexchange.ph/api",www:"https://www.btcexchange.ph",doc:"https://github.com/BTCTrader/broker-api-docs"},markets:{"BTC/PHP":{id:"BTC/PHP",symbol:"BTC/PHP",base:"BTC",quote:"PHP"}}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.OrderNotFound,v=l.NotSupported,m=l.InvalidOrder,y=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btcmarkets",name:"BTC Markets",countries:["AU"],rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchClosedOrders:"emulated",fetchOpenOrders:!0,fetchMyTrades:!0,cancelOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29142911-0e1acfc2-7d5c-11e7-98c4-07d9532b29d7.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net",web:"https://btcmarkets.net/data"},www:"https://btcmarkets.net",doc:"https://github.com/BTCMarkets/API"},api:{public:{get:["market/{id}/tick","market/{id}/orderbook","market/{id}/trades","v2/market/{id}/tickByTime/{timeframe}","v2/market/{id}/trades","v2/market/active"]},private:{get:["account/balance","account/{id}/tradingfee","v2/order/open","v2/order/open/{id}","v2/order/history/{id}","v2/order/trade/history/{id}","v2/transaction/history/{currency}"],post:["fundtransfer/withdrawCrypto","fundtransfer/withdrawEFT","order/create","order/cancel","order/history","order/open","order/trade/history","order/createBatch","order/detail"]},web:{get:["market/BTCMarkets/{id}/tickByTime"]}},timeframes:{"1m":"minute","1h":"hour","1d":"day"},exceptions:{3:m,6:y}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.length>0&&void 0!==b[0]?b[0]:{},e.next=3,this.publicGetV2MarketActive();case 3:for(t=e.sent,r=[],i=t.markets,s=0;s<i.length;s++)a=i[s],o=a.instrument,c=a.currency,u=o+"/"+c,d=this.commonCurrencyCode(o),h=this.commonCurrencyCode(c),l=d+"/"+h,p="AUD"===h?.0085:.0022,f=2,v=4,.001,m=void 0,"AUD"===h&&("XRP"!==d&&"OMG"!==d||(f=4),v=-Math.log10(.001),m=Math.pow(10,-f)),y={amount:v,price:f},g={amount:{min:.001,max:void 0},price:{min:m,max:void 0},cost:{min:void 0,max:void 0}},r.push({info:a,id:u,symbol:l,base:d,quote:h,baseId:o,quoteId:c,maker:p,taker:p,limits:g,precision:y});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountBalance();case 5:for(t=e.sent,r={info:t},i=0;i<t.length;i++)s=t[i],a=s.currency,1e8,o=parseFloat(s.balance/1e8),c=parseFloat(s.pendingFunds/1e8),u={free:o-c,used:c,total:o},r[a]=u;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1])/1e8,parseFloat(e[2])/1e8,parseFloat(e[3])/1e8,parseFloat(e[4])/1e8,parseFloat(e[5])/1e8]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.load_markets();case 6:return o=this.market(t),c={id:o.id,timeWindow:this.timeframes[r]},void 0!==i&&(c.since=i),e.next=11,this.webGetMarketBTCMarketsIdTickByTime(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.ticks,o,r,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicGetMarketIdOrderbook(this.extend({id:i.id},r));case 7:return s=e.sent,a=1e3*s.timestamp,e.abrupt("return",this.parseOrderBook(s,a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.timestamp,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"lastPrice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bestBid"),bidVolume:void 0,ask:this.safeFloat(e,"bestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume24h"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetMarketIdTick(this.extend({id:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetMarketIdTrades(this.extend({id:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return o=this.market(t),1e8,c="buy"===i?"Bid":"Ask",(u=this.ordered({currency:o.quote})).currency=o.quote,u.instrument=o.base,u.price=parseInt(1e8*a),u.volume=parseInt(1e8*s),u.orderSide=c,u.ordertype=this.capitalize(r),u.clientRequestId=this.nonce().toString(),e.next=17,this.privatePostOrderCreate(u);case 17:return d=e.sent,e.abrupt("return",{info:d,id:d.id.toString()});case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrders",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:for(r=0;r<t.length;r++)t[r]=parseInt(t[r]);return e.next=7,this.privatePostOrderCancel({orderIds:t});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.cancelOrders([t]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[s],c=void 0,u=void 0;return"AUD"===a.quote?(c=a.quote,u=parseFloat(this.costToPrecision(e,n*i))):(c=a.base,u=parseFloat(this.amountToPrecision(e,n))),{type:s,currency:c,rate:o,cost:parseFloat(this.feeToPrecision(e,o*u))}}},{key:"parseMyTrade",value:function(e,t){var r=e.creationTime,n="Bid"===e.side?"buy":"sell",i="AUD"===t.quote?t.quote:t.base;return{info:e,id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:n,price:e.price/1e8,fee:{currency:i,cost:e.fee/1e8},amount:e.volume/1e8,order:this.safeString(e,"orderId")}}},{key:"parseMyTrades",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],[]),n=0;n<e.length;n++){var i=this.parseMyTrade(e[n],t);r.push(i)}return r}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="Bid"===e.orderSide?"buy":"sell",n="Limit"===e.ordertype?"limit":"market",i=e.creationTime;void 0===t&&(t=this.market(e.instrument+"/"+e.currency));var s="open";"Failed"===e.status||"Cancelled"===e.status||"Partially Cancelled"===e.status||"Error"===e.status?s="canceled":"Fully Matched"!==e.status&&"Partially Matched"!==e.status||(s="closed");var a=this.safeFloat(e,"price")/1e8,o=this.safeFloat(e,"volume")/1e8,c=this.safeFloat(e,"openVolume",0)/1e8,u=o-c,d=a*o,h=this.parseMyTrades(e.trades,t);return{info:e,id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:t.symbol,type:n,side:r,price:a,cost:d,amount:o,filled:u,remaining:c,status:s,trades:h,fee:void 0}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=[parseInt(t)],e.next=7,this.privatePostOrderDetail(this.extend({orderIds:i},r));case 7:if(s=e.sent,!(s.orders.length<1)){e.next=11;break}throw new f(this.id+" No matching order found: "+t);case 11:return a=s.orders[0],e.abrupt("return",this.parseOrder(a));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"prepareHistoryRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.ordered({currency:e.quote,instrument:e.base});return n.limit=void 0!==r?r:100,n.since=void 0!==t?t:0,n}},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new v(this.id+": fetchOrders requires a `symbol` parameter.");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o=this.prepareHistoryRequest(a,r,i),e.next=12,this.privatePostOrderHistory(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.orders,a));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new v(this.id+": fetchOpenOrders requires a `symbol` parameter.");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o=this.prepareHistoryRequest(a,r,i),e.next=12,this.privatePostOrderOpen(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.orders,a));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,e.abrupt("return",this.filterBy(a,"status","closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new v(this.id+": fetchMyTrades requires a `symbol` parameter.");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o=this.prepareHistoryRequest(a,r,i),e.next=12,this.privatePostOrderTradeHistory(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseMyTrades(c.trades,a));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.urls.api[t]+a;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=a+"\n"+c+"\n";i={"Content-Type":"application/json",apikey:this.apiKey,timestamp:c},"POST"===r&&(u+=s=this.json(n));var d=this.base64ToBinary(this.secret),h=this.hmac(this.encode(u),d,"sha512","base64");i.signature=this.decode(h)}else Object.keys(n).length&&(o+="?"+this.urlencode(n));return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(s.length<2)&&"{"===s[0]&&"success"in a&&!a.success){var o=this.safeString(a,"errorCode"),c=this.id+" "+this.json(a);if(o in this.exceptions)throw new(0,this.exceptions[o])(c);throw new p(c)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(64),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){var e=this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btctradeim",name:"BtcTrade.im",countries:["HK"],urls:{logo:"https://user-images.githubusercontent.com/1294454/36770531-c2142444-1c5b-11e8-91e2-a4d90dc85fe8.jpg",api:{web:"https://api.btctrade.im/coin",rest:"https://api.btctrade.im/api/v1"},www:"https://www.btctrade.im",doc:"https://www.btctrade.im/help.api.html",fees:"https://www.btctrade.im/spend.price.html"},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001}}}});return e.options.quoteIds=["btc","eth","usc"],e}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"public",i=h.length>2&&void 0!==h[2]?h[2]:"GET",s=h.length>3&&void 0!==h[3]?h[3]:{},a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"web"!==r){e.next=10;break}return e.abrupt("return",c);case 10:if(!(u=this.safeValue(c,"data"))){e.next=17;break}if("0"===this.safeString(c,"code")){e.next=16;break}throw d=this.safeString(c,"msg","Error"),new l(d);case 16:return e.abrupt("return",u);case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"btctradeua",name:"BTC Trade UA",countries:["UA"],rateLimit:3e3,has:{CORS:!0,createMarketOrder:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}},{key:"signIn",value:function(){return this.privatePostAuth()}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalance();case 3:if(t=e.sent,r={info:t},"accounts"in t)for(i=t.accounts,s=0;s<i.length;s++)a=i[s],o=a.currency,c=parseFloat(a.balance),r[o]={free:c,used:0,total:c};return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},i=this.market(t),e.next=5,this.publicGetTradesBuySymbol(this.extend({symbol:i.id},r));case 5:return s=e.sent,e.next=8,this.publicGetTradesSellSymbol(this.extend({symbol:i.id},r));case 8:return a=e.sent,o={bids:[],asks:[]},s&&"list"in s&&(o.bids=s.list),a&&"list"in a&&(o.asks=a.list),e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","price","currency_trade"));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=3,this.publicGetJapanStatHighSymbol(this.extend({symbol:this.marketId(t)},r));case 3:if(i=e.sent,s=i.trades,a=this.milliseconds(),o={symbol:t,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s},(c=s.length)>0){for(u=Math.max(c-48,0),d=u;d<s.length;d++)h=s[d],void 0===o.open&&(o.open=h[1]),(void 0===o.high||o.high<h[2])&&(o.high=h[2]),(void 0===o.low||o.low>h[3])&&(o.low=h[3]),void 0===o.baseVolume?o.baseVolume=-h[5]:o.baseVolume-=h[5];l=c-1,o.last=s[l][4],o.close=o.last,o.baseVolume=-1*o.baseVolume}return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"convertCyrillicMonthNameToString",value:function(e){var t={"\u044f\u043d\u0432\u0430\u0440\u044f":"01","\u0444\u0435\u0432\u0440\u0430\u043b\u044f":"02","\u043c\u0430\u0440\u0442\u0430":"03","\u0430\u043f\u0440\u0435\u043b\u044f":"04","\u043c\u0430\u044f":"05","\u0438\u044e\u043d\u044f":"06","\u0438\u044e\u043b\u044f":"07","\u0430\u0432\u0433\u0443\u0441\u0442\u0430":"08","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f":"09","\u043e\u043a\u0442\u044f\u0431\u0440\u044f":"10","\u043d\u043e\u044f\u0431\u0440\u044f":"11","\u0434\u0435\u043a\u0430\u0431\u0440\u044f":"12"},r=void 0;return e in t&&(r=t[e]),r}},{key:"parseCyrillicDatetime",value:function(e){var t=e.split(" "),r=t[0],n=this.convertCyrillicMonthNameToString(t[1]);if(!n)throw new p(this.id+" parseTrade() undefined month name: "+e);var i=t[2],s=t[4];7===s.length&&(s="0"+s),1===r.length&&(r="0"+r);var a=[i,n,r].join("-")+"T"+s,o=this.parse8601(a),c=[n,r].join("");return(c=parseInt(c))<325||c>1028?o-72e5:o-108e5}},{key:"parseTrade",value:function(e,t){var r=this.parseCyrillicDatetime(e.pub_date);return{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:"limit",side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amnt_trade")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},a=this.market(t),e.next=6,this.publicGetDealsSymbol(this.extend({symbol:a.id},s));case 6:for(o=e.sent,c=[],u=0;u<o.length;u++)o[u].id%2&&c.push(o[u]);return e.abrupt("return",this.parseTrades(c,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},"market"!==r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return c=this.market(t),u="privatePost"+this.capitalize(i)+"Id",d={count:s,currency1:c.quote,currency:c.base,price:a},e.abrupt("return",this[u](this.extend(d,o)));case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostRemoveOrderId({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e,t){var r=this.milliseconds;return{id:e.id,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amnt_trade,filled:0,remaining:e.amnt_trade,trades:void 0,info:e}}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchOpenOrders requires a symbol argument");case 6:return a=this.market(t),e.next=9,this.privatePostMyOrdersSymbol(this.extend({symbol:a.id},s));case 9:return o=e.sent,c=o.your_open_orders,e.abrupt("return",this.parseOrders(c,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+=this.implodeParams(e,o));else{this.checkRequiredCredentials();var c=this.nonce(),u=(s=this.urlencode(this.extend({out_order_id:c,nonce:c},o)))+this.secret;i={"public-key":this.apiKey,"api-sign":this.hash(this.encode(u),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.AddressPending,f=l.AuthenticationError,v=l.ExchangeError,m=l.NotSupported,y=l.PermissionDenied;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"buda",name:"Buda",countries:["AR","CL","CO","PE"],rateLimit:1e3,version:"v2",has:{CORS:!1,createDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47380619-8a029200-d706-11e8-91e0-8a391fe48de3.jpg",api:"https://www.buda.com/api",www:"https://www.buda.com",doc:"https://api.buda.com",fees:"https://www.buda.com/comisiones"},api:{public:{get:["pairs","markets","currencies","markets/{market}","markets/{market}/ticker","markets/{market}/volume","markets/{market}/order_book","markets/{market}/trades","currencies/{currency}/fees/deposit","currencies/{currency}/fees/withdrawal","tv/history"],post:["markets/{market}/quotations"]},private:{get:["balances","balances/{currency}","currencies/{currency}/balances","orders","orders/{id}","markets/{market}/orders","deposits","currencies/{currency}/deposits","withdrawals","currencies/{currency}/withdrawals","currencies/{currency}/receive_addresses","currencies/{currency}/receive_addresses/{id}"],post:["markets/{market}/orders","currencies/{currency}/deposits","currencies/{currency}/withdrawals","currencies/{currency}/simulated_withdrawals","currencies/{currency}/receive_addresses"],put:["orders/{id}"]}},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","2h":"120","1d":"D","1w":"W"},fees:{trading:{tierBased:!0,percentage:!0,taker:.008,maker:.004,tiers:{taker:[[0,.008],[2e3,.007],[2e4,.006],[1e5,.005],[5e5,.004],[25e5,.003],[125e5,.002]],maker:[[0,.004],[2e3,.0035],[2e4,.003],[1e5,.0025],[5e5,.002],[25e5,.0015],[125e5,.001]]}}},exceptions:{not_authorized:f,forbidden:y,invalid_record:v,not_found:v,parameter_missing:v,bad_parameter:v}})}},{key:"fetchCurrencyInfo",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0){e.next=6;break}return e.next=4,this.publicGetCurrencies();case 4:i=e.sent,r=i.currencies;case 6:s=0;case 7:if(!(s<r.length)){e.next=14;break}if((a=r[s]).id!==t){e.next=11;break}return e.abrupt("return",a);case 11:s++,e.next=7;break;case 14:return e.abrupt("return",void 0);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.length>0&&void 0!==b[0]?b[0]:{},e.next=3,this.publicGetMarkets();case 3:return t=e.sent,r=t.markets,e.next=7,this.publicGetCurrencies();case 7:i=e.sent,s=i.currencies,a=[],o=0;case 11:if(!(o<r.length)){e.next=32;break}return c=r[o],u=c.id,d=c.base_currency,h=c.quote_currency,l=this.commonCurrencyCode(d),p=this.commonCurrencyCode(h),e.next=20,this.fetchCurrencyInfo(d,s);case 20:return f=e.sent,e.next=23,this.fetchCurrencyInfo(h,s);case 23:v=e.sent,m=l+"/"+p,y={amount:f.input_decimals,price:v.input_decimals},(g={amount:{min:parseFloat(c.minimum_order_amount[0]),max:void 0},price:{min:Math.pow(10,-y.price),max:void 0}}).cost={min:g.amount.min*g.price.min,max:void 0},a.push({id:u,symbol:m,base:l,quote:p,baseId:d,quoteId:h,active:!0,precision:y,limits:g,info:c});case 29:o++,e.next=11;break;case 32:return e.abrupt("return",a);case 33:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetCurrencies();case 3:t=e.sent,r=t.currencies,i={},s=0;case 7:if(!(s<r.length)){e.next=19;break}if((a=r[s]).managed){e.next=11;break}return e.abrupt("continue",16);case 11:o=a.id,c=this.commonCurrencyCode(o),u=a.input_decimals,d=Math.pow(10,-u),i[c]={id:o,code:c,info:a,name:void 0,active:!0,fee:void 0,precision:u,limits:{amount:{min:d,max:void 0},price:{min:d,max:void 0},cost:{min:void 0,max:void 0},deposit:{min:parseFloat(a.deposit_minimum[0]),max:void 0},withdraw:{min:parseFloat(a.withdrawal_minimum[0])}}};case 16:s++,e.next=7;break;case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchFundingFees",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:r={},i={},s={},void 0===t&&(t=Object.keys(this.currencies)),a=0;case 9:if(!(a<t.length)){e.next=25;break}return o=t[a],c=this.currency(o),u={currency:c.id},e.next=15,this.publicGetCurrenciesCurrencyFeesWithdrawal(u);case 15:return d=e.sent,e.next=18,this.publicGetCurrenciesCurrencyFeesDeposit(u);case 18:h=e.sent,r[o]=this.parseFundingFee(d.fee),i[o]=this.parseFundingFee(h.fee),s[o]={withdraw:d,deposit:h};case 22:a++,e.next=9;break;case 25:return e.abrupt("return",{withdraw:r,deposit:i,info:s});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseFundingFee",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return void 0===t&&(t=e.name),"withdrawal"===t&&(t="withdraw"),{type:t,currency:e.base[1],rate:e.percent,cost:parseFloat(e.base[0])}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetMarketsMarketTicker(this.extend({market:i.id},r));case 6:return s=e.sent,a=s.ticker,e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var i=parseFloat(e.last_price[0]),s=parseFloat(e.price_variation_24h),a=parseFloat(this.priceToPrecision(n,i/(s+1))),o=i-a,c=this.sum(i,a)/2;return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.max_bid[0]),bidVolume:void 0,ask:parseFloat(e.min_ask[0]),askVolume:void 0,vwap:void 0,open:a,close:i,last:i,previousClose:a,change:o,percentage:100*s,average:c,baseVolume:parseFloat(e.volume[0]),quoteVolume:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={market:a.id},void 0!==i&&(o.limit=i),e.next=10,this.publicGetMarketsMarketTrades(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades.entries,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,c=void 0;return t&&(o=t.symbol),Array.isArray(e)&&(r=parseInt(e[0]),c=(i=parseFloat(e[1]))*(s=parseFloat(e[2])),n=e[3],a=e[4].toString()),{id:a,order:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,side:n,price:i,amount:s,cost:c,fee:void 0}}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicGetMarketsMarketOrderBook(this.extend({market:i.id},r));case 7:return s=e.sent,a=s.order_book,e.abrupt("return",this.parseOrderBook(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),void 0===i&&(i=this.milliseconds()-864e5),c={symbol:o.id,resolution:this.timeframes[r],from:i/1e3,to:this.seconds()},e.next=11,this.publicGetTvHistory(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseTradingViewOHLCV(u,o,r,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalances();case 5:for(t=e.sent,r={info:t},i=t.balances,s=0;s<i.length;s++)a=i[s],o=a.id,c=this.commonCurrencyCode(o),u=parseFloat(a.amount[0]),d=parseFloat(a.available_amount[0]),h={free:d,used:u-d,total:u},r[c]=h;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:parseInt(t)},r));case 6:return i=e.sent,s=i.order,e.abrupt("return",this.parseOrder(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,void 0!==t&&(a=this.market(t)),e.next=10,this.privateGetMarketsMarketOrders(this.extend({market:a.id,per:i},s));case 10:return o=e.sent,c=o.orders,e.abrupt("return",this.parseOrders(c,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({state:"pending"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({state:"traded"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return i="buy"===i?"Bid":"Ask",c={market:this.marketId(t),price_type:r,type:i,amount:this.amountToPrecision(t,s)},"limit"===r&&(c.limit=this.priceToPrecision(t,a)),e.next=9,this.privatePostMarketsMarketOrders(this.extend(c,o));case 9:return u=e.sent,d=u.order,e.abrupt("return",this.parseOrder(d));case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePutOrdersId(this.extend({id:parseInt(t),state:"canceling"},r));case 6:return i=e.sent,s=i.order,e.abrupt("return",this.parseOrder(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={traded:"closed",received:"open",canceling:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.id,n=this.parse8601(this.safeString(e,"created_at")),i=void 0;if(void 0===t){var s=e.market_id;s in this.markets_by_id&&(t=this.markets_by_id[s])}void 0!==t&&(i=t.symbol);var a=e.price_type,o=e.type.toLowerCase(),c=this.parseOrderStatus(this.safeString(e,"state")),u=parseFloat(e.original_amount[0]),d=parseFloat(e.amount[0]),h=parseFloat(e.traded_amount[0]),l=parseFloat(e.total_exchanged[0]),p=e.limit;void 0!==p&&(p=parseFloat(p[0])),l>0&&h>0&&(p=this.priceToPrecision(i,l/h));var f={cost:parseFloat(e.paid_fee[0]),currency:e.paid_fee[1]};return{id:r,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:c,symbol:i,type:a,side:o,price:p,cost:l,amount:u,filled:h,remaining:d,trades:void 0,fee:f,info:e}}},{key:"isFiat",value:function(e){return this.safeValue({ARS:!0,CLP:!0,COP:!0,PEN:!0},e,!1)}},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=3,this.loadMarkets();case 3:if(i=this.currency(t),!this.isFiat(t)){e.next=6;break}throw new m(this.id+" fetchDepositAddress() for fiat "+t+" is not supported");case 6:return e.next=8,this.privateGetCurrenciesCurrencyReceiveAddresses(this.extend({currency:i.id},r));case 8:for(s=e.sent,a=s.receive_addresses,o=[],c=1;c<a.length;c++)(u=a[c]).ready&&(d=u.address,this.checkAddress(d),o.push(d));if(!(o.length<1)){e.next=15;break}throw new p(this.name+": there are no addresses ready for receiving "+t+", retry again later)");case 15:return h=o[0],e.abrupt("return",{currency:t,address:h,tag:void 0,info:a});case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:if(i=this.currency(t),!this.isFiat(t)){e.next=6;break}throw new m(this.name+": fiat fetchDepositAddress() for "+t+" is not supported");case 6:return e.next=8,this.privatePostCurrenciesCurrencyReceiveAddresses(this.extend({currency:i.id},r));case 8:return s=e.sent,a=this.safeString(s.receive_address,"address"),e.abrupt("return",{currency:t,address:a,tag:void 0,info:s});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){var t={rejected:"failed",confirmed:"ok",anulled:"canceled",retained:"canceled",pending_confirmation:"pending"};return e in t?t[e]:e}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.parse8601(this.safeString(e,"created_at")),i=void 0,s=void 0;void 0===t&&(s=this.safeString(e,"currency"),t=this.safeValue(this.currencies_by_id,s)),i=void 0!==t?t.code:this.commonCurrencyCode(s);var a=parseFloat(e.amount[0]),o=parseFloat(e.fee[0]),c=e.fee[1],u=this.parseTransactionStatus(this.safeString(e,"state")),d="deposit_data"in e?"deposit":"withdrawal",h=this.safeValue(e,d+"_data",{}),l=this.safeValue(h,"target_address"),p=this.safeString(h,"tx_hash"),f=this.parse8601(this.safeString(h,"updated_at"));return{info:e,id:r,txid:p,timestamp:n,datetime:this.iso8601(n),address:l,type:d,amount:a,currency:i,status:u,updated:f,fee:{cost:o,rate:c}}}},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==t){e.next=8;break}throw new v(this.name+": fetchDeposits() requires a currency code argument");case 8:return a=this.currency(t),e.next=11,this.privateGetCurrenciesCurrencyDeposits(this.extend({currency:a.id,per:i},s));case 11:return o=e.sent,c=o.deposits,e.abrupt("return",this.parseTransactions(c,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==t){e.next=8;break}throw new v(this.name+": fetchDeposits() requires a currency code argument");case 8:return a=this.currency(t),e.next=11,this.privateGetCurrenciesCurrencyWithdrawals(this.extend({currency:a.id,per:i},s));case 11:return o=e.sent,c=o.withdrawals,e.abrupt("return",this.parseTransactions(c,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),e.next=8,this.privatePostCurrenciesCurrencyWithdrawals(this.extend({currency:a.id,amount:r,withdrawal_data:{target_address:i}},s));case 8:return o=e.sent,c=o.withdrawal,e.abrupt("return",this.parseTransaction(c));case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));Object.keys(o).length&&("GET"===r?a+="?"+this.urlencode(o):s=this.json(o));var c=this.urls.api+"/"+this.version+"/"+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d=[r,"/api/"+this.version+"/"+a];if(s){var h=this.stringToBase64(this.encode(s));d.push(this.decode(h))}d.push(u);var l=d.join(" "),p=this.hmac(this.encode(l),this.encode(this.secret),"sha384");i={"X-SBTC-APIKEY":this.apiKey,"X-SBTC-SIGNATURE":p,"X-SBTC-NONCE":u,"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(this.isJsonEncodedObject(s)&&e>=400){var o=this.safeString(a,"code"),c=this.safeString(a,"message",s),u=this.name+": "+c,d=this.exceptions;if(void 0!==o)throw o in d?new d[o](u):new v(u)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"bxinth",name:"BX.in.th",countries:["TH"],rateLimit:1500,has:{CORS:!1,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766412-567b1eb4-5ed7-11e7-94a8-ff6a3884f6c5.jpg",api:"https://bx.in.th/api",www:"https://bx.in.th",doc:"https://bx.in.th/info/api"},api:{public:{get:["","options","optionbook","orderbook","pairing","trade","tradehistory"]},private:{post:["balance","biller","billgroup","billpay","cancel","deposit","getorders","history","option-issue","option-bid","option-sell","option-myissue","option-mybid","option-myoptions","option-exercise","option-cancel","option-history","order","withdrawal","withdrawal-history"]}},fees:{trading:{taker:.0025,maker:.0025}},commonCurrencies:{DAS:"DASH",DOG:"DOGE"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetPairing();case 3:for(t=e.sent,r=Object.keys(t),i=[],s=0;s<r.length;s++)a=t[r[s]],o=a.pairing_id.toString(),c=a.secondary_currency,u=a.primary_currency,d=a.active,h=this.commonCurrencyCode(c),l=this.commonCurrencyCode(u),p=h+"/"+l,i.push({id:o,symbol:p,base:h,quote:l,baseId:c,quoteId:u,active:d,info:a});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r=t.balance,i={info:r},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=this.commonCurrencyCode(o),(u={free:parseFloat(r[o].available),used:0,total:parseFloat(r[o].total)}).used=u.total-u.free,i[c]=u;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(this.extend({pairing:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.orderbook.bids.highbid),bidVolume:void 0,ask:parseFloat(e.orderbook.asks.highbid),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:this.safeFloat(e,"change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_24hours"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGet(t);case 6:for(r=e.sent,i={},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=this.markets_by_id[o],d=u.symbol,i[d]=this.parseTicker(c,u);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGet(this.extend({pairing:i.id},r));case 6:return s=e.sent,a=i.id.toString(),o=s[a],e.abrupt("return",this.parseTicker(o,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.trade_date+"+07:00");return{id:e.trade_id,info:e,order:e.order_id,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.trade_type,price:this.safeFloat(e,"rate"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrade(this.extend({pairing:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.trades,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrder(this.extend({pairing:this.marketId(t),type:i,amount:s,rate:a},o));case 6:return c=e.sent,e.abrupt("return",{info:c,id:c.order_id.toString()});case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return void 0,e.next=7,this.privatePostCancel({order_id:t,pairing:void 0});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=this.safeString(t,"order_type"),s=void 0,void 0===r&&void 0!==(a=this.safeString(t,"pairing_id"))&&a in this.markets_by_id&&(r=this.markets_by_id[a]),void 0!==r&&(s=r.symbol),o=this.parse8601(t.date),c=this.safeFloat(t,"rate"),u=this.safeFloat(t,"amount"),e.abrupt("return",{info:t,id:t.order_id,timestamp:o,datetime:this.iso8601(o),symbol:s,type:"limit",side:i,price:c,amount:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.pairing=o.id),c=this.privatePostGetorders(this.extend(a,s)),u=this.parseOrders(c.orders,o,r,i),e.abrupt("return",this.filterBySymbol(u,t));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";if(e&&(a+=e+"/"),Object.keys(n).length&&(a+="?"+this.urlencode(n)),"private"===t){this.checkRequiredCredentials();var o=this.nonce(),c=this.apiKey+o.toString()+this.secret,u=this.hash(this.encode(c),"sha256");s=this.urlencode(this.extend({key:this.apiKey,nonce:o,signature:u},n)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"public"!==r){e.next=10;break}return e.abrupt("return",c);case 10:if(!("success"in c)){e.next=13;break}if(!c.success){e.next=13;break}return e.abrupt("return",c);case 13:throw new l(this.id+" "+this.json(c));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10).ExchangeError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"ccex",name:"C-CEX",countries:["DE","EU"],rateLimit:1500,has:{CORS:!1,fetchTickers:!0,fetchOrderBooks:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766433-16881f90-5ed8-11e7-92f8-3d92cc747a6c.jpg",api:{web:"https://c-cex.com/t",public:"https://c-cex.com/t/api_pub.html",private:"https://c-cex.com/t/api.html"},www:"https://c-cex.com",doc:"https://c-cex.com/?id=api"},api:{web:{get:["coinnames","{market}","pairs","prices","volume_{coin}"]},public:{get:["balancedistribution","markethistory","markets","marketsummaries","orderbook","fullorderbook"]},private:{get:["buylimit","cancel","getbalance","getbalances","getopenorders","getorder","getorderhistory","mytrades","selllimit"]}},fees:{trading:{taker:.002,maker:.002}},commonCurrencies:{BLC:"Cryptobullcoin",CRC:"CoreCoin",IOT:"IoTcoin",LUX:"Luxmi",VIT:"VitalCoin",XID:"InternationalDiamond"}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},t={},e.next=4,this.webGetPairs();case 4:for(r=e.sent,s=r.pairs,a=0;a<s.length;a++)o=s[a],c=o.split("-"),u=i(c,2),d=u[0],h=u[1],l=d.toUpperCase(),p=h.toUpperCase(),l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),t[f=l+"/"+p]={id:o,symbol:f,base:l,quote:p,baseId:d,quoteId:h,info:o};return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetbalances();case 5:for(t=e.sent,r=t.result,i={info:r},s=0;s<r.length;s++)a=r[s],o=a.Currency,c=this.commonCurrencyCode(o),u={free:a.Available,used:a.Pending,total:a.Balance},i[c]=u;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={market:this.marketId(t),type:"both"},void 0!==r&&(s.depth=r),e.next=8,this.publicGetOrderbook(this.extend(s,i));case 8:return a=e.sent,o=a.result,e.abrupt("return",this.parseOrderBook(o,void 0,"buy","sell","Rate","Quantity"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBooks",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_,C=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.length>0&&void 0!==C[0]?C[0]:void 0,C.length>1&&void 0!==C[1]?C[1]:{},e.next=4,this.loadMarkets();case 4:return t={},e.next=7,this.publicGetFullorderbook();case 7:for(r=e.sent,s=Object.keys(r.result),a=0;a<s.length;a++)for(o=s[a],c=r.result[o],u=this.groupBy(c,"Market"),d=Object.keys(u),h=0;h<d.length;h++)l=d[h],p=l,l in this.markets_by_id?(f=this.markets_by_id[p],p=f.symbol):(v=p.split("-"),m=i(v,2),y=m[0],g=m[1],(b=g+"-"+y)in this.markets_by_id&&(k=this.markets_by_id[b],p=k.symbol)),p in t||(t[p]={}),t[p][o]=u[l];for(w={},x=Object.keys(t),T=0;T<x.length;T++)_=x[T],w[_]=this.parseOrderBook(t[_],void 0,"buy","sell","Rate","Quantity");return e.abrupt("return",w);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"lastprice");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"buysupport"),info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:void 0,t=y.length>1&&void 0!==y[1]?y[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.webGetPrices(t);case 6:for(r=e.sent,s={},a=Object.keys(r),o=0;o<a.length;o++)c=a[o],u=r[c],d=void 0,h=void 0,c in this.markets_by_id?(d=this.markets_by_id[c],h=d.symbol):(l=c.toUpperCase(),p=l.split("-"),f=i(p,2),v=f[0],m=f[1],v=this.commonCurrencyCode(v),m=this.commonCurrencyCode(m),h=v+"/"+m),s[h]=this.parseTicker(u,d);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.webGetMarket(this.extend({market:i.id.toLowerCase()},r));case 6:return s=e.sent,a=s.ticker,e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.TimeStamp);return{id:e.Id.toString(),info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.OrderType.toLowerCase(),price:e.Price,amount:e.Quantity}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetMarkethistory(this.extend({market:a.id,type:"both",depth:100},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.result,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c="privateGet"+this.capitalize(i)+r,e.next=7,this[c](this.extend({market:this.marketId(t),quantity:s,rate:a},o));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.result.uuid});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetCancel({uuid:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];if("private"===t){this.checkRequiredCredentials();var o=this.nonce().toString(),c=this.keysort(this.extend({a:e,apikey:this.apiKey,nonce:o},n));a+="?"+this.urlencode(c),i={apisign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}else a+="public"===t?"?"+this.urlencode(this.extend({a:"get"+e},n)):"/"+this.implodeParams(e,n)+".json";return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"web"!==r){e.next=10;break}return e.abrupt("return",c);case 10:if(!("success"in c)){e.next=13;break}if(!c.success){e.next=13;break}return e.abrupt("return",c);case 13:throw new p(this.id+" "+this.json(c));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.NullResponse,y=p.InvalidOrder,g=p.NotSupported;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"],referral:"https://cex.io/r/0/up105393824/0/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},options:{fetchOHLCVWarning:!0,createMarketBuyOrderRequiresPrice:!0}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetCurrencyLimits();case 3:for(t=e.sent,r=[],s=0;s<t.data.pairs.length;s++)a=t.data.pairs[s],o=a.symbol1+"/"+a.symbol2,u=(c=o).split("/"),d=i(u,2),h=d[0],l=d[1],r.push({id:o,info:a,symbol:c,base:h,quote:l,precision:{price:this.precisionFromString(this.safeString(a,"minPrice")),amount:this.precisionFromString(this.safeString(a,"minLotSize"))},limits:{amount:{min:a.minLotSize,max:a.maxLotSize},price:{min:this.safeFloat(a,"minPrice"),max:this.safeFloat(a,"maxPrice")},cost:{min:a.minLotSizeS2,max:void 0}}});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance();case 5:for(t=e.sent,r={info:t},i=["username","timestamp"],s=this.omit(t,i),a=Object.keys(s),o=0;o<a.length;o++)(c=a[o])in s&&((u={free:this.safeFloat(s[c],"available",0),used:this.safeFloat(s[c],"orders",0),total:0}).total=this.sum(u.free,u.used),r[c]=u);return e.abrupt("return",this.parseBalance(r));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={pair:this.marketId(t)},void 0!==r&&(s.depth=r),e.next=8,this.publicGetOrderBookPair(this.extend(s,i));case 8:return a=e.sent,o=1e3*a.timestamp,e.abrupt("return",this.parseOrderBook(a,o));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:"1m",i=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:void 0,a=p.length>4&&void 0!==p[4]?p[4]:{},e.next=6,this.loadMarkets();case 6:if(o=this.market(t),void 0!==i){e.next=11;break}i=this.milliseconds()-864e5,e.next=13;break;case 11:if(!this.options.fetchOHLCVWarning){e.next=13;break}throw new f(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");case 13:return c=(c=(c=this.ymd(i)).split("-")).join(""),u={pair:o.id,yyyymmdd:c},e.prev=17,e.next=20,this.publicGetOhlcvHdYyyymmddPair(this.extend(u,a));case 20:return d=e.sent,h="data"+this.timeframes[r],l=JSON.parse(d[h]),e.abrupt("return",this.parseOHLCVs(l,o,r,i,s));case 26:if(e.prev=26,e.t0=e.catch(17),!(e.t0 instanceof m)){e.next=30;break}return e.abrupt("return",[]);case 30:case"end":return e.stop()}},e,this,[[17,26]])}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"timestamp"in e&&(r=1e3*parseInt(e.timestamp));var n=this.safeFloat(e,"volume"),i=this.safeFloat(e,"high"),s=this.safeFloat(e,"low"),a=this.safeFloat(e,"bid"),o=this.safeFloat(e,"ask"),c=this.safeFloat(e,"last"),u=void 0;return t&&(u=t.symbol),{symbol:u,timestamp:r,datetime:this.iso8601(r),high:i,low:s,bid:a,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return r=Object.keys(this.currencies),e.next=7,this.publicGetTickersCurrencies(this.extend({currencies:r.join("/")},t));case 7:for(i=e.sent,s=i.data,a={},o=0;o<s.length;o++)c=s[o],u=c.pair.replace(":","/"),d=this.markets[u],a[u]=this.parseTicker(c,d);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTickerPair(this.extend({pair:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date);return{info:e,id:e.tid,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradeHistoryPair(this.extend({pair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},"market"!==r){e.next=10;break}if("buy"!==i){e.next=10;break}if(!this.options.createMarketBuyOrderRequiresPrice){e.next=10;break}if(void 0!==a){e.next=9;break}throw new y(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 9:s*=a;case 10:return e.next=12,this.loadMarkets();case 12:return c={pair:this.marketId(t),type:i,amount:s},"limit"===r?c.price=a:c.order_type=r,e.next=16,this.privatePostPlaceOrderPair(this.extend(c,o));case 16:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 18:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.time;r="string"===typeof e.time&&e.time.indexOf("T")>=0?this.parse8601(r):parseInt(r);var n=void 0;if(void 0===t){var i=e.symbol1+"/"+e.symbol2;i in this.markets&&(t=this.market(i))}var s=e.status;"a"===s?s="open":"cd"===s?s="canceled":"c"===s?s="canceled":"d"===s&&(s="closed");var a=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"pending");c||(c=this.safeFloat(e,"remains"));var u=o-c,d=void 0,h=void 0;if(void 0!==t){n=t.symbol,void 0===(h=this.safeFloat(e,"ta:"+t.quote))&&(h=this.safeFloat(e,"tta:"+t.quote));var l="fa:"+t.base,p="tfa:"+t.base,f="fa:"+t.quote,v="tfa:"+t.quote,m=this.safeFloat(e,"tradingFeeMaker");if(m||(m=this.safeFloat(e,"tradingFeeTaker",m)),m&&(m/=100),l in e||p in e){var y=this.safeFloat(e,l);void 0===y&&(y=this.safeFloat(e,p)),d={currency:t.base,rate:m,cost:y}}else if(f in e||v in e){var g=this.safeFloat(e,f);void 0===g&&(g=this.safeFloat(e,v)),d={currency:t.quote,rate:m,cost:g}}}return h||(h=a*u),{id:e.id,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:s,symbol:n,type:void 0,side:e.type,price:a,cost:h,amount:o,filled:u,remaining:c,trades:void 0,fee:d,info:e}}},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o="privatePostOpenOrders",c=void 0,void 0!==t&&(c=this.market(t),a.pair=c.id,o+="Pair"),e.next=12,this[o](this.extend(a,s));case 12:for(u=e.sent,d=0;d<u.length;d++)u[d]=this.extend(u[d],{status:"open"});return e.abrupt("return",this.parseOrders(u,c,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:if(a="privatePostArchivedOrdersPair",void 0!==t){e.next=9;break}throw new v(this.id+" fetchClosedOrders requires a symbol argument");case 9:return o=this.market(t),c={pair:o.id},e.next=13,this[a](this.extend(c,s));case 13:return u=e.sent,e.abrupt("return",this.parseOrders(u,o,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostGetOrder(this.extend({id:t.toString()},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+this.uid+this.apiKey,d=this.hmac(this.encode(u),this.encode(this.secret));s=this.urlencode(this.extend({key:this.apiKey,signature:d.toUpperCase(),nonce:c},o)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent){e.next=12;break}throw new m(this.id+" returned "+this.json(c));case 12:if(!0!==c){e.next=16;break}return e.abrupt("return",c);case 16:if(!("e"in c)){e.next=23;break}if(!("ok"in c)){e.next=20;break}if("ok"!==c.ok){e.next=20;break}return e.abrupt("return",c);case 20:throw new f(this.id+" "+this.json(c));case 23:if(!("error"in c)){e.next=26;break}if(!c.error){e.next=26;break}throw new f(this.id+" "+this.json(c));case 26:return e.abrupt("return",c);case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},"XRP"!==t&&"XLM"!==t){e.next=3;break}throw new g(this.id+" fetchDepositAddress does not support XRP and XLM addresses yet (awaiting docs from CEX.io)");case 3:return e.next=5,this.loadMarkets();case 5:return i=this.currency(t),s={currency:i.id},e.next=9,this.privatePostGetAddress(this.extend(s,r));case 9:return a=e.sent,o=this.safeString(a,"data"),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:void 0,info:a});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(63),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"chbtc",name:"CHBTC",countries:["CN"],rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28555659-f0040dc2-7109-11e7-9d99-688a438bf9f4.jpg",api:{public:"http://api.chbtc.com/data",private:"https://trade.chbtc.com/api"},www:"https://trade.chbtc.com/api",doc:"https://www.chbtc.com/i/developer"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY"},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY"},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY"},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY"},"BTS/CNY":{id:"bts_cny",symbol:"BTS/CNY",base:"BTS",quote:"CNY"},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY"},"HSR/CNY":{id:"hsr_cny",symbol:"HSR/CNY",base:"HSR",quote:"CNY"},"QTUM/CNY":{id:"qtum_cny",symbol:"QTUM/CNY",base:"QTUM",quote:"CNY"}}})}},{key:"getMarketFieldName",value:function(){return"currency"}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"private"!==r){e.next=11;break}if(!("code"in c)){e.next=11;break}throw new l(this.id+" "+this.json(c));case 11:if(!("result"in c)){e.next=14;break}if(c.result){e.next=14;break}throw new l(this.id+" "+this.json(c));case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(39);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"chilebit",name:"ChileBit",countries:["CL"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991414-1298f0d8-647f-11e7-9c40-d56409266336.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://chilebit.net",doc:"https://blinktrade.com/docs"},options:{brokerId:"9"}})}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.InvalidAddress,m=p.InsufficientFunds,y=p.InvalidNonce,g=p.InvalidOrder,b=p.OrderNotFound,k=p.PermissionDenied;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"cobinhood",name:"COBINHOOD",countries:["TW"],rateLimit:100,version:"v1",has:{fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,fetchOrder:!0,fetchDepositAddress:!0,createDepositAddress:!0,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0,fetchMyTrades:!0,editOrder:!0},requiredCredentials:{apiKey:!0,secret:!1},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/35755576-dee02e5c-0878-11e8-989f-1595d80ba47f.jpg",api:"https://api.cobinhood.com",www:"https://cobinhood.com",doc:"https://cobinhood.github.io/api-public"},api:{system:{get:["info","time","messages","messages/{message_id}"]},admin:{get:["system/messages","system/messages/{message_id}"],post:["system/messages"],patch:["system/messages/{message_id}"],delete:["system/messages/{message_id}"]},public:{get:["market/fundingbook/precisions/{currency_id}","market/fundingbooks/{currency_id}","market/tickers","market/currencies","market/quote_currencies","market/trading_pairs","market/orderbook/precisions/{trading_pair_id}","market/orderbooks/{trading_pair_id}","market/stats","market/tickers","market/tickers/{trading_pair_id}","market/trades/{trading_pair_id}","market/trades_history/{trading_pair_id}","market/trading_pairs","chart/candles/{trading_pair_id}","system/time"]},private:{get:["funding/auto_offerings","funding/auto_offerings/{currency_id}","funding/funding_history","funding/fundings","funding/loans","funding/loans/{loan_id}","trading/orders/{order_id}","trading/orders/{order_id}/trades","trading/orders","trading/order_history","trading/positions","trading/positions/{trading_pair_id}","trading/positions/{trading_pair_id}/claimable_size","trading/trades","trading/trades/{trade_id}","trading/volume","wallet/balances","wallet/ledger","wallet/limits/withdrawal","wallet/generic_deposits","wallet/generic_deposits/{generic_deposit_id}","wallet/generic_withdrawals","wallet/generic_withdrawals/{generic_withdrawal_id}","wallet/deposit_addresses","wallet/deposit_addresses/iota","wallet/withdrawal_addresses","wallet/withdrawal_frozen","wallet/withdrawals/{withdrawal_id}","wallet/withdrawals","wallet/deposits/{deposit_id}","wallet/deposits"],patch:["trading/positions/{trading_pair_id}"],post:["funding/auto_offerings","funding/fundings","trading/check_order","trading/orders","wallet/deposit_addresses","wallet/transfer","wallet/withdrawal_addresses","wallet/withdrawals","wallet/withdrawals/fee"],put:["funding/fundings/{funding_id}","trading/orders/{order_id}"],delete:["funding/auto_offerings/{currency_id}","funding/fundings/{funding_id}","funding/loans/{loan_id}","trading/orders/{order_id}","trading/positions/{trading_pair_id}","wallet/generic_withdrawals/{generic_withdrawal_id}","wallet/withdrawal_addresses/{wallet_id}"]}},fees:{trading:{maker:0,taker:0}},precision:{amount:8,price:8},exceptions:{insufficient_balance:m,invalid_order_size:g,invalid_nonce:y,unauthorized_scope:k,invalid_address:v,parameter_error:b},commonCurrencies:{SMT:"SocialMedia.Market",MTN:"Motion Token"}})}},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetMarketCurrencies(t);case 3:for(r=e.sent,n=r.result.currencies,s={},a=0;a<n.length;a++)o=n[a],c=o.currency,u=this.commonCurrencyCode(c),d=this.safeFloat(o,"min_unit"),s[u]={id:c,code:u,name:o.name,active:!0,fiat:!1,precision:this.precisionFromString(o.min_unit),limits:{amount:{min:d,max:void 0},price:{min:d,max:void 0},deposit:{min:d,max:void 0},withdraw:{min:d,max:void 0}},funding:{withdraw:{fee:this.safeFloat(o,"withdrawal_fee")},deposit:{fee:this.safeFloat(o,"deposit_fee")}},info:o};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.publicGetMarketTradingPairs();case 3:for(t=e.sent,r=t.result.trading_pairs,s=[],a=0;a<r.length;a++)o=r[a],c=o.id,u=c.split("-"),d=n(u,2),h=d[0],l=d[1],p=this.commonCurrencyCode(h),f=this.commonCurrencyCode(l),v=p+"/"+f,m={amount:8,price:this.precisionFromString(o.quote_increment)},y=this.safeValue(o,"is_active",!0),s.push({id:c,symbol:v,base:p,quote:f,baseId:h,quoteId:l,active:y,precision:m,limits:{amount:{min:this.safeFloat(o,"base_min_size"),max:this.safeFloat(o,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:o});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var i=this.safeString(e,"trading_pair_id");if(i in this.markets_by_id)t=this.markets_by_id[i];else{var s=i.split("-"),a=n(s,2),o=a[0],c=a[1];r=this.commonCurrencyCode(o)+"/"+this.commonCurrencyCode(c)}}void 0!==t&&(r=t.symbol);var u=this.safeInteger(e,"timestamp"),d=this.safeFloat(e,"last_trade_price");return{symbol:r,timestamp:u,datetime:this.iso8601(u),high:this.safeFloat(e,"24h_high"),low:this.safeFloat(e,"24h_low"),bid:this.safeFloat(e,"highest_bid"),bidVolume:void 0,ask:this.safeFloat(e,"lowest_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:this.safeFloat(e,"percentChanged24hr"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"24h_volume"),quoteVolume:this.safeFloat(e,"quote_volume"),info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetMarketTickersTradingPairId(this.extend({trading_pair_id:n.id},r));case 6:return s=e.sent,a=s.result.ticker,e.abrupt("return",this.parseTicker(a,n));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:void 0,t=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketTickers(t);case 6:for(r=e.sent,n=r.result.tickers,s=[],a=0;a<n.length;a++)s.push(this.parseTicker(n[a]));return e.abrupt("return",this.indexBy(s,"symbol"));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s={trading_pair_id:this.marketId(t)},void 0!==r&&(s.limit=r),e.next=8,this.publicGetMarketOrderbooksTradingPairId(this.extend(s,n));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a.result.orderbook,void 0,"bids","asks",0,2));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=e.timestamp,i=this.safeFloat(e,"price"),s=this.safeFloat(e,"size"),a=i*s;return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:r,id:e.id,order:void 0,type:void 0,side:void 0,price:i,amount:s,cost:a,fee:void 0}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:50,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetMarketTradesTradingPairId(this.extend({trading_pair_id:a.id,limit:n},s));case 8:return o=e.sent,c=o.result.trades,e.abrupt("return",this.parseTrades(c,a,r,n));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.timestamp,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.volume)]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"1m",n=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c=this.milliseconds(),u={trading_pair_id:o.id,timeframe:this.timeframes[r],end_time:c},void 0!==n&&(u.start_time=n),e.next=12,this.publicGetChartCandlesTradingPairId(this.extend(u,a));case 12:return d=e.sent,h=d.result.candles,e.abrupt("return",this.parseOHLCVs(h,o,r,n,s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetWalletBalances(t);case 5:for(r=e.sent,n={info:r},s=r.result.balances,a=0;a<s.length;a++)o=s[a],(c=o.currency)in this.currencies_by_id&&(c=this.currencies_by_id[c].code),(u={used:parseFloat(o.on_order),total:parseFloat(o.total)}).free=parseFloat(u.total-u.used),n[c]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={filled:"closed",rejected:"closed",partially_filled:"open",pending_cancellation:"open",pending_modification:"open",open:"open",new:"open",queued:"open",cancelled:"canceled",triggered:"triggered"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=this.safeString2(e,"trading_pair","trading_pair_id");t=this.safeValue(this.markets_by_id,n)}void 0!==t&&(r=t.symbol);var i=this.safeInteger(e,"timestamp"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"eq_price"),o=this.safeFloat(e,"size"),c=this.safeFloat(e,"filled"),u=void 0,d=void 0;void 0!==c&&void 0!==a?d=a*c:void 0!==a&&(d=a*o),void 0!==o&&void 0!==c&&(u=o-c);var h=this.parseOrderStatus(this.safeString(e,"state")),l=this.safeString(e,"side");return"bid"===l?l="buy":"ask"===l&&(l="sell"),{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:h,symbol:r,type:this.safeString(e,"type"),side:l,price:s,cost:d,average:a,amount:o,filled:c,remaining:u,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),n="sell"===n?"ask":"bid",u={trading_pair_id:c.id,type:r,side:n,size:this.amountToPrecision(t,s)},"market"!==r&&(u.price=this.priceToPrecision(t,a)),e.next=10,this.privatePostTradingOrders(this.extend(u,o));case 10:return d=e.sent,h=this.parseOrder(d.result.order,c),l=h.id,this.orders[l]=h,e.abrupt("return",h);case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"editOrder",value:function(){var e=s(i.mark(function e(t,r,n,s,a,o){var c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=d.length>6&&void 0!==d[6]?d[6]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePutTradingOrdersOrderId(this.extend({order_id:t,price:this.priceToPrecision(r,o),size:this.amountToPrecision(r,a)},c));case 5:return u=e.sent,e.abrupt("return",this.parseOrder(this.extend(u,{id:t})));case 7:case"end":return e.stop()}},e,this)}));return function(t,r,n,i,s,a){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteTradingOrdersOrderId(this.extend({order_id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(this.extend(n,{id:t})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetTradingOrdersOrderId(this.extend({order_id:t.toString()},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n.result.order));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetTradingOrders(s);case 8:if(a=e.sent,o=this.parseOrders(a.result.orders,void 0,r,n),void 0===t){e.next=12;break}return e.abrupt("return",this.filterBySymbolSinceLimit(o,t,r,n));case 12:return e.abrupt("return",this.filterBySinceLimit(o,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetTradingOrderHistory(s);case 8:if(a=e.sent,o=this.parseOrders(a.result.orders,void 0,r,n),void 0===t){e.next=12;break}return e.abrupt("return",this.filterBySymbolSinceLimit(o,t,r,n));case 12:return e.abrupt("return",this.filterBySinceLimit(o,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:void 0,o.length>3&&void 0!==o[3]?o[3]:void 0,n=o.length>4&&void 0!==o[4]?o[4]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetTradingOrdersOrderIdTrades(this.extend({order_id:t},n));case 8:return s=e.sent,a=void 0===r?void 0:this.market(r),e.abrupt("return",this.parseTrades(s.result.trades,a));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={},void 0!==t&&(o.trading_pair_id=a.id),e.next=11,this.privateGetTradingTrades(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.result.trades,a,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),s=this.safeString(r,"ledger_type","exchange"),a={currency:n.id,ledger_type:s},e.next=8,this.privatePostWalletDepositAddresses(this.extend(a,r));case 8:return o=e.sent,c=this.safeString(o.result.deposit_address,"address"),u=this.safeString(o.result.deposit_address,"memo"),this.checkAddress(c),e.abrupt("return",{currency:t,address:c,tag:u,info:o});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetWalletDepositAddresses(this.extend({currency:n.id},r));case 6:return s=e.sent,a=this.safeValue(s.result,"deposit_addresses",[]),o=void 0,c=void 0,a.length>0&&(o=this.safeString(a[0],"address"),c=this.safeString2(a[0],"memo","tag")),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:c,info:s});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return o=this.currency(t),c={currency:o.id,amount:r,address:n},void 0!==s&&(c.memo=s),e.next=9,this.privatePostWalletWithdrawals(this.extend(c,a));case 9:return u=e.sent,e.abrupt("return",{id:void 0,info:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:void 0,r=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==t){e.next=8;break}throw new f(this.id+" fetchDeposits() requires a currency code arguemnt");case 8:return n=this.currency(t),s={currency:n.id},e.next=12,this.privateGetWalletDeposits(this.extend(s,r));case 12:return a=e.sent,e.abrupt("return",this.parseTransactions(a.result.deposits,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:void 0,r=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==t){e.next=8;break}throw new f(this.id+" fetchWithdrawals() requires a currency code arguemnt");case 8:return n=this.currency(t),s={currency:n.id},e.next=12,this.privateGetWalletWithdrawals(this.extend(s,r));case 12:return a=e.sent,e.abrupt("return",this.parseTransactions(a.result.withdrawals,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){var t={tx_pending_two_factor_auth:"pending",tx_pending_email_auth:"pending",tx_pending_approval:"pending",tx_approved:"pending",tx_processing:"pending",tx_pending:"pending",tx_sent:"pending",tx_cancelled:"canceled",tx_timeout:"failed",tx_invalid:"failed",tx_rejected:"failed",tx_confirmed:"ok"};return e in t?t[e]:e}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"created_at"),n=void 0;if(void 0===t){var i=this.safeString(e,"currency");i in this.currencies_by_id?t=this.currencies_by_id[i]:n=this.commonCurrencyCode(i)}void 0!==t&&(n=t.code);var s=void 0,a=this.safeString(e,"withdrawal_id"),o=this.safeString(e,"deposit_id"),c=void 0,u=void 0;void 0!==a?(c="withdrawal",s=a,u=this.safeString(e,"to_address")):void 0!==o&&(c="deposit",s=o,u=this.safeString(e,"from_address"));var d=this.safeValue(e,"additional_info",{}),h=this.safeString(d,"memo");return{info:e,id:s,txid:this.safeString(e,"txhash"),timestamp:r,datetime:this.iso8601(r),address:u,tag:h,type:c,amount:this.safeFloat(e,"amount"),currency:n,status:this.parseTransactionStatus(e.status),updated:void 0,fee:{cost:this.safeFloat(e,"fee"),rate:void 0}}}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return i={},"private"===t&&(this.checkRequiredCredentials(),i.nonce=this.nonce().toString(),i.Authorization=this.apiKey),"GET"===r?(o=this.urlencode(o)).length&&(a+="?"+o):(i["Content-type"]="application/json; charset=UTF-8",s=this.json(o)),{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(e<400||e>=600)){if("{"!==s[0])throw new f(this.id+" "+s);var o=this.id+" "+this.json(a),c=this.safeValue(a.error,"error_code");if(("DELETE"===n||"GET"===n)&&"parameter_error"===c&&r.indexOf("trading/orders/")>=0)throw new g(o);var u=this.exceptions;if(c in u)throw new u[c](o);throw new f(o)}}},{key:"nonce",value:function(){return this.milliseconds()}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.AuthenticationError,m=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinbase",name:"Coinbase",countries:["US"],rateLimit:400,version:"v2",userAgent:this.userAgents.chrome,headers:{"CB-VERSION":"2018-05-30"},has:{CORS:!0,cancelOrder:!1,createDepositAddress:!1,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!1,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchMySells:!0,fetchMyBuys:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees",referral:"https://www.coinbase.com/join/58cbe25a355148797479dbd2"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{two_factor_required:v,param_required:p,validation_error:p,invalid_request:p,personal_details_required:v,identity_verification_required:v,jumio_verification_required:v,jumio_face_match_verification_required:v,unverified_email:v,authentication_error:v,invalid_token:v,revoked_token:v,expired_token:v,invalid_scope:v,not_found:p,rate_limit_exceeded:m,internal_server_error:p},markets:{"BTC/USD":{id:"btc-usd",symbol:"BTC/USD",base:"BTC",quote:"USD"},"LTC/USD":{id:"ltc-usd",symbol:"LTC/USD",base:"LTC",quote:"USD"},"ETH/USD":{id:"eth-usd",symbol:"ETH/USD",base:"ETH",quote:"USD"},"BCH/USD":{id:"bch-usd",symbol:"BCH/USD",base:"BCH",quote:"USD"}},options:{accounts:["wallet","fiat"]}})}},{key:"fetchTime",value:function(){var e=i(n.mark(function e(){var t,r;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,r=t.data,e.abrupt("return",this.parse8601(r.iso));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadAccounts",value:function(){var e=i(n.mark(function e(){var t,r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],r.length>1&&void 0!==r[1]?r[1]:{},!t){e.next=8;break}return e.next=5,this.fetchAccounts();case 5:this.accounts=e.sent,e.next=16;break;case 8:if(!this.accounts){e.next=12;break}return e.abrupt("return",this.accounts);case 12:return e.next=14,this.fetchAccounts();case 14:this.accounts=e.sent,this.accountsById=this.indexBy(this.accounts,"id");case 16:return e.abrupt("return",this.accounts);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAccounts",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccounts(t);case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMySells",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},void 0!==(s=this.safeString2(i,"account_id","accountId"))){e.next=7;break}throw new f(this.id+" fetchMyTrades requires an account_id or accountId extra parameter, use fetchAccounts or loadAccounts to get ids of all your accounts.");case 7:return e.next=9,this.loadMarkets();case 9:return a=this.omit(i,["account_id","accountId"]),e.next=12,this.privateGetAccountsAccountIdSells(this.extend({account_id:s},a));case 12:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,void 0,t,r));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyBuys",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},void 0!==(s=this.safeString2(i,"account_id","accountId"))){e.next=7;break}throw new f(this.id+" fetchMyTrades requires an account_id or accountId extra parameter, use fetchAccounts or loadAccounts to get ids of all your accounts.");case 7:return e.next=9,this.loadMarkets();case 9:return a=this.omit(i,["account_id","accountId"]),e.next=12,this.privateGetAccountsAccountIdBuys(this.extend({account_id:s},a));case 12:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,void 0,t,r));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTransactionsWithMethod",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:void 0,i=u.length>3&&void 0!==u[3]?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{},void 0!==(a=this.safeString2(s,"account_id","accountId"))){e.next=7;break}throw new f(this.id+" fetchTransactionsWithMethod requires an account_id or accountId extra parameter, use fetchAccounts or loadAccounts to get ids of all your accounts.");case 7:return e.next=9,this.loadMarkets();case 9:return o=this.omit(s,["account_id","accountId"]),e.next=12,this[t](this.extend({account_id:a},o));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c.data,void 0,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsWithMethod("privateGetAccountsAccountIdWithdrawals",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsWithMethod("privateGetAccountsAccountIdDeposits",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({created:"pending",completed:"ok",canceled:"canceled"},e,e)}},{key:"parseTransaction",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.safeValue(e,"amount",{}),r=this.safeValue(e,"fee",{}),n=this.safeString(e,"id"),i=this.parse8601(this.safeValue(e,"created_at")),s=this.parse8601(this.safeValue(e,"updated_at")),a=this.safeString(e,"resource"),o=this.safeFloat(t,"amount"),c=this.safeString(t,"currency"),u=this.commonCurrencyCode(c),d=this.safeFloat(r,"amount"),h=this.safeString(r,"currency"),l={cost:d,currency:this.commonCurrencyCode(h)},p=this.parseTransactionStatus(this.safeString(e,"status"));void 0===p&&(p=this.safeValue(e,"committed")?"ok":"pending");return{info:e,id:n,txid:n,order:void 0,timestamp:i,datetime:this.iso8601(i),address:void 0,tag:void 0,type:a,amount:o,currency:u,status:p,updated:s,fee:l}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=this.safeValue(e,"total",{}),i=this.safeValue(e,"amount",{}),s=this.safeValue(e,"subtotal",{}),a=this.safeValue(e,"fee",{}),o=this.safeString(e,"id"),c=this.parse8601(this.safeValue(e,"created_at"));if(void 0===t){var u=this.safeString(n,"currency"),d=this.safeString(i,"currency");if(void 0!==u&&void 0!==d)r=this.commonCurrencyCode(u)+"/"+this.commonCurrencyCode(d)}var h=this.safeString(e,"resource"),l=this.safeFloat(s,"amount"),p=this.safeFloat(i,"amount"),f=void 0;void 0!==l&&void 0!==p&&(f=l/p);var v=this.safeFloat(a,"amount"),m=this.safeString(a,"currency"),y={cost:v,currency:this.commonCurrencyCode(m)};return{info:e,id:o,order:void 0,timestamp:c,datetime:this.iso8601(c),symbol:r,type:void 0,side:h,price:f,amount:p,cost:l,fee:y}}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,i=r.data,s={},a=0;a<i.length;a++)o=i[a],c=o.id,u=o.name,d=this.commonCurrencyCode(c),h=this.safeFloat(o,"min_size"),s[d]={id:c,code:d,info:o,name:u,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:h,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.seconds(),s=this.market(t),a=this.extend({symbol:s.id},r),e.next=8,this.publicGetPricesSymbolBuy(a);case 8:return o=e.sent,e.next=11,this.publicGetPricesSymbolSell(a);case 11:return c=e.sent,e.next=14,this.publicGetPricesSymbolSpot(a);case 14:return u=e.sent,d=this.safeFloat(o.data,"amount"),h=this.safeFloat(c.data,"amount"),l=this.safeFloat(u.data,"amount"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),bid:h,ask:d,last:l,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:{buy:o,sell:c,spot:u}});case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.privateGetAccounts();case 3:for(r=e.sent,i=r.data,s=this.safeValue(t,"type",this.options.accounts),a={info:r},o=0;o<i.length;o++)c=i[o],this.inArray(c.type,s)&&(u=c.balance.currency,d=u,u in this.currencies_by_id&&(d=this.currencies_by_id[u].code),h=this.safeFloat(c.balance,"amount"),l=h,void 0,d in a?(a[d].free+=h,a[d].total+=h):(p={free:l,used:void 0,total:h},a[d]=p));return e.abrupt("return",this.parseBalance(a));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o));var c=this.urls.api+"/"+this.version+a;if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d="";"GET"!==r&&Object.keys(o).length&&(d=s=this.json(o));var h=u+r+"/"+this.version+a+d,l=this.hmac(this.encode(h),this.encode(this.secret));i={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":l,"CB-ACCESS-TIMESTAMP":u,"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.id+" "+s,c=this.exceptions,u=this.safeString(a,"error");if(void 0!==u)throw u in c?new c[u](o):new p(o);var d=this.safeValue(a,"errors");if(void 0!==d)if(Array.isArray(d))if(d.length>0&&void 0!==(u=this.safeString(d[0],"id")))throw u in c?new c[u](o):new p(o);if(void 0===this.safeValue(a,"data"))throw new p(this.id+" failed due to a malformed response "+this.json(a))}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(65);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"coinbaseprime",name:"Coinbase Prime",urls:{test:"https://api-public.sandbox.prime.coinbase.com",logo:"https://user-images.githubusercontent.com/1294454/44539184-29f26e00-a70c-11e8-868f-e907fc236a7c.jpg",api:"https://api.prime.coinbase.com",www:"https://prime.coinbase.com",doc:"https://docs.prime.coinbase.com",fees:"https://support.prime.coinbase.com/customer/en/portal/articles/2945629-fees?b_id=17475"}})}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(65);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"coinbasepro",name:"Coinbase Pro",urls:{test:"https://api-public.sandbox.pro.coinbase.com",logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:"https://api.pro.coinbase.com",www:"https://pro.coinbase.com/",doc:"https://docs.pro.coinbase.com/",fees:["https://docs.pro.coinbase.com/#fees","https://support.pro.coinbase.com/customer/en/portal/articles/2945310-fees"]}})}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.NotSupported;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{CORS:!1,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766464-3b5c3c74-5ed9-11e7-840e-31b32968e1da.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api"},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}}})}},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privateGetAccountsBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies),s=0;s<n.length;s++)a=n[s],o=a.toLowerCase(),c=this.account(),o in t&&(c.free=parseFloat(t[o])),(u=o+"_reserved")in t&&(c.used=parseFloat(t[u])),c.total=this.sum(c.free,c.used),r[a]=c;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,n=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:{},a=void 0,void 0!==t&&(a=this.market(t)),e.next=8,this.privateGetExchangeOrdersOpens(s);case 8:for(o=e.sent,c=this.safeValue(o,"orders",[]),u=this.parseOrders(c,a,r,n),d=[],h=0;h<u.length;h++)d.push(this.extend(u[h],{status:"open"}));return e.abrupt("return",d);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.safeString(e,"id"),r=this.safeString(e,"order_type"),i=this.parse8601(this.safeString(e,"created_at")),s=this.safeFloat(e,"pending_amount"),a=this.safeFloat(e,"pending_amount"),o=this.safeFloat(e,"rate"),c=void 0,u=void 0;void 0!==a&&void 0!==s&&(c=Math.max(s-a,0),void 0!==o&&(u=c*o));var d=this.safeString(e,"pair"),h=void 0;if(void 0!==d)if(d in this.markets_by_id)h=this.markets_by_id[d].symbol;else{var l=d.split("_"),p=n(l,2),f=p[0],v=p[1];h=this.commonCurrencyCode(f)+"/"+this.commonCurrencyCode(v)}return{id:t,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,amount:s,remaining:a,filled:c,side:r,type:void 0,status:void 0,symbol:h,price:o,cost:u,fee:void 0,info:e}}},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},"BTC/JPY"===t){e.next=4;break}throw new v(this.id+" fetchOrderBook () supports BTC/JPY only");case 4:return e.next=6,this.publicGetOrderBooks(r);case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},"BTC/JPY"===t){e.next=3;break}throw new v(this.id+" fetchTicker () supports BTC/JPY only");case 3:return e.next=5,this.publicGetTicker(r);case 5:return n=e.sent,s=1e3*n.timestamp,a=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(n,"volume"),quoteVolume:void 0,info:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(this.safeString(e,"created_at")),n=this.safeString(e,"id"),i=this.safeFloat(e,"rate"),s=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,s,t);var a=void 0,o=void 0,c=void 0;if(void 0!==s)if(s in this.markets_by_id)o=(t=this.markets_by_id[s]).baseId,c=t.quoteId,a=t.symbol;else{var u=s.split("_");o=u[0],c=u[1],a=this.commonCurrencyCode(o)+"/"+this.commonCurrencyCode(c)}void 0===a&&void 0!==t&&(a=t.symbol);var d=void 0,h=void 0,l=void 0,p=void 0,f=void 0,v=void 0;if("liquidity"in e){"T"===this.safeString(e,"liquidity")?d="taker":"M"===this.safeString(e,"liquidity")&&(d="maker");var m=this.safeValue(e,"funds",{});h=this.safeFloat(m,o),l=this.safeFloat(m,c),f={currency:this.safeString(e,"fee_currency"),cost:this.safeFloat(e,"fee")},p=this.safeString(e,"side"),v=this.safeString(e,"order_id")}else h=this.safeFloat(e,"amount"),p=this.safeString(e,"order_type");return void 0===l&&void 0!==h&&void 0!==i&&(l=h*i),{id:n,info:e,datetime:this.iso8601(r),timestamp:r,symbol:a,type:void 0,side:p,order:v,takerOrMaker:d,price:i,amount:h,cost:l,fee:f}}},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},a=this.market(t),e.next=7,this.privateGetExchangeOrdersTransactions(this.extend({},s));case 7:return o=e.sent,c=this.safeValue(o,"transactions",[]),e.abrupt("return",this.parseTrades(c,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},"BTC/JPY"===t){e.next=5;break}throw new v(this.id+" fetchTrades () supports BTC/JPY only");case 5:return a=this.market(t),o={pair:a.id},void 0!==n&&(o.limit=n),e.next=10,this.publicGetTrades(this.extend(o,s));case 10:return c=e.sent,u=this.safeValue(c,"data",[]),e.abrupt("return",this.parseTrades(u,a,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},c={pair:this.marketId(t)},"market"===r?(u=r+"_"+n,c.order_type=u,c[("buy"===n?u+"_":"")+"amount"]=s):(c.order_type=n,c.rate=a,c.amount=s),e.next=6,this.privatePostExchangeOrders(this.extend(c,o));case 6:return d=e.sent,e.abrupt("return",{info:d,id:d.id.toString()});case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privateDeleteExchangeOrdersId({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u="";"GET"===r?Object.keys(o).length&&(a+="?"+this.urlencode(this.keysort(o))):Object.keys(o).length&&(u=s=this.urlencode(this.keysort(o)));var d=c+a+u;i={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":c,"ACCESS-SIGNATURE":this.hmac(this.encode(d),this.encode(this.secret))}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",n=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,n,s,a,o);case 7:if(c=e.sent,"public"!==r){e.next=10;break}return e.abrupt("return",c);case 10:if(!("success"in c)){e.next=13;break}if(!c.success){e.next=13;break}return e.abrupt("return",c);case 13:throw new f(this.id+" "+this.json(c));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.InsufficientFunds,m=l.OrderNotFound,y=l.InvalidOrder,g=l.AuthenticationError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinex",name:"CoinEx",version:"v1",countries:["CN"],rateLimit:1e3,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38046312-0b450aac-32c8-11e8-99ab-bc6b136b6cc7.jpg",api:{public:"https://api.coinex.com",private:"https://api.coinex.com",web:"https://www.coinex.com"},www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees",referral:"https://www.coinex.com/account/signup?refer_code=yw5fz"},api:{web:{get:["res/market"]},public:{get:["market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance/coin/withdraw","balance/coin/deposit","balance/info","order","order/pending","order/finished","order/finished/{id}","order/user/deals"],post:["balance/coin/withdraw","order/limit","order/market"],delete:["balance/coin/withdraw","order/pending"]}},fees:{trading:{maker:0,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8},options:{createMarketBuyOrderRequiresPrice:!0}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.webGetResMarket();case 3:for(t=e.sent,r=t.data.market_info,i=[],s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=c.market,d=c.buy_asset_type,h=c.sell_asset_type,l=this.commonCurrencyCode(h),p=this.commonCurrencyCode(d),f=l+"/"+p,v={amount:c.sell_asset_type_places,price:c.buy_asset_type_places},m=c.merge.length,y="pass"===c.status,i.push({id:u,symbol:f,base:l,quote:p,baseId:h,quoteId:d,active:y,taker:this.safeFloat(c,"taker_fee_rate"),maker:this.safeFloat(c,"maker_fee_rate"),info:c,precision:v,limits:{amount:{min:this.safeFloat(c,"least_amount"),max:void 0},price:{min:parseFloat(c.merge[m-1]),max:void 0}}});return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.date,n=t.symbol;e=e.ticker;var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetMarketTicker(this.extend({market:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.data,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:void 0,t=f.length>1&&void 0!==f[1]?f[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketTickerAll(t);case 6:for(r=e.sent,i=r.data,s=i.date,a=i.ticker,o=Object.keys(a),c={},u=0;u<o.length;u++)d=o[u],h=this.markets_by_id[d],l=h.symbol,p={date:s,ticker:a[d]},c[l]=this.parseTicker(p,h);return e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:20,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return void 0===r&&(r=20),s={market:this.marketId(t),merge:"0.00000001",limit:r.toString()},e.next=8,this.publicGetMarketDepth(this.extend(s,i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a.data));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"create_time");void 0===r?r=this.safeInteger(e,"date_ms"):r*=1e3;var n=this.safeString(e,"id"),i=this.safeString(e,"order_id"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),o=this.safeString(e,"market"),c=void 0;void 0!==(t=this.safeValue(this.markets_by_id,o,t))&&(c=t.symbol);var u=this.safeFloat(e,"deal_money");u||(u=parseFloat(this.costToPrecision(c,s*a)));var d=void 0,h=this.safeFloat(e,"fee");if(void 0!==h){var l=this.safeString(e,"fee_asset"),p=this.safeValue(this.currencies_by_id,l),f=void 0;void 0!==p&&(f=p.code),d={cost:h,currency:f}}var v=this.safeString(e,"role"),m=this.safeString(e,"type");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,id:n,order:i,type:void 0,side:m,takerOrMaker:v,price:s,amount:a,cost:u,fee:d}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetMarketDeals(this.extend({market:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],parseFloat(e[1]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"5m",i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.publicGetMarketKline(this.extend({market:o.id,type:this.timeframes[r]},a));case 9:return c=e.sent,e.abrupt("return",this.parseOHLCVs(c.data,o,r,i,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalanceInfo(t);case 5:for(r=e.sent,i={info:r},s=r.data,a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=s[c],d=this.commonCurrencyCode(c),(h={free:parseFloat(u.available),used:parseFloat(u.frozen),total:0}).total=this.sum(h.free,h.used),i[d]=h;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={not_deal:"open",part_deal:"open",done:"closed",cancel:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=1e3*this.safeInteger(e,"create_time"),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"deal_money"),s=this.safeFloat(e,"amount"),a=this.safeFloat(e,"deal_amount"),o=this.safeFloat(e,"avg_price"),c=void 0,u=this.safeString(e,"market");t=this.safeValue(this.markets_by_id,u);var d=void 0,h=this.safeString(e,"fee_asset"),l=this.safeValue(this.currencies_by_id,h);void 0!==l&&(d=l.code),void 0!==t&&(c=t.symbol,void 0===d&&(d=t.quote));var p=this.safeFloat(e,"left"),f=this.parseOrderStatus(this.safeString(e,"status")),v=this.safeString(e,"order_type"),m=this.safeString(e,"type");return{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:f,symbol:c,type:v,side:m,price:n,cost:i,average:o,amount:s,filled:a,remaining:p,trades:void 0,fee:{currency:d,cost:this.safeFloat(e,"deal_fee")},info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>4&&void 0!==f[4]?f[4]:void 0,o=f.length>5&&void 0!==f[5]?f[5]:{},s=parseFloat(s),"market"!==r){e.next=12;break}if("buy"!==i){e.next=12;break}if(!this.options.createMarketBuyOrderRequiresPrice){e.next=12;break}if(void 0!==a){e.next=10;break}throw new y(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 10:a=parseFloat(a),s*=a;case 12:return e.next=14,this.loadMarkets();case 14:return c="privatePostOrder"+this.capitalize(r),u=this.market(t),d={market:u.id,amount:this.amountToPrecision(t,s),type:i},"limit"===r&&(a=parseFloat(a),d.price=this.priceToPrecision(t,a)),e.next=20,this[c](this.extend(d,o));case 20:return h=e.sent,l=this.parseOrder(h.data,u),p=l.id,this.orders[p]=l,e.abrupt("return",l);case 25:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privateDeleteOrderPending(this.extend({id:t,market:s.id},i));case 7:return a=e.sent,e.abrupt("return",this.parseOrder(a.data,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),e.next=9,this.privateGetOrder(this.extend({id:t,market:s.id},i));case 9:return a=e.sent,e.abrupt("return",this.parseOrder(a.data,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersByStatus",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return void 0===s&&(s=100),o={page:1,limit:s},c=void 0,void 0!==r&&(c=this.market(r),o.market=c.id),u="privateGetOrder"+this.capitalize(t),e.next=13,this[u](this.extend(o,a));case 13:return d=e.sent,e.abrupt("return",this.parseOrders(d.data.data,c,i,s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatus("pending",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatus("finished",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return void 0===i&&(i=100),a={page:1,limit:i},o=void 0,void 0!==t&&(o=this.market(t),a.market=o.id),e.next=12,this.privateGetOrderUserDeals(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseTrades(c.data.data,o,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),s&&(i=i+":"+s),c={coin_type:o.id,coin_address:i,actual_amount:parseFloat(r)},e.next=10,this.privatePostBalanceCoinWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:this.safeString(u,"coin_withdraw_id")});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({audit:"pending",pass:"pending",processing:"pending",confirming:"pending",not_pass:"failed",cancel:"canceled",finish:"ok",fail:"failed"},e,e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString2(e,"coin_withdraw_id","coin_deposit_id"),n=this.safeString(e,"coin_address"),i=this.safeString(e,"remark");void 0!==i&&i.length<1&&(i=void 0);var s=this.safeValue(e,"tx_id");void 0!==s&&s.length<1&&(s=void 0);var a=void 0,o=this.safeString(e,"coin_type");o in this.currencies_by_id?t=this.currencies_by_id[o]:a=this.commonCurrencyCode(o),void 0!==t&&(a=t.code);var c=this.safeInteger(e,"create_time");void 0!==c&&(c*=1e3);var u="coin_withdraw_id"in e?"withdraw":"deposit",d=this.parseTransactionStatus(this.safeString(e,"status"),u),h=this.safeFloat(e,"amount"),l=this.safeFloat(e,"tx_fee");"deposit"===u&&(l=0);var p={cost:l,currency:a};return{info:e,id:r,txid:s,timestamp:c,datetime:this.iso8601(c),address:n,tag:i,type:u,amount:h,currency:a,status:d,updated:void 0,fee:p}}},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchWithdrawals requires a currency code argument");case 6:return a=this.currency(t),o={coin_type:a.id},void 0!==i&&(o.Limit=i),e.next=11,this.privateGetBalanceCoinWithdraw(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTransactions(c.data,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchDeposits requires a currency code argument");case 6:return a=this.currency(t),o={coin_type:a.id},void 0!==i&&(o.Limit=i),e.next=11,this.privateGetBalanceCoinDeposit(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTransactions(c.data,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;e=this.implodeParams(e,n);var a=this.urls.api[t]+"/"+this.version+"/"+e,o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("web"===t)a=this.urls.api[t]+"/"+e,Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce();o=this.extend({access_id:this.apiKey,tonce:c.toString()},o),o=this.keysort(o);var u=this.urlencode(o);i={Authorization:this.hash(this.encode(u+"&secret_key="+this.secret)).toUpperCase(),"Content-Type":"application/json"},"GET"===r||"DELETE"===r?a+="?"+u:s=this.json(o)}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"public",i=l.length>2&&void 0!==l[2]?l[2]:"GET",s=l.length>3&&void 0!==l[3]?l[3]:{},a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,u=this.safeString(c,"code"),d=this.safeValue(c,"data"),"0"===u&&d){e.next=14;break}throw h={24:g,25:g,107:v,600:m,601:y,602:y,606:y},new(this.safeValue(h,u,p))(c.message);case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinexchange",name:"CoinExchange",countries:["IN","JP","KR","VN","US"],rateLimit:1e3,has:{privateAPI:!1,fetchBalance:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchTrades:!1,fetchOHLCV:!1,fetchCurrencies:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34842303-29c99fca-f71c-11e7-83c1-09d900cb2334.jpg",api:"https://www.coinexchange.io/api/v1",www:"https://www.coinexchange.io",doc:"https://coinexchangeio.github.io/slate/",fees:"https://www.coinexchange.io/fees"},api:{public:{get:["getcurrency","getcurrencies","getmarkets","getmarketsummaries","getmarketsummary","getorderbook"]}},fees:{trading:{maker:.0015,taker:.0015},funding:{withdraw:{1337:.01,"420G":.01,611:.1,ACC:.01,ACES:.01,ACO:.01,ACP:.01,ADCN:500,ADST:1,ADZ:.1,AGRI:.01,AI:1,AKY:.01,ALIS:1,ALL:.2,AMC:.1,AMMO:.01,AMS:.01,ANTX:.01,ANY:1,ARG:.1,ARGUS:.01,ARGUSOLD:.01,ASN:.01,ATOM:.01,ATX:.01,AU:.01,B2B:1,B3:.01,BAKED:.01,BCC:.01,BCH:.001,BCM:.01,BDL:.01,BEER:.01,BELA:.01,BENJI:.05,BET:.01,BFI:1,BIGUP:1,BIRDS:.01,BITB:.1,BIXC:.01,BIZ:.01,BLAS:.1,BLAZR:.2,BLK:.01,BLN:1,BLUE:1,BOAT:1,BON:.01,BONPAY:1,BOPS:.01,BPOK:.1,BQ:1,BRAT:.01,BRC:1,BRIT:.01,BSN:1,BSR:.01,BTBc:.01,BTC:.001,BTCRED:1,BTCRF:.01,BTDX:.1,BTE:1,BTPL:.01,BULLS:.01,BUZZ:.01,BXT:.01,C47:1,CACH:.2,CALC:.01,CANN:.01,CBANK:1,CDX:1,CHEAP:.01,CHESS:.01,CHILI:.01,CHIPS:.1,CJ:.1,CLT:.1,CMPCO:.2,CMX:.01,CNNC:.02,CNT:.01,CO2:1,COOC:.01,COUPE:.01,CQST:.1,CRACKERS:.01,CRDNC:.01,CREA:.02,CREAK:.01,CREVA2:.01,CRMSN:.01,CRN:.01,CRW:.01,CTIC2:.01,CUBE:.01,CXT:.01,CYCLONE:.01,CYDER:.01,DAG:.01,DALC:1,DARI:.01,DASH:.01,DAV:.01,DBIC:.1,DCN:1,DEM:.01,DFS:.01,DGB:.1,DGC:.1,DIME:.01,DMB:.01,DMC:.1,DNCV2:.01,DNE:1,DNR:.01,DOGE:2,DOGEJ:1,DP:.01,DRGN:1,DRS:.1,DSE:.01,DSR:.01,DTCT:1,DUTCH:.01,EBC:.01,EBT:.01,ECC:.1,ECN:.01,EDRC:.01,EECN:.01,EGC:.1,ELCO:.1,ELIX:1,ELS:.01,ELT:1,EMC:.01,EMIRG:.01,ENTRC:1,ENZO:.1,EQL:1,EQT:.1,ERSO:.01,ERT:1,ERY:.01,ESP:.1,ETBS:1,ETC:.1,ETG:1,ETH:.01,ETHD:.01,ETHOS:1,ETN:2,EUROP:.1,EXCL:.1,EXTN:.01,FAIR:.01,FAP:1,FAZZ:.01,FCH:.01,FGZ:.1,FLASH:.01,FLIK:1,FRT:.1,FSX:.1,FTC:.01,FXE:2,GAIN:1,GB:.1,GBX:.01,GDC:1,GEERT:.01,GET:.01,GFC:1,GLS:.01,GLT:.01,GLTC:.01,GMB:.01,GMX:.01,GOKUOLD:.1,GOLD:.01,GOLF:.1,GOOD:2,GP:.01,GRE:.01,GREENF:.01,GRMD:1,GRS:.01,GRX:1,GTC:.01,GWC:.2,HALLO:.01,HBC:.01,HC:.01,HEALTHY:.01,HIGH:.01,HarmonyCoin:.01,HNC:.01,HOC:.01,HODL:.01,HOLLY:1,HONEY:.01,HOPE:.01,HPC:.01,HUB:1,HYP:.01,HYPER:.01,IBC:1,ICE:1,ICOT:1,IFT:1,ILC:.01,IMX:.01,INDIA:.01,INFO:.01,INSN:.01,INXT:1,IOE:.01,IQT:1,IXC:.01,JAPAN:.01,JEDI:.01,JET:1,JIN:.2,KAYI:.01,KB3:.01,KGB:.01,KLC:.1,KMD:.01,KOBO:1,KOI:.01,KORUNA:.1,KRA:.01,KUBO:.01,KURT:.01,LA:1,LAMBO:.01,LCT:1,LDC:.01,LEVO:.1,LIFE:1,LINDA:.01,LINX:.01,LIZ:.01,LMC:.1,LNK:.05,LRC:1,LTC:.01,LTG:1,LUCK:.01,LUNA:.01,LVPS:.01,MAC:2,MAG:.01,MALC:.01,MARS:.01,MARS2:.01,MAXI:.01,MAY:.01,MBC:.01,MBIT:.01,MCB:1,MEC:.1,MENTAL:.1,MER:.1,MET:.01,MGM:.01,MGT:.01,MILO:.5,MINEX:1,MINT:1,MIPS:1,MNX:.01,MOIN:.1,MOON:.1,MSCN:.01,MSP:1,MST:.1,MTH:1,MUE:.1,MUX:1,MXC:.01,MXT:.1,MYB:1,NBIT:.1,NBX:.01,NEOG:1,NEON:.01,NLC2:.01,NLG:.1,NRN:.01,NRO:.01,NTC:1,NTO:1,NUA:1,NUMUS:.01,OC:.01,OGN:.01,ORO:.01,PARIS:.01,PAYU:.1,PCN:1,PCS:.01,PDG:.01,PEC:.01,PGL:1,PHN:1,PICO:.1,PIE:.01,PIGGY:.1,PIVX:.2,PIX:1,PKT:1,PLACO:.01,PLX:1,POL:.01,POLOB:.1,POS:1,POST:1,POSW:.01,POT:.1,PRE:1,PRIMU:.01,PRL:1,PRN:1,PRX:.01,PT:1,PTS:1,PURA:1,PURE:.01,PUT:.1,PWC:.01,PWR:.1,QTUM:.01,QUANT:.01,RAIN:.5,RBL:.01,RDC:.01,REC:.01,REGA:.1,REX:1,RHO:.1,RIYA:1,RMC:2,RNS:.01,ROC:0,ROOFS:.01,RUB:.01,RUNE:.01,RUNNERS:.01,RUP:.01,SBIT:.01,SCL:1,SCORE:.01,SCOREOLD:.01,SDASH:.01,SFC:.01,SFE:.01,SGR:1,SHIT:.1,SHM:.1,SHND:.1,SHOT:.1,SIC:.1,SILK2:.01,SIMP:.001,SISA:1,SKOIN:.01,SKULL:.01,SLEVIN:.01,SLR:.01,SMART:.01,SMS:.002,SNOW:.01,SOLAR:.01,SPRTS:1,SRC:.01,SST:.1,STARS:.01,STN:.01,STO:.01,STX:1,SUPER:.01,SUPERMAN:.01,SURGE:.01,SWC:.1,SYNQ:.01,SYNX:.01,TAAS:2,TBS:.01,TCOIN:.01,TELL:.1,TER:.005,TGT:1,TIGER:.01,TIPS:.01,TLE:.01,TOPAZ:.01,TOR:.01,TPC:.01,TPG:.01,TPI:1,TRANCE:.01,TRC:.01,TRUX:.01,TSE:.1,TSTR:.01,TURBO:.01,UFO:.01,UK:.01,ULA:.01,UNIFY:0,UNIT:.1,UNO:.001,UP:.01,UQC:1,USA:.01,VC:.01,VGS:.01,VIDZ:.01,VISIO:.05,VLTC:.1,VOISE:1,VONE:.01,VOX:.01,VSX:.01,VULCANO:.01,WASH:.1,WCL:1,WINK:.01,WOMEN:.01,WORM:.01,WOW:.1,WRP:.01,WYV:.01,XBC:.01,XBL:1,XBU:1,XCHE:.1,XCS:.01,XCT:.01,XCXT:.01,XDE2:.01,XEV:.1,XGOX:.01,XGTC:.01,XLR:.1,XMCC:.01,XP:1,XPASC:.01,XQN:.01,XSA:.1,XSTC:2,XTD:.01,XVS:.01,XXX:.1,XYOC:1,XYZ:.01,XZC:.1,XZCD:.01,YHC:.01,ZCC:.01,ZCG:1,ZCL:.001,ZEC:.001,ZEIT:.1,ZENI:.01,ZERO:.01,ZMC:.1,ZOI:.01,ZSE:.01,ZURMO:.1,ZZC:.01}}},precision:{amount:8,price:8},commonCurrencies:{ACC:"AdCoin",ANC:"AnyChain",BON:"BonPeKaO",BONPAY:"BON",eNAU:"ENAU",ETN:"Ethernex",FRC:"FireRoosterCoin",GET:"GreenEnergyToken",GDC:"GoldenCryptoCoin",GOLD:"GoldenCoin",GTC:"GlobalTourCoin",HMC:"HarmonyCoin",HNC:"Huncoin",IBC:"RCoin",MARS:"MarsBux",MER:"TheMermaidCoin",OC:"occnetwork",PUT:"PutinCoin",RUB:"RubbleCoin",UP:"UpscaleToken",VULCANO:"VULC"}})}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetGetcurrencies(t);case 3:for(r=e.sent,i=r.result,s=this.precision.amount,a={},o=0;o<i.length;o++)c=i[o],u=c.CurrencyID,d=this.commonCurrencyCode(c.TickerCode),h="online"===c.WalletStatus,a[d]={id:u,code:d,name:c.Name,active:h,precision:s,limits:{amount:{min:void 0,max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,s)}},info:c};return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetGetmarkets();case 3:for(t=e.sent,r=t.result,i=[],s=0;s<r.length;s++)a=r[s],o=a.MarketID,c=this.safeString(a,"MarketAssetCode"),u=this.safeString(a,"BaseCurrencyCode"),void 0!==c&&void 0!==u&&(d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,i.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:a.Active,info:a}));return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=e.MarketID;n in this.markets_by_id?t=this.markets_by_id[n]:r=n}t&&(r=t.symbol);var i=this.milliseconds(),s=this.safeFloat(e,"LastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"HighPrice"),low:this.safeFloat(e,"LowPrice"),bid:this.safeFloat(e,"BidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"AskPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"Change"),average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"Volume"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetGetmarketsummary(this.extend({market_id:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.result,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetmarketsummaries(t);case 6:for(r=e.sent,i=r.result,s={},a=0;a<i.length;a++)o=this.parseTicker(i[a]),c=o.symbol,s[c]=o;return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetorderbook(this.extend({market_id:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i.result,void 0,"BuyOrders","SellOrders","Price","Quantity"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;return"public"===t&&Object.keys(n).length&&(a+="?"+this.urlencode(n)),{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"public",i=d.length>2&&void 0!==d[2]?d[2]:"GET",s=d.length>3&&void 0!==d[3]?d[3]:{},a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,1===this.safeInteger(c,"success")){e.next=12;break}throw u=this.safeString(c,"message","Error"),new l(u);case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.AuthenticationError,m=p.DDoSProtection;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"coinfalcon",name:"CoinFalcon",countries:["GB"],rateLimit:1e3,version:"v1",has:{fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees",referral:"https://coinfalcon.com/?ref=CFJSVGTUPASB"},api:{public:{get:["markets","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/orders/{id}","user/trades"],post:["user/orders"],delete:["user/orders/{id}"]}},fees:{trading:{tierBased:!0,maker:0,taker:.002}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=t.data,s=[],a=0;a<r.length;a++)o=r[a],c=o.name.split("-"),u=i(c,2),d=u[0],h=u[1],l=this.commonCurrencyCode(d),p=this.commonCurrencyCode(h),f=l+"/"+p,v={amount:this.safeInteger(o,"size_precision"),price:this.safeInteger(o,"price_precision")},s.push({id:o.name,symbol:f,base:l,quote:p,baseId:d,quoteId:h,active:!0,precision:v,limits:{amount:{min:Math.pow(10,-v.amount),max:void 0},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:void 0,max:void 0}},info:o});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t){var r=this.safeString(e,"name");t=this.safeValue(this.markets_by_id,r,t)}var n=void 0;void 0!==t&&(n=t.symbol);var i=this.milliseconds(),s=parseFloat(e.last_price);return{symbol:n,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:parseFloat(e.change_in_24h),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:parseFloat(e.volume),info:e}}},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.fetchTickers(r);case 3:return i=e.sent,e.abrupt("return",i[t]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarkets();case 6:for(t=e.sent,r=t.data,i={},s=0;s<r.length;s++)a=this.parseTicker(r[s]),o=a.symbol,i[o]=a;return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsMarketOrders(this.extend({market:this.marketId(t),level:"3"},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i.data,void 0,"bids","asks","price","size"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=parseFloat(e.price),i=parseFloat(e.size),s=t.symbol,a=parseFloat(this.costToPrecision(s,n*i));return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:s,id:void 0,order:void 0,type:void 0,side:void 0,price:n,amount:i,cost:a,fee:void 0}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={market:a.id},void 0!==r&&(o.since=this.iso8601(r)),e.next=10,this.publicGetMarketsMarketTrades(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserAccounts(t);case 5:for(r=e.sent,i={info:r},s=r.data,a=0;a<s.length;a++)o=s[a],c=this.safeString(o,"currency_code"),u=c.toUpperCase(),d=this.commonCurrencyCode(u),u in this.currencies_by_id&&(d=this.currencies_by_id[u].code),h={free:parseFloat(o.available_balance),used:parseFloat(o.hold_balance),total:parseFloat(o.balance)},i[d]=h;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t){var r=this.safeString(e,"market");r in this.markets_by_id&&(t=this.markets_by_id[r])}var n=void 0;void 0!==t&&(n=t.symbol);var i=this.parse8601(e.created_at),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"size"),o=this.safeFloat(e,"size_filled"),c=parseFloat(this.amountToPrecision(n,a-o)),u=parseFloat(this.priceToPrecision(n,a*s)),d=e.status;d="fulfilled"===d?"closed":"canceled"===d?"canceled":"open";var h=e.operation_type.split("_");return{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,status:d,symbol:n,type:h[0],side:e.order_type,price:s,cost:u,amount:a,filled:o,remaining:c,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),s=this.amountToPrecision(t,s),u={market:c.id,size:s,order_type:i},"limit"===r&&(a=this.priceToPrecision(t,a),u.price=a.toString()),u.operation_type=r+"_order",e.next=11,this.privatePostUserOrders(this.extend(u,o));case 11:return d=e.sent,h=this.parseOrder(d.data,c),l=h.id,this.orders[l]=h,e.abrupt("return",h);case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteUserOrdersId(this.extend({id:t},i));case 6:return s=e.sent,a=this.market(r),e.abrupt("return",this.parseOrder(s.data,a));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetUserOrdersId(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.data));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:void 0,i=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return s={},void 0!==t&&(s.market=this.marketId(t)),void 0!==r&&(s.since_time=this.iso8601(this.milliseconds())),e.next=11,this.privateGetUserOrders(this.extend(s,i));case 11:return a=e.sent,e.abrupt("return",this.parseOrders(a.data));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+this.implodeParams(e,n),o=this.urls.api+a,c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),"GET"===r?Object.keys(c).length&&(o+="?"+this.urlencode(c)):s=this.json(c);var u=this.seconds().toString(),d=[u,r,a].join("|");s&&(d+="|"+s);var h=this.hmac(this.encode(d),this.encode(this.secret));i={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":u,"CF-API-SIGNATURE":h,"Content-Type":"application/json"}}return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(e<400))throw new(this.safeValue({401:v,429:m},e,f))(s)}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).NotSupported;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:["UK"],has:{CORS:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28246081-623fc164-6a1c-11e7-913f-bac0d5576c90.jpg",api:"https://webapi.coinfloor.co.uk/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{id}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",baseId:"XBT",quoteId:"GBP"},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR"},"BTC/USD":{id:"XBT/USD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"XBT",quoteId:"USD"},"BTC/PLN":{id:"XBT/PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN",baseId:"XBT",quoteId:"PLN"},"BCH/GBP":{id:"BCH/GBP",symbol:"BCH/GBP",base:"BCH",quote:"GBP",baseId:"BCH",quoteId:"GBP"},"ETH/GBP":{id:"ETH/GBP",symbol:"ETH/GBP",base:"ETH",quote:"GBP",baseId:"ETH",quoteId:"GBP"}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},r=void 0,"symbol"in t&&(r=this.findMarket(t.symbol)),"id"in t&&(r=this.findMarket(t.id)),r){e.next=6;break}throw new l(this.id+" fetchBalance requires a symbol param");case 6:return e.next=8,this.privatePostIdBalance({id:r.id});case 8:return i=e.sent,s={info:i},a=r.id.toLowerCase().split("/"),s[r.base]={free:parseFloat(i[a[0]+"_available"]),used:parseFloat(i[a[0]+"_reserved"]),total:parseFloat(i[a[0]+"_balance"])},s[r.quote]={free:parseFloat(i[a[1]+"_available"]),used:parseFloat(i[a[1]+"_reserved"]),total:parseFloat(i[a[1]+"_balance"])},e.abrupt("return",this.parseBalance(s));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetIdOrderBook(this.extend({id:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"vwap"),s=this.safeFloat(e,"volume"),a=void 0;void 0!==i&&(a=s*i);var o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:i,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:a,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},i=this.market(t),e.next=4,this.publicGetIdTicker(this.extend({id:i.id},r));case 4:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetIdTransactions(this.extend({id:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},c={id:this.marketId(t)},u="privatePostId"+this.capitalize(i),"market"===r?(c.quantity=s,u+="Market"):(c.price=a,c.amount=s),e.abrupt("return",this[u](this.extend(c,o)));case 6:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostIdCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.datetime),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=n*i,a=void 0,o=this.safeString(e,"status");0===e.type?a="buy":1===e.type&&(a="sell");var c=void 0;void 0!==t&&(c=t.symbol);var u=e.id.toString();return{info:e,id:u,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:c,type:"limit",side:a,price:n,amount:i,filled:void 0,remaining:void 0,cost:s,fee:void 0}}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,c.length>3&&void 0!==c[3]?c[3]:{},void 0!==t){e.next=6;break}throw new l(this.id+" fetchOpenOrders requires a symbol param");case 6:return e.next=8,this.loadMarkets();case 8:return s=this.market(t),e.next=11,this.privatePostIdOpenOrders({id:s.id});case 11:for(a=e.sent,o=0;o<a.length;o++)a[o]=this.extend(a[o],{status:"open"});return e.abrupt("return",this.parseOrders(a,s,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce();s=this.urlencode(this.extend({nonce:c},o));var u=this.uid+"/"+this.apiKey+":"+this.password;i={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+this.decode(this.stringToBase64(this.encode(u)))}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10).ExchangeError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"coingi",name:"Coingi",rateLimit:1e3,countries:["PA","BG","CN","US"],has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28619707-5c9232a8-7212-11e7-86d6-98fe5d15cc6e.jpg",api:{www:"https://coingi.com",current:"https://api.coingi.com",user:"https://api.coingi.com"},www:"https://coingi.com",doc:"https://coingi.docs.apiary.io"},api:{www:{get:[""]},current:{get:["order-book/{pair}/{askCount}/{bidCount}/{depth}","transactions/{pair}/{maxCount}","24hour-rolling-aggregation"]},user:{post:["balance","add-order","cancel-order","orders","transactions","create-crypto-withdrawal"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,PPC:.02,VTC:.2,NMC:2,DASH:.002,USD:10,EUR:10},deposit:{BTC:0,LTC:0,DOGE:0,PPC:0,VTC:0,NMC:0,DASH:0,USD:5,EUR:1}}}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.wwwGet();case 3:for(t=e.sent,r=t.split('do=currencyPairSelector-selectCurrencyPair" class="active">'),s=r[1].split('<div class="currency-pair-label">'),a=[],o=1;o<s.length;o++)c=s[o],u=c.split("</div>"),d=u[0],h=d,d=(d=d.replace("/","-")).toLowerCase(),l=h.split("/"),p=i(l,2),f=p[0],v=p[1],m={amount:8,price:8},a.push({id:d,symbol:h,base:f,quote:v,info:d,active:!0,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:Math.pow(10,m.amount)},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:0,max:void 0}}});return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:for(t=[],r=Object.keys(this.currencies),i=0;i<r.length;i++)s=r[i],t.push(s.toLowerCase());return e.next=8,this.userPostBalance({currencies:t.join(",")});case 8:for(a=e.sent,o={info:a},c=0;c<a.length;c++)u=a[c],d=(d=u.currency.name).toUpperCase(),(h={free:u.available,used:u.blocked+u.inOrders+u.withdrawing,total:0}).total=this.sum(h.free,h.used),o[d]=h;return e.abrupt("return",this.parseBalance(o));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:512,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),e.next=7,this.currentGetOrderBookPairAskCountBidCountDepth(this.extend({pair:s.id,depth:32,askCount:r,bidCount:r},i));case 7:return a=e.sent,e.abrupt("return",this.parseOrderBook(a,void 0,"bids","asks","price","baseAmount"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;return t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e.high,low:e.low,bid:e.highestBid,bidVolume:void 0,ask:e.lowestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.baseVolume,quoteVolume:e.counterVolume,info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.currentGet24hourRollingAggregation(t);case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=a.currencyPair.base.toUpperCase(),c=a.currencyPair.counter.toUpperCase(),d=void 0,(u=o+"/"+c)in this.markets&&(d=this.markets[u]),i[u]=this.parseTicker(a,d);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.fetchTickers(void 0,r);case 5:if(i=e.sent,!(t in i)){e.next=8;break}return e.abrupt("return",i[t]);case 8:throw new p(this.id+" return did not contain "+t);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=this.markets_by_id[e.currencyPair]),{id:e.id,info:e,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.currentGetTransactionsPairMaxCount(this.extend({pair:a.id,maxCount:128},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={currencyPair:this.marketId(t),volume:s,price:a,orderType:"buy"===i?0:1},e.next=7,this.userPostAddOrder(this.extend(c,o));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.result});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.userPostCancelOrder({orderId:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];"www"!==t&&(a+="/"+t+"/"+this.implodeParams(e,n));var o=this.omit(n,this.extractParams(e));if("current"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else if("user"===t){this.checkRequiredCredentials();var c=this.nonce(),u=this.extend({token:this.apiKey,nonce:c},o),d=c.toString()+"$"+this.apiKey;u.signature=this.hmac(this.encode(d),this.encode(this.secret)),s=this.json(u),i={"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"current",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if("string"===typeof(c=e.sent)){e.next=11;break}if(!("errors"in c)){e.next=11;break}throw new p(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:["US"],has:{CORS:!0,privateAPI:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchBalance:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchOHLCV:!1,fetchTrades:!1,fetchTickers:!0,fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28244244-9be6312a-69ed-11e7-99c1-7c1797275265.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new l("Fetching order books is not supported by the API of "+this.id);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currencyCode",value:function(e,t){var r={ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT",Catcoin:"Catcoin",CanYaCoin:"CanYaCoin",Comet:"Comet",CPChain:"CPChain",CrowdCoin:"CrowdCoin",Cubits:"Cubits","DAO.Casino":"DAO.Casino","E-Dinar Coin":"E-Dinar Coin",EDRcoin:"EDRcoin",ENTCash:"ENTCash",FairGame:"FairGame","Fabric Token":"Fabric Token","GET Protocol":"GET Protocol","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin","Harvest Masternode Coin":"Harvest Masternode Coin","Hydro Protocol":"Hydro Protocol",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie",IOTA:"IOTA",NetCoin:"NetCoin",PCHAIN:"PCHAIN",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin"};return t in r?r[t]:e}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetTicker({limit:0});case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)for(s=t[i],a=this.currencyCodes,o=0;o<a.length;o++)c=a[o],u=c.toLowerCase(),d=s.id,h=this.currencyCode(s.symbol,s.name),l=h+"/"+c,p=d+"/"+u,r.push({id:p,symbol:l,base:h,quote:c,baseId:d,quoteId:u,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchGlobal",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"USD",e.next=3,this.loadMarkets();case 3:return r={},t&&(r.convert=t),e.next=7,this.publicGetGlobal(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds();"last_updated"in e&&e.last_updated&&(r=1e3*parseInt(e.last_updated));var n=void 0;"percent_change_24h"in e&&e.percent_change_24h&&(n=this.safeFloat(e,"percent_change_24h"));var i=void 0,s=void 0,a=void 0;if(void 0!==t){var o="price_"+t.quoteId;o in e&&e[o]&&(i=this.safeFloat(e,o)),s=t.symbol;var c="24h_volume_"+t.quoteId;c in e&&e[c]&&(a=this.safeFloat(e,c))}return{symbol:s,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:void 0,quoteVolume:a,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:"USD",r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return i={limit:1e4},t&&(i.convert=t),e.next=8,this.publicGetTicker(this.extend(i,r));case 8:for(s=e.sent,a={},o=0;o<s.length;o++)c=s[o],u=t.toLowerCase(),d=c.id+"/"+u,h=d,l=void 0,d in this.markets_by_id&&(l=this.markets_by_id[d],h=l.symbol),a[h]=this.parseTicker(c,l);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s=this.extend({convert:i.quote,id:i.baseId},r),e.next=7,this.publicGetTickerId(s);case 7:return a=e.sent,o=a[0],e.abrupt("return",this.parseTicker(o,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetTicker(this.extend({limit:0},t));case 3:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=a.symbol,c=a.name,8,u=this.currencyCode(o,c),i[u]={id:o,code:u,info:a,name:c,active:!0,fee:void 0,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return Object.keys(o).length&&(a+="?"+this.urlencode(o)),{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("error"in(c=e.sent))){e.next=11;break}if(!c.error){e.next=11;break}throw new l(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27811229-c1efb510-606c-11e7-9a36-84ba2ce412d8.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",doc:["https://coinmate.docs.apiary.io","https://coinmate.io/developers"],referral:"https://coinmate.io?referral=YTFkM1RsOWFObVpmY1ZjMGREQmpTRnBsWjJJNVp3PT0"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions"]},private:{post:["balances","bitcoinWithdrawal","bitcoinDepositAddresses","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","openOrders","redeemVoucher","sellInstant","sellLimit","transactionHistory","unconfirmedBitcoinDeposits"]}},markets:{"BTC/EUR":{id:"BTC_EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",precision:{amount:4,price:2}},"BTC/CZK":{id:"BTC_CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK",precision:{amount:4,price:2}},"LTC/BTC":{id:"LTC_BTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",precision:{amount:4,price:5}}},fees:{trading:{maker:5e-4,taker:.0035}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalances();case 3:for(t=e.sent,r=t.data,i={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=this.account(),o in r&&(c.free=r[o].available,c.used=r[o].reserved,c.total=r[o].balance),i[o]=c;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.publicGetOrderBook(this.extend({currencyPair:this.marketId(t),groupByPriceLimit:"False"},r));case 4:return i=e.sent,s=i.data,a=1e3*s.timestamp,e.abrupt("return",this.parseOrderBook(s,a,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetTicker(this.extend({currencyPair:this.marketId(t)},r));case 3:return i=e.sent,s=i.data,a=1e3*s.timestamp,o=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"amount"),quoteVolume:void 0,info:s});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=this.markets_by_id[e.currencyPair]),{id:e.transactionId,info:e,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetTransactions(this.extend({currencyPair:a.id,minutesIntoHistory:10},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},c="privatePost"+this.capitalize(i),u={currencyPair:this.marketId(t)},"market"===r?("buy"===i?u.total=s:u.amount=s,c+="Instant"):(u.amount=s,u.price=a,c+=this.capitalize(r)),e.next=7,this[c](this.extend(u,o));case 7:return d=e.sent,e.abrupt("return",{info:d,id:d.data.toString()});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancelOrder({orderId:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce().toString(),c=o+this.uid+this.apiKey,u=this.hmac(this.encode(c),this.encode(this.secret));s=this.urlencode(this.extend({clientId:this.uid,nonce:o,publicKey:this.apiKey,signature:u.toUpperCase()},n)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("error"in(c=e.sent))){e.next=11;break}if(!c.error){e.next=11;break}throw new l(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinnest",name:"coinnest",countries:["KR"],rateLimit:1e3,has:{fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38065728-7289ff5c-330d-11e8-9cc1-cf0cbcb606bc.jpg",api:{public:"https://api.coinnest.co.kr/api",private:"https://api.coinnest.co.kr/api",web:"https://www.coinnest.co.kr"},www:"https://www.coinnest.co.kr",doc:"https://www.coinnest.co.kr/doc/intro.html",fees:["https://coinnesthelp.zendesk.com/hc/ko/articles/115002110252-%EA%B1%B0%EB%9E%98-%EC%88%98%EC%88%98%EB%A3%8C%EB%8A%94-%EC%96%BC%EB%A7%88%EC%9D%B8%EA%B0%80%EC%9A%94-","https://coinnesthelp.zendesk.com/hc/ko/articles/115002110272-%EB%B9%84%ED%8A%B8%EC%BD%94%EC%9D%B8-%EC%88%98%EC%88%98%EB%A3%8C%EB%A5%BC-%EC%84%A0%ED%83%9D%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EA%B0%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%EC%9A%94-"]},api:{web:{get:["coin/allcoin"]},public:{get:["pub/ticker","pub/depth","pub/trades"]},private:{post:["account/balance","trade/add","trade/cancel","trade/fetchtrust","trade/trust"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:"0.002"}}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(d.length>0&&void 0!==d[0]?d[0]:{},"KRW",t="KRW".toLowerCase(),r=["btc","bch","btg","bcd","ubtc","btn","kst","ltc","act","eth","etc","ada","qtum","xlm","neo","gas","rpx","hsr","knc","tsl","tron","omg","wtc","mco","storm","gto","pxs","chat","ink","oc","hlc","ent","qbt","spc","put"],i=[],s=0;s<r.length;s++)o=(a=r[s])+"/"+t,c=this.commonCurrencyCode(a.toUpperCase()),u=c+"/KRW",i.push({id:o,symbol:u,base:c,quote:"KRW",baseId:a,quoteId:t,active:!0,info:void 0});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.time,n=t.symbol,i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPubTicker(this.extend({coin:i.baseId},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicGetPubDepth(this.extend({coin:i.baseId},r));case 7:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=t.symbol,a=this.priceToPrecision(s,i*n);return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:parseFloat(a),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetPubTrades(this.extend({coin:a.baseId},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostAccountBalance(t);case 5:r=e.sent,i={info:r},s=Object.keys(r),a=0;case 9:if(!(a<s.length)){e.next=27;break}if(o=s[a],2===(c=o.split("_")).length){e.next=14;break}return e.abrupt("continue",24);case 14:if("reserved"===(u=c[1])||"balance"===u){e.next=17;break}return e.abrupt("continue",24);case 17:d=c[0].toUpperCase(),(d=this.commonCurrencyCode(d))in i||(i[d]={free:0,used:0,total:0}),u="reserved"===u?"used":"free",i[d][u]=parseFloat(r[o]),("used"===u?"free":"used")in i[d]&&(i[d].total=this.sum(i[d].free,i[d].used));case 24:a++,e.next=9;break;case 27:return e.abrupt("return",this.parseBalance(i));case 28:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e,t){var r=t.symbol,n=1e3*parseInt(e.time),i=parseInt(e.status);i=4===i?"closed":3===i?"canceled":"open";var s=this.safeFloat(e,"amount_total"),a=this.safeFloat(e,"amount_over"),o=this.safeValue(e,"deals");return o=o?this.safeFloat(o,"sum_amount"):s-a,{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:i,symbol:r,type:"limit",side:e.type,price:this.safeFloat(e,"price"),cost:void 0,amount:s,filled:o,remaining:a,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),e.next=7,this.privatePostTradeAdd(this.extend({coin:c.baseId,type:i,number:s,price:a},o));case 7:return u=e.sent,d={id:u.id,time:this.seconds(),type:i,price:a,amount_total:s,amount_over:s,info:u},h=d.id,this.orders[h]=this.parseOrder(d,c),e.abrupt("return",d);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostTradeCancel(this.extend({id:t,coin:s.baseId},i));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostTradeFetchtrust(this.extend({id:t,coin:s.baseId},i));case 7:return a=e.sent,e.abrupt("return",this.parseOrder(a,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={coin:a.baseId},void 0!==r&&(o.since=parseInt(r/1e3)),void 0!==i&&(o.limit=i),e.next=12,this.privatePostTradeTrust(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c,a));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({type:"1"},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e,o=void 0;if("public"===t)(o=this.urlencode(n)).length&&(a+="?"+o);else{this.checkRequiredCredentials(),s=this.urlencode(this.extend(n,{key:this.apiKey,nonce:this.nonce()}));var c=this.hash(this.secret);s+="&signature="+this.hmac(this.encode(s),this.encode(c)),i={"Content-type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"public",i=l.length>2&&void 0!==l[2]?l[2]:"GET",s=l.length>3&&void 0!==l[3]?l[3]:{},a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,u=this.safeString(c,"status"),c&&"nil"!==c&&!u){e.next=13;break}throw d=this.safeValue({100:v,101:v,104:f,105:f,106:v},u,p),h=this.safeString(c,"msg",this.json(c)),new d(h);case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.ExchangeNotAvailable,m=l.InvalidOrder,y=l.OrderNotFound;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinone",name:"CoinOne",countries:["KR"],rateLimit:667,version:"v2",has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},markets:{"BCH/KRW":{id:"bch",symbol:"BCH/KRW",base:"BCH",quote:"KRW",baseId:"bch",quoteId:"krw"},"BTC/KRW":{id:"btc",symbol:"BTC/KRW",base:"BTC",quote:"KRW",baseId:"btc",quoteId:"krw"},"BTG/KRW":{id:"btg",symbol:"BTG/KRW",base:"BTG",quote:"KRW",baseId:"btg",quoteId:"krw"},"ETC/KRW":{id:"etc",symbol:"ETC/KRW",base:"ETC",quote:"KRW",baseId:"etc",quoteId:"krw"},"ETH/KRW":{id:"eth",symbol:"ETH/KRW",base:"ETH",quote:"KRW",baseId:"eth",quoteId:"krw"},"IOTA/KRW":{id:"iota",symbol:"IOTA/KRW",base:"IOTA",quote:"KRW",baseId:"iota",quoteId:"krw"},"LTC/KRW":{id:"ltc",symbol:"LTC/KRW",base:"LTC",quote:"KRW",baseId:"ltc",quoteId:"krw"},"OMG/KRW":{id:"omg",symbol:"OMG/KRW",base:"OMG",quote:"KRW",baseId:"omg",quoteId:"krw"},"QTUM/KRW":{id:"qtum",symbol:"QTUM/KRW",base:"QTUM",quote:"KRW",baseId:"qtum",quoteId:"krw"},"XRP/KRW":{id:"xrp",symbol:"XRP/KRW",base:"XRP",quote:"KRW",baseId:"xrp",quoteId:"krw"},"EOS/KRW":{id:"eos",symbol:"EOS/KRW",base:"EOS",quote:"KRW",baseId:"eos",quoteId:"krw"},"DATA/KRW":{id:"data",symbol:"DATA/KRW",base:"DATA",quote:"KRW",baseId:"data",quoteId:"krw"},"ZIL/KRW":{id:"zil",symbol:"ZIL/KRW",base:"ZIL",quote:"KRW",baseId:"zil",quoteId:"krw"},"KNC/KRW":{id:"knc",symbol:"KNC/KRW",base:"KNC",quote:"KRW",baseId:"knc",quoteId:"krw"},"ZRX/KRW":{id:"zrx",symbol:"ZRX/KRW",base:"ZRX",quote:"KRW",baseId:"zrx",quoteId:"krw"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001,tiers:{taker:[[0,.001],[1e8,9e-4],[1e9,8e-4],[5e9,7e-4],[1e10,6e-4],[2e10,5e-4],[3e10,4e-4],[4e10,3e-4],[5e10,2e-4]],maker:[[0,.001],[1e8,8e-4],[1e9,6e-4],[5e9,4e-4],[1e10,2e-4],[2e10,0],[3e10,0],[4e10,0],[5e10,0]]}}},exceptions:{405:v,104:y}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.privatePostAccountBalance();case 3:for(t=e.sent,r={info:t},i=this.omit(t,["errorCode","result","normalWallets"]),s=Object.keys(i),a=0;a<s.length;a++)o=s[a],c=i[o],u=o.toUpperCase(),o in this.currencies_by_id&&(u=this.currencies_by_id[o].code),d=parseFloat(c.avail),h=parseFloat(c.balance),l={free:d,used:h-d,total:h},r[u]=l;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},i=this.market(t),e.next=5,this.publicGetOrderbook(this.extend({currency:i.id,format:"json"},r));case 5:return s=e.sent,e.abrupt("return",this.parseOrderBook(s,void 0,"bid","ask","price","qty"));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(this.extend({currency:"all",format:"json"},t));case 6:for(r=e.sent,i={},s=r,a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=c,d=void 0,c in this.markets_by_id&&(d=this.markets_by_id[c],u=d.symbol,h=s[c],i[u]=this.parseTicker(h,d));return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},i=this.market(t),e.next=4,this.publicGetTicker(this.extend({currency:i.id,format:"json"},r));case 4:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=this.safeFloat(e,"last"),i=this.safeFloat(e,"yesterday_last"),s=void 0;return void 0!==n&&void 0!==i&&(s=i-n),{symbol:void 0!==t?t.symbol:void 0,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:n,last:n,previousClose:i,change:s,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.timestamp),n=void 0!==t?t.symbol:void 0,i=this.safeString(e,"is_ask"),s=void 0;return"1"===i?s="sell":"0"===i&&(s="buy"),{id:void 0,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:n,type:void 0,side:s,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"qty"),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetTrades(this.extend({currency:a.id,period:"hour",format:"json"},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o.completeOrders,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},"limit"===r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c={price:a,currency:this.marketId(t),qty:s},u="privatePostOrder"+this.capitalize(r)+this.capitalize(i),e.next=10,this[u](this.extend(c,o));case 10:return d=e.sent,void 0!==(h=this.safeString(d,"orderId"))&&(h=h.toUpperCase()),l=this.milliseconds(),f=a*s,v={info:d,id:h,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,symbol:t,type:r,side:i,price:a,cost:f,average:void 0,amount:s,filled:void 0,remaining:s,status:"open",fee:void 0},this.orders[h]=v,e.abrupt("return",v);case 18:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:if(s=void 0,a=void 0,void 0!==r){e.next=14;break}if(!(t in this.orders)){e.next=11;break}a=this.market(this.orders[t].symbol),e.next=12;break;case 11:throw new f(this.id+" fetchOrder() requires a symbol argument for order ids missing in the .orders cache (the order was created with a different instance of this class or within a different run of this code).");case 12:e.next=15;break;case 14:a=this.market(r);case 15:return e.prev=15,e.next=18,this.privatePostOrderOrderInfo(this.extend({order_id:t,currency:a.id},i));case 18:o=e.sent,s=this.parseOrder(o),this.orders[t]=s,e.next=35;break;case 23:if(e.prev=23,e.t0=e.catch(15),!(e.t0 instanceof y)){e.next=34;break}if(!(t in this.orders)){e.next=31;break}this.orders[t].status="canceled",s=this.orders[t],e.next=32;break;case 31:throw e.t0;case 32:e.next=35;break;case 34:throw e.t0;case 35:return e.abrupt("return",s);case 36:case"end":return e.stop()}},e,this,[[15,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={live:"open",partially_filled:"open",filled:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"info"),n=this.safeString(r,"orderId");void 0!==n&&(n=n.toUpperCase());var i=1e3*parseInt(r.timestamp),s=this.parseOrderStatus(this.safeString(e,"status")),a=void 0,o=this.safeString(r,"type");o=o.indexOf("ask")>=0?"sell":"buy";var c=this.safeFloat(r,"price"),u=this.safeFloat(r,"qty"),d=this.safeFloat(r,"remainQty"),h=void 0;void 0!==u&&(void 0!==d&&(h=u-d),void 0!==c&&(a=c*u));var l=this.safeString(r,"currency"),p={currency:l,cost:this.safeFloat(r,"fee"),rate:this.safeFloat(r,"feeRate")},f=void 0;if(void 0===t){var v=l.toLowerCase();v in this.markets_by_id&&(t=this.markets_by_id[v])}return void 0!==t&&(f=t.symbol),{info:e,id:n,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:f,type:"limit",side:o,price:c,cost:a,amount:u,filled:h,remaining:d,status:s,fee:p}}},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:{},s=this.safeValue(this.orders,t),a=void 0,o=void 0,c=void 0,void 0!==s){e.next=20;break}if(void 0!==r){e.next=9;break}throw new m(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `symbol` argument is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 9:if(void 0!==(o=this.safeFloat(i,"price"))){e.next=12;break}throw new m(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `price` parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 12:if(void 0!==(a=this.safeFloat(i,"qty"))){e.next=15;break}throw new m(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `qty` (amount) parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 15:if(void 0!==(c=this.safeFloat(i,"is_ask"))){e.next=18;break}throw new m(this.id+" cancelOrder could not find the order id "+t+" in orders cache. The order was probably created with a different instance of this class earlier. The `is_ask` (side) parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");case 18:e.next=24;break;case 20:o=s.price,a=s.amount,c="buy"===s.side?0:1,r=s.symbol;case 24:return u={order_id:t,price:o,qty:a,is_ask:c,currency:this.marketId(r)},this.orders[t].status="canceled",e.next=28,this.privatePostOrderCancel(this.extend(u,i));case 28:return e.abrupt("return",e.sent);case 29:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.implodeParams(e,n),o=this.omit(n,this.extractParams(e)),c=this.urls.api+"/";if("public"===t)c+=a,Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),c+=this.version+"/"+a;var u=this.nonce().toString(),d=this.json(this.extend({access_token:this.apiKey,nonce:u},n)),h=this.stringToBase64(this.encode(d));s=this.decode(h);var l=this.secret.toUpperCase();i={"content-type":"application/json","X-COINONE-PAYLOAD":h,"X-COINONE-SIGNATURE":this.hmac(h,this.encode(l),"sha512")}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("{"===s[0]||"["===s[0]){if(!("result"in a))throw new p(this.id+" "+s);if("success"!==a.result){var o=this.safeString(a,"errorCode"),c=this.id+" "+this.json(a),u=this.exceptions;throw o in u?new u[o](c):new p(c)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.NotSupported;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"coinspot",name:"CoinSpot",countries:["AU"],rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel"]}},markets:{"BTC/AUD":{id:"BTC",symbol:"BTC/AUD",base:"BTC",quote:"AUD"},"LTC/AUD":{id:"LTC",symbol:"LTC/AUD",base:"LTC",quote:"AUD"},"DOGE/AUD":{id:"DOGE",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD"}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostMyBalances();case 3:if(t=e.sent,r={info:t},"balance"in t)for(i=t.balance,s=Object.keys(i),a=0;a<s.length;a++)o=s[a],c=o.toUpperCase(),u={free:i[o],used:0,total:i[o]},"DRK"===c&&(c="DASH"),r[c]=u;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},i=this.market(t),e.next=5,this.privatePostOrders(this.extend({cointype:i.id},r));case 5:return s=e.sent,e.abrupt("return",this.parseOrderBook(s,void 0,"buyorders","sellorders","rate","amount"));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.publicGetLatest(r);case 3:return i=e.sent,s=(s=this.marketId(t)).toLowerCase(),a=i.prices[s],o=this.milliseconds(),c=this.safeFloat(a,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:void 0,low:void 0,bid:this.safeFloat(a,"bid"),bidVolume:void 0,ask:this.safeFloat(a,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:a});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.privatePostOrdersHistory(this.extend({cointype:this.marketId(e)},t))}},{key:"createOrder",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a="privatePostMy"+this.capitalize(r);if("market"===t)throw new p(this.id+" allows limit orders only");var o={cointype:this.marketId(e),amount:n,rate:i};return this[a](this.extend(o,s))}},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},new v(this.id+" cancelOrder () is not fully implemented yet");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!this.apiKey)throw new f(this.id+" requires apiKey for all requests");var a=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var o=this.nonce();s=this.json(this.extend({nonce:o},n)),i={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(66),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.BadRequest,m=l.ExchangeNotAvailable,y=l.AuthenticationError,g=l.InvalidOrder,b=l.InsufficientFunds,k=l.OrderNotFound,w=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"cointiger",name:"CoinTiger",countries:["CN"],hostname:"cointiger.pro",has:{fetchCurrencies:!1,fetchTickers:!0,fetchTradingLimits:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!1,cancelOrders:!0},headers:{Language:"en_US"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39797261-d58df196-5363-11e8-9880-2ec78ec5bd25.jpg",api:{public:"https://api.{hostname}/exchange/trading/api/market",private:"https://api.{hostname}/exchange/trading/api",exchange:"https://www.{hostname}/exchange",v2public:"https://api.{hostname}/exchange/trading/api/v2",v2:"https://api.{hostname}/exchange/trading/api/v2"},www:"https://www.cointiger.pro",referral:"https://www.cointiger.pro/exchange/register.html?refCode=FfvDtt",doc:"https://github.com/cointiger/api-docs-en/wiki"},api:{v2public:{get:["timestamp","currencys"]},v2:{get:["order/orders","order/match_results","order/make_detail","order/details"],post:["order","order/batch_cancel"]},public:{get:["history/kline","detail/merged","depth","trade","history/trade","detail"]},exchange:{get:["footer/tradingrule.html","api/public/market/detail"]},private:{get:["user/balance","order/new","order/history","order/trade"],post:["order"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:8e-4,taker:.0015}},exceptions:{1:p,2:v,5:g,6:g,8:k,16:y,100001:p,100002:m,100003:p,100005:y,110030:w},commonCurrencies:{FGC:"FoundGameCoin",TCT:"The Tycoon Chain Token"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b.length>0&&void 0!==b[0]?b[0]:{},e.next=3,this.v2publicGetCurrencys();case 3:for(t=e.sent,r=Object.keys(t.data),i=[],s=0;s<r.length;s++)for(a=r[s],o=t.data[a],c=0;c<o.length;c++)u=o[c],d=this.safeString(u,"baseCurrency"),h=this.safeString(u,"quoteCurrency"),l=d.toUpperCase(),p=h.toUpperCase(),l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),v=(f=d+h).toUpperCase(),m=l+"/"+p,y={amount:u.amountPrecision,price:u.pricePrecision},!0,g={id:f,uppercaseId:v,symbol:m,base:l,quote:p,baseId:d,quoteId:h,info:u,active:!0,precision:y,limits:{amount:{min:Math.pow(10,-y.amount),max:void 0},price:{min:Math.pow(10,-y.price),max:void 0},cost:{min:0,max:void 0}}},i.push(g);return this.options.marketsByUppercaseId=this.indexBy(i,"uppercaseId"),e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.safeInteger(e,"id"),i=this.safeFloat(e,"last"),s=this.safeFloat(e,"percentChange");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:s,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicGetDepth(this.extend({symbol:i.id,type:"step0"},r));case 7:if(s=e.sent,!("tick"in(a=s.data.depth_data))){e.next=15;break}if(a.tick){e.next=12;break}throw new p(this.id+" fetchOrderBook() returned empty response: "+this.json(s));case 12:return o=a.tick,c=a.ts,e.abrupt("return",this.parseOrderBook(o,c,"buys"));case 15:throw new p(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s=i.uppercaseId,e.next=7,this.exchangeGetApiPublicMarketDetail(r);case 7:if(a=e.sent,s in a){e.next=10;break}throw new p(this.id+" fetchTicker symbol "+t+" ("+s+") not found");case 10:return e.abrupt("return",this.parseTicker(a[s],i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.exchangeGetApiPublicMarketDetail(t);case 6:for(r=e.sent,i={},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=void 0,u=o,o in this.options.marketsByUppercaseId&&(u=this.options.marketsByUppercaseId[o].symbol,c=this.options.marketsByUppercaseId[o]),i[u]=this.parseTicker(r[o],c);return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeString(e,"orderId"),i=this.safeString(e,"type"),s=void 0,a=void 0;if(void 0!==i){var o=i.split("-");a=o[0],s=o[1]}var c=void 0,u=void 0,d=void 0;void 0===(a=this.safeString(e,"side",a))?(u=this.safeFloat(e.price,"amount"),c=this.safeFloat(e.volume,"amount"),d=this.safeFloat(e.deal_price,"amount")):(a=a.toLowerCase(),u=this.safeFloat(e,"price"),c=this.safeFloat2(e,"amount","volume"));var h=void 0,l=this.safeFloat(e,"fee");if(void 0!==l){var p=void 0;void 0!==t&&("buy"===a?p=t.base:"sell"===a&&(p=t.quote)),h={cost:l,currency:p}}void 0!==c&&void 0!==u&&void 0===d&&(d=c*u);var f=this.safeInteger2(e,"created_at","ts");f=this.safeInteger2(e,"created","mtime",f);var v=void 0;return void 0!==t&&(v=t.symbol),{info:e,id:r,order:n,timestamp:f,datetime:this.iso8601(f),symbol:v,type:s,side:a,price:u,amount:c,cost:d,fee:h}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:1e3,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.size=i),e.next=10,this.publicGetHistoryTrade(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data.trade_data,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),void 0===i&&(i=100),e.next=12,this.privateGetOrderTrade(this.extend({symbol:a.id,offset:1,limit:i},s));case 12:return o=e.sent,e.abrupt("return",this.parseTrades(o.data.list,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.id,e.open,e.high,e.low,e.close,e.vol]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:1e3,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,period:this.timeframes[r]},void 0!==s&&(c.size=s),e.next=11,this.publicGetHistoryKline(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data.kline_data,o,r,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserBalance(t);case 5:for(r=e.sent,i=r.data,s={info:r},a=0;a<i.length;a++)o=i[a],c=o.coin,u=c.toUpperCase(),u=this.commonCurrencyCode(u),c in this.currencies_by_id&&(u=this.currencies_by_id[c].code),(d=this.account()).used=parseFloat(o.lock),d.free=parseFloat(o.normal),d.total=this.sum(d.used,d.free),s[u]=d;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},void 0!==r){e.next=6;break}throw new f(this.id+" fetchOrderTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(r),c={symbol:o.id,order_id:t},e.next=12,this.v2GetOrderMakeDetail(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseTrades(u.data,o,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersByStatusV1",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,p.length>2&&void 0!==p[2]?p[2]:void 0,i=p.length>3&&void 0!==p[3]?p[3]:void 0,s=p.length>4&&void 0!==p[4]?p[4]:{},void 0!==r){e.next=7;break}throw new f(this.id+" fetchOrders requires a symbol argument");case 7:return e.next=9,this.loadMarkets();case 9:return a=this.market(r),void 0===i&&(i=100),o="open"===t?"privateGetOrderNew":"privateGetOrderHistory",e.next=14,this[o](this.extend({symbol:a.id,offset:1,limit:i},s));case 14:for(c=e.sent,u=c.data.list,d=[],h=0;h<u.length;h++)l=this.extend(u[h],{status:t}),d.push(this.parseOrder(l,a));return e.abrupt("return",d);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrdersV1",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatusV1("open",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrdersV1",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatusV1(void 0,t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrdersByStatesV2",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},void 0!==r){e.next=6;break}throw new f(this.id+" fetchOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(r),void 0===s&&(s=50),e.next=12,this.v2GetOrderOrders(this.extend({symbol:o.id,states:t,direct:"next",size:s},a));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.data,o,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatesV2("new,part_filled,filled,canceled,expired",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatesV2("new,part_filled",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByStatesV2("filled,canceled",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a={symbol:s.id,order_id:t.toString()},e.next=10,this.v2GetOrderDetails(this.extend(a,i));case 10:return o=e.sent,e.abrupt("return",this.parseOrder(o.data,s));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"open",2:"closed",3:"open",4:"canceled",6:"error"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeString(e,"side"),i=void 0,s=this.safeString(e,"type"),a=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeInteger2(e,"created_at","ctime"),c=this.safeInteger2(e,"mtime","finished-at"),u=void 0;if(void 0===t){var d=this.safeString(e,"symbol");d in this.markets_by_id&&(t=this.markets_by_id[d])}void 0!==t&&(u=t.symbol);var h=void 0,l=void 0,p=void 0,f=void 0,v=void 0,m=void 0,y=void 0;if(void 0!==n)n=n.toLowerCase(),l=this.safeFloat(e.volume,"amount"),h="remain_volume"in e?this.safeFloat(e.remain_volume,"amount"):void 0,p="deal_volume"in e?this.safeFloat(e.deal_volume,"amount"):void 0,f="price"in e?this.safeFloat(e.price,"amount"):void 0,y="age_price"in e?this.safeFloat(e.age_price,"amount"):void 0;else if(void 0!==s){var g=s.split("-");n=g[0],i=g[1],v=this.safeFloat(e,"deal_money"),f=this.safeFloat(e,"price"),y=this.safeFloat(e,"avg_price"),l=this.safeFloat2(e,"amount","volume"),p=this.safeFloat(e,"deal_volume");var b=this.safeFloat(e,"fee");if(void 0!==b){var k=void 0;void 0!==t&&("buy"===n?k=t.base:"sell"===n&&(k=t.quote)),m={cost:b,currency:k}}}return void 0!==l&&(void 0!==h?void 0===p&&(p=Math.max(0,l-h)):void 0!==p&&(v=p*f,void 0===h&&(h=Math.max(0,l-p)))),void 0===a&&void 0!==h&&0===h&&(a="closed"),{info:e,id:r,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:c,symbol:u,type:i,side:n,price:f,average:y,cost:v,amount:l,filled:p,remaining:h,status:a,fee:m,trades:void 0}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:if(this.password){e.next=6;break}throw new y(this.id+" createOrder requires exchange.password to be set to user trading password (not login password!)");case 6:if(this.checkRequiredCredentials(),c=this.market(t),u="limit"===r?1:2,d={symbol:c.id,side:i.toUpperCase(),type:u,volume:this.amountToPrecision(t,s),capital_password:this.password},"market"!==r||"buy"!==i){e.next=14;break}if(void 0!==a){e.next=13;break}throw new g(this.id+" createOrder requires price argument for market buy orders to calculate total cost according to exchange rules");case 13:d.volume=this.amountToPrecision(t,parseFloat(s)*parseFloat(a));case 14:return d.price="limit"===r?this.priceToPrecision(t,a):void 0===a?this.priceToPrecision(t,0):this.priceToPrecision(t,a),e.next=17,this.privatePostOrder(this.extend(d,o));case 17:return h=e.sent,l=this.milliseconds(),e.abrupt("return",{info:h,id:h.data.order_id.toString(),timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:i,price:a,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 20:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:if(void 0!==r){e.next=6;break}throw new f(this.id+" cancelOrder requires a symbol argument");case 6:return s=this.market(r),e.next=9,this.privateDeleteOrder(this.extend({symbol:s.id,order_id:t},i));case 9:return a=e.sent,e.abrupt("return",{id:t,symbol:r,info:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelOrders",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:if(void 0!==r){e.next=6;break}throw new f(this.id+" cancelOrders requires a symbol argument");case 6:return s=this.market(r),a=s.id,(o={})[a]=t,c={orderIdList:this.json(o)},e.next=13,this.v2PostOrderBatchCancel(this.extend(c,i));case 13:return u=e.sent,e.abrupt("return",{info:u});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.checkRequiredCredentials();var a=this.implodeParams(this.urls.api[t],{hostname:this.hostname});if(a+="/"+this.implodeParams(e,n),"private"===t||"v2"===t){for(var o=this.milliseconds().toString(),c=this.keysort(this.extend({time:o},n)),u=Object.keys(c),d="",h=0;h<u.length;h++)d+=u[h]+c[u[h]].toString();d+=this.secret;var l=this.hmac(this.encode(d),this.encode(this.secret),"sha512"),p="POST"===r?{}:c;a+="?"+this.urlencode(this.keysort(this.extend({api_key:this.apiKey,time:o},p))),a+="&sign="+l,"POST"===r&&(s=this.urlencode(c),i={"Content-Type":"application/x-www-form-urlencoded"})}else"public"===t||"v2public"===t?a+="?"+this.urlencode(this.extend({api_key:this.apiKey},n)):Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])&&"code"in a){var o=this.safeString(a,"code");if(void 0!==o){var c=this.safeString(a,"msg"),u=this.id+" "+this.json(a);if("0"!==o){var d=this.exceptions;if(o in d){if("1"===o){if(c.indexOf("Balance insufficient")>=0)throw new b(u)}else if("2"===o){if("offsetNot Null"===c)throw new p(u);if("api_keyNot EXIST"===c)throw new y(u);if("price precision exceed the limit"===c)throw new g(u);if("Parameter error"===c)throw new v(u)}throw new d[o](u)}throw new p(this.id+' unknown "error" value: '+this.json(a))}if(u.indexOf("\u8ba2\u5355\u72b6\u6001\u4e0d\u80fd\u53d6\u6d88,\u8ba2\u5355\u53d6\u6d88\u5931\u8d25")>=0)throw u.indexOf("Parameter error")>=0?new k(u):new g(u);if(u.indexOf("\u6839\u636e\u8ba2\u5355\u53f7\u6ca1\u6709\u67e5\u8be2\u5230\u8ba2\u5355,\u8ba2\u5355\u53d6\u6d88\u5931\u8d25")>=0)throw new k(u)}}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(64);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"coolcoin",name:"CoolCoin",countries:["HK"],urls:{logo:"https://user-images.githubusercontent.com/1294454/36770529-be7b1a04-1c5b-11e8-9600-d11f1996b539.jpg",api:{web:"https://www.coolcoin.com/coin",rest:"https://www.coolcoin.com/api/v1"},www:"https://www.coolcoin.com",doc:"https://www.coolcoin.com/help.api.html",fees:"https://www.coolcoin.com/spend.price.html"},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,BCH:.002,ETH:.01,ETC:.01,LTC:.001,TBC:"1%",HSR:"1%",NEO:"1%",SDC:"1%",EOS:"1%",BTM:"1%",XAS:"1%",ACT:"1%",SAK:"1%",GCS:"1%",HCC:"1%",QTUM:"1%",GEC:"1%",TRX:"1%",IFC:"1%",PAY:"1%",PGC:"1%",KTC:"1%",INT:"1%",LSK:"0.5%",SKT:"1%",SSS:"1%",BT1:"1%",BT2:"1%"}}},options:{quoteIds:["btc","usdt"]}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10).ArgumentsRequired;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"coss",name:"COSS",countries:["SG","NL"],rateLimit:1e3,version:"v1",certified:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/50328158-22e53c00-0503-11e9-825c-c5cfd79bfa74.jpg",api:{trade:"https://trade.coss.io/c/api/v1",engine:"https://engine.coss.io/api/v1",public:"https://trade.coss.io/c/api/v1",web:"https://trade.coss.io/c",exchange:"https://exchange.coss.io/api"},www:"https://www.coss.io",doc:"https://api.coss.io/v1/spec",referral:"https://www.coss.io/c/reg?r=OWCMHQVW2Q"},has:{fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchBalance:!0,fetchOrderBook:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,createOrder:!0,cancelOrder:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w"},api:{exchange:{get:["getmarketsummaries"]},public:{get:["market-price","exchange-info"]},web:{get:["coins/getinfo/all","order/symbols","coins/get_base_list"]},engine:{get:["dp","ht","cs"]},trade:{get:["ping","time","account/balances","account/details"],post:["order/add","order/details","order/list/open","order/list/completed","order/list/all","order/trade-detail"],delete:["order/cancel"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.002,maker:.0014},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_,C,O,S,E=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.length>0&&void 0!==E[0]?E[0]:{},e.next=3,this.publicGetExchangeInfo(t);case 3:for(r=e.sent,s=[],a=this.safeValue(r,"symbols",[]),o=this.safeValue(r,"base_currencies",[]),c=this.indexBy(o,"currency_code"),u=this.safeValue(r,"coins",[]),d=this.indexBy(u,"currency_code"),h=0;h<a.length;h++)l=a[h],p=l.symbol,f=p.split("_"),v=i(f,2),m=v[0],y=v[1],g=this.commonCurrencyCode(m),b=this.commonCurrencyCode(y),k=g+"/"+b,w={amount:this.safeInteger(l,"amount_limit_decimal"),price:this.safeInteger(l,"price_limit_decimal")},x=this.safeValue(l,"allow_trading",!1),T=this.safeValue(c,m,{}),_=this.safeFloat(T,"minimum_total_order"),C=this.safeValue(d,m,{}),O=Math.pow(10,-w.amount),S=this.safeFloat(C,"minimum_order_amount",O),s.push({symbol:k,id:p,baseId:m,quoteId:y,base:g,quote:b,active:x,precision:w,limits:{amount:{min:S,max:void 0},price:{min:void 0,max:void 0},cost:{min:_,max:void 0}},info:l});return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.length>0&&void 0!==k[0]?k[0]:{},e.next=3,this.webGetCoinsGetinfoAll(t);case 3:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=this.safeString(a,"currency_code"),c=this.commonCurrencyCode(o),u=this.safeString(a,"name"),d=this.safeValue(a,"allow_buy"),h=this.safeValue(a,"allow_sell"),l=this.safeValue(a,"allow_withdrawn"),p=this.safeValue(a,"allow_deposit"),f=d&&h&&l&&p,v=this.safeFloat(a,"withdrawn_fee"),m=this.safeString(a,"token_type"),y=this.safeString(a,"decimal_format"),g=8,void 0!==y&&(b=y.split("."),b.length>1&&b[1].length>1&&(g=b[1].length)),i[c]={id:o,code:c,info:a,name:u,active:f,fee:v,precision:g,type:m,limits:{amount:{min:this.safeFloat(a,"minimum_order_amount"),max:void 0},withdraw:{min:this.safeFloat(a,"minimum_withdrawn_amount"),max:void 0}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.tradeGetAccountBalances(t);case 5:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=this.safeString(a,"currency_code"),c=this.commonCurrencyCode(o),u=this.safeFloat(a,"total"),d=this.safeFloat(a,"in_order"),h=this.safeFloat(a,"available"),i[c]={total:u,used:d,free:h};return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[parseInt(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,tt:this.timeframes[r]},e.next=10,this.engineGetCs(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.series,o,r,i,s));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.marketId(t),s={symbol:i},e.next=8,this.engineGetDp(this.extend(s,r));case 8:return a=e.sent,o=this.safeInteger(a,"time"),e.abrupt("return",this.parseOrderBook(a,o));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(this.safeString(e,"TimeStamp")),n=void 0,s=this.safeString(e,"MarketName");if(void 0!==s&&(s=s.replace("-","_")),void 0===(t=this.safeValue(this.markets_by_id,s,t))&&void 0!==s){var a=s.split("_"),o=i(a,2),c=o[0],u=o[1];n=this.commonCurrencyCode(c)+"/"+this.commonCurrencyCode(u)}void 0!==t&&(n=t.symbol);var d=this.safeFloat(e,"PrevDay"),h=this.safeFloat(e,"Last"),l=void 0,p=void 0;return void 0!==h&&void 0!==d&&(l=h-d,d>0&&(p=l/d*100)),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:d,close:h,last:h,previousClose:void 0,change:l,percentage:p,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.exchangeGetGetmarketsummaries(t);case 6:for(r=e.sent,i=this.safeValue(r,"result",[]),s={},a=0;a<i.length;a++)o=this.parseTicker(i[a]),c=o.symbol,s[c]=o;return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.fetchTickers([t],r);case 3:return i=e.sent,e.abrupt("return",i[t]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},e.next=9,this.engineGetHt(this.extend(o,s));case 9:return c=e.sent,e.abrupt("return",this.parseTrades(c.history,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTradeFee",value:function(e){if(void 0===e)return e;var t=e.split(" "),r=t.length,n=t[0],i=void 0;return r>1&&(i=this.commonCurrencyCode(t[1])),{cost:n,currency:i}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeInteger(e,"time"),s=this.safeString(e,"order_id"),a=this.safeString(e,"order_side");void 0!==a&&(a=a.toLowerCase());var o=void 0,c=this.safeString(e,"symbol");if(void 0!==c){if(void 0===(t=this.safeValue(this.markets_by_id,c,t))){var u=c.split("_"),d=i(u,2),h=d[0],l=d[1];o=this.commonCurrencyCode(h)+"/"+this.commonCurrencyCode(l)}}else void 0!==t&&(o=t.symbol);var p=void 0,f=this.safeFloat(e,"price"),v=this.safeFloat2(e,"qty","quantity");void 0!==v&&void 0!==f&&(p=f*v);var m={info:e,timestamp:n,datetime:this.iso8601(n),symbol:o,id:r,order:s,type:void 0,takerOrMaker:void 0,side:a,price:f,cost:p,amount:v},y=this.parseTradeFee(this.safeString(e,"fee"));if(void 0!==y){var g=this.parseTradeFee(this.safeString(e,"additional_fee"));void 0===g?m.fee=y:m.fees=[y,g]}return m}},{key:"fetchOrdersByType",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:void 0,i=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},void 0!==r){e.next=6;break}throw new p(this.id+" fetchOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(r),c={symbol:o.id},void 0!==s&&(c.limit=s),u="tradePostOrderList"+t,e.next=14,this[u](this.extend(c,a));case 14:return d=e.sent,h=void 0,h=Array.isArray(d)?d:this.safeValue(d,"list",[]),e.abrupt("return",this.parseOrders(h,o,i,s));case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByType("All",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByType("Completed",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByType("Open",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradePostOrderDetails(this.extend({order_id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,void 0!==r&&(o=this.market(r)),c={order_id:t},e.next=11,this.tradePostOrderTradeDetail(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseTrades(u,o,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){if(void 0===e)return e;return this.safeString({OPEN:"open",CANCELLED:"canceled",FILLED:"closed",PARTIAL_FILL:"open",CANCELLING:"open"},e.toUpperCase(),e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"order_id"),n=void 0,s=this.safeString(e,"order_symbol");if(void 0===s)void 0!==t&&(n=t.symbol);else if(s=(s=s.toUpperCase()).replace("-","_"),void 0===(t=this.safeValue(this.markets_by_id,s,t))){var a=s.split("_"),o=i(a,2),c=o[0],u=o[1];n=this.commonCurrencyCode(c)+"/"+this.commonCurrencyCode(u)}else n=t.symbol;var d=this.safeInteger(e,"createTime"),h=this.parseOrderStatus(this.safeString(e,"status")),l=this.safeFloat(e,"order_price"),p=this.safeFloat(e,"executed"),f=this.safeString(e,"type"),v=this.safeFloat(e,"order_size"),m=void 0;void 0!==v&&void 0!==p&&(m=v-p);var y=this.safeFloat(e,"avg"),g=this.safeString(e,"order_side");void 0!==g&&(g=g.toLowerCase());var b=this.safeFloat(e,"total");return{info:e,id:r,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:n,type:f,side:g,price:l,amount:v,cost:b,average:y,filled:p,remaining:m,status:h,fee:void 0,trades:void 0}}},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={order_symbol:c.id,order_price:parseFloat(this.priceToPrecision(t,a)),order_size:parseFloat(this.amountToPrecision(t,s)),order_side:i.toUpperCase(),type:r},e.next=8,this.tradePostOrderAdd(this.extend(u,o));case 8:return d=e.sent,e.abrupt("return",this.parseOrder(d,c));case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},void 0!==r){e.next=4;break}throw new p(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a={order_id:t,order_symbol:s.id},e.next=10,this.tradeDeleteOrderCancel(this.extend(a,i));case 10:return o=e.sent,e.abrupt("return",this.parseOrder(o));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("trade"===t){this.checkRequiredCredentials();var o=this.nonce(),c=this.extend({timestamp:o},n),u=void 0;"GET"===r?a+="?"+(u=this.urlencode(c)):s=u=this.json(c),i={Signature:this.hmac(this.encode(u),this.encode(this.secret)),Authorization:this.apiKey}}else Object.keys(n).length&&(a+="?"+this.urlencode(n));return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.BadRequest,m=p.InvalidNonce,y=p.RequestTimeout,g=p.ExchangeNotAvailable,b=p.InsufficientFunds,k=p.OrderNotFound,w=p.InvalidOrder,x=p.DDoSProtection,T=p.AuthenticationError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"crex24",name:"CREX24",countries:["EE"],rateLimit:500,version:"v2",has:{fetchCurrencies:!0,fetchDepositAddress:!0,CORS:!1,fetchBidsAsks:!0,fetchTickers:!0,fetchOHLCV:!1,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,fetchTradingFees:!1,fetchFundingFees:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!0,fetchOrderTrades:!0,editOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47813922-6f12cc00-dd5d-11e8-97c6-70f957712d47.jpg",api:"https://api.crex24.com",www:"https://crex24.com",referral:"https://crex24.com/?refid=slxsjsjtil8xexl9hksr",doc:"https://docs.crex24.com/trade-api/v2",fees:"https://crex24.com/fees"},api:{public:{get:["currencies","instruments","tickers","recentTrades","orderBook"]},trading:{get:["orderStatus","activeOrders","orderHistory","tradeHistory","tradeFee","moneyTransferStatus"],post:["placeOrder","modifyOrder","cancelOrdersById","cancelOrdersByInstrument","cancelAllOrders"]},account:{get:["balance","depositAddress","moneyTransfers","moneyTransferStatus","previewWithdrawal"],post:["withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:-.01},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{YOYO:"YOYOW",BCC:"BCH"},options:{fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",defaultLimitOrderType:"limit",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{exact:{"Parameter 'filter' contains invalid value.":v,"Mandatory parameter 'instrument' is missing.":v,"The value of parameter 'till' must be greater than or equal to the value of parameter 'from'.":v,"Failed to verify request signature.":T,"Nonce error. Make sure that the value passed in the 'X-CREX24-API-NONCE' header is greater in each consecutive request than in the previous one for the corresponding API-Key provided in 'X-CREX24-API-KEY' header.":m,"Market orders are not supported by the instrument currently.":w},broad:{"API Key":T,"Insufficient funds":b}}})}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetInstruments();case 3:for(t=e.sent,r=[],n=0;n<t.length;n++)s=t[n],a=s.symbol,o=s.baseCurrency,c=s.quoteCurrency,u=this.commonCurrencyCode(o),d=this.commonCurrencyCode(c),h=u+"/"+d,l={amount:this.precisionFromString(this.truncate_to_string(s.tickSize,8)),price:this.precisionFromString(this.truncate_to_string(s.minPrice,8))},p="active"===s.state,r.push({id:a,symbol:h,base:u,quote:d,baseId:o,quoteId:c,info:s,active:p,precision:l,limits:{amount:{min:this.safeFloat(s,"minVolume"),max:void 0},price:{min:Math.pow(10,-l.price),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n={},s=0;s<r.length;s++)a=r[s],o=a.symbol,c=this.commonCurrencyCode(o),u=this.safeInteger(a,"withdrawalPrecision"),d=this.safeValue(a,"BaseAddress"),h=a.depositsAllowed&&a.withdrawalsAllowed&&!a.isDelisted,l=a.isFiat?"fiat":"crypto",n[c]={id:o,code:c,address:d,info:a,type:l,name:this.safeString(a,"name"),active:h,fee:this.safeFloat(a,"flatWithdrawalFee"),precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(a,"minDeposit"),max:void 0},withdraw:{min:this.safeFloat(a,"minWithdrawal"),max:this.safeFloat(a,"maxWithdrawal")}}};return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return r={},e.next=6,this.accountGetBalance(this.extend(r,t));case 6:for(n=e.sent,s={info:n},a=0;a<n.length;a++)o=n[a],c=this.safeString(o,"currency"),u=c,u=c in this.currencies_by_id?this.currencies_by_id[c].code:this.commonCurrencyCode(u),d=this.safeFloat(o,"available"),h=this.safeFloat(o,"reserved"),l=this.sum(d,h),s[u]={free:d,used:h,total:l};return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={instrument:s.id},void 0!==r&&(a.limit=r),e.next=9,this.publicGetOrderBook(this.extend(a,n));case 9:return o=e.sent,e.abrupt("return",this.parseOrderBook(o,void 0,"buyLevels","sellLevels","price","volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),i=void 0,s=this.safeString(e,"instrument");if(void 0!==(t=this.safeValue(this.markets_by_id,s,t)))i=t.symbol;else if(void 0!==s){var a=s.split("-"),o=n(a,2),c=o[0],u=o[1];i=this.commonCurrencyCode(c)+"/"+this.commonCurrencyCode(u)}var d=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"percentChange"),average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),s={instrument:n.id},e.next=7,this.publicGetTickers(this.extend(s,r));case 7:if(a=e.sent,!(a.length<1)){e.next=11;break}throw new f(this.id+" fetchTicker could not load quotes for symbol "+t);case 11:return e.abrupt("return",this.parseTicker(a[0],n));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,this.loadMarkets();case 4:return n={},void 0!==t&&(s=this.marketIds(t),n.instrument=s.join(",")),e.next=8,this.publicGetTickers(this.extend(n,r));case 8:return a=e.sent,e.abrupt("return",this.parseTickers(a,t));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],n=0;n<e.length;n++)r.push(this.parseTicker(e[n]));return this.filterByArray(r,"symbol",t)}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"volume"),s=void 0;void 0!==n&&void 0!==i&&(s=i*n);var a=this.safeString(e,"side"),o=this.safeString(e,"orderId"),c=void 0,u=this.safeString(e,"instrument");void 0!==(t=this.safeValue(this.markets_by_id,u,t))&&(c=t.symbol);var d=void 0,h=this.safeString(e,"feeCurrency"),l=this.safeValue(this.currencies_by_id,h),p=void 0;void 0!==l?p=l.code:void 0!==t&&(p=t.quote);var f=this.safeFloat(e,"fee");void 0!==f&&(d={cost:f,currency:p});return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,id:void 0,order:o,type:void 0,takerOrMaker:void 0,side:a,price:n,cost:s,amount:i,fee:d}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={instrument:a.id},void 0!==n&&(o.limit=n),e.next=10,this.publicGetRecentTrades(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,n));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={submitting:"open",unfilledActive:"open",partiallyFilledActive:"open",filled:"closed",partiallyFilledCancelled:"canceled",unfilledCancelled:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseOrderStatus(this.safeString(e,"status")),n=this.findSymbol(this.safeString(e,"symbol"),t),i=this.parse8601(this.safeString(e,"timestamp")),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"volume"),o=this.safeFloat(e,"remainingVolume"),c=void 0,u=this.parse8601(this.safeString(e,"lastUpdate")),d=void 0;void 0!==o&&void 0!==a&&(c=a-o,this.options.parseOrderToPrecision&&(c=parseFloat(this.amountToPrecision(n,c))),c=Math.max(c,0),void 0!==s&&(d=s*c));var h=this.safeString(e,"id"),l=this.safeString(e,"type");"market"===l&&0===s&&void 0!==d&&void 0!==c&&d>0&&c>0&&(s=d/c);var p=this.safeString(e,"side"),f=void 0;return void 0!==d&&(c&&(f=d/c),this.options.parseOrderToPrecision&&(d=parseFloat(this.costToPrecision(n,d)))),{info:e,id:h,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:u,symbol:n,type:l,side:p,price:s,amount:a,cost:d,average:f,filled:c,remaining:o,status:r,fee:void 0,trades:void 0}}},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>4&&void 0!==f[4]?f[4]:void 0,o=f.length>5&&void 0!==f[5]?f[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),u={instrument:c.id,volume:this.amountToPrecision(t,s),type:r,side:n},d=!1,h=!1,"limit"===r?d=!0:"stopLimit"===r&&(d=!0,h=!0),!d){e.next=13;break}if(void 0!==a){e.next=12;break}throw new w(this.id+" createOrder method requires a price argument for a "+r+" order");case 12:u.price=this.priceToPrecision(t,a);case 13:if(!h){e.next=20;break}if(void 0!==(l=this.safeFloat(o,"stopPrice"))){e.next=19;break}throw new w(this.id+" createOrder method requires a stopPrice extra param for a "+r+" order");case 19:u.stopPrice=this.priceToPrecision(t,l);case 20:return e.next=22,this.tradingPostPlaceOrder(this.extend(u,o));case 22:return p=e.sent,e.abrupt("return",this.parseOrder(p,c));case 24:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n={id:t},e.next=7,this.tradingGetOrderStatus(this.extend(n,r));case 7:if(s=e.sent,!(s.length<1)){e.next=11;break}throw new k(this.id+" fetchOrder could not fetch order id "+t);case 11:return e.abrupt("return",this.parseOrder(s[0]));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersByIds",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return a={id:t.join(",")},e.next=9,this.tradingGetOrderStatus(this.extend(a,s));case 9:return o=e.sent,e.abrupt("return",this.parseOrders(o,void 0,r,n));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.instrument=a.id),e.next=11,this.tradingGetActiveOrders(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c,a,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.instrument=a.id),void 0!==r&&(o.from=this.ymdhms(r,"T")),void 0!==n&&(o.limit=n),e.next=13,this.tradingGetActiveOrders(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseOrders(c,a,r,n));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.tradingPostCancelOrdersById(this.extend({ids:[parseInt(t)]},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllOrders",value:function(){var e=s(i.mark(function e(){var t,r,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:void 0,t=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this.tradingPostCancelAllOrders(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.instrument=a.id),void 0!==r&&(o.from=this.ymdhms(r,"T")),void 0!==n&&(o.limit=n),e.next=13,this.tradingGetTradeHistory(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,n));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.currency(t),o.currency=a.id),void 0!==r&&(o.from=this.ymd(r,"T")),e.next=12,this.accountGetMoneyTransfers(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c,a,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchTransactions(t,r,n,this.extend({type:"deposit"},s)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchTransactions(t,r,n,this.extend({type:"withdrawal"},s)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({pending:"pending",success:"ok",failed:"failed"},e,e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeString(e,"address"),i=this.safeString(e,"paymentId"),s=this.safeValue(e,"txId"),a=void 0,o=this.safeString(e,"currency");o in this.currencies_by_id?t=this.currencies_by_id[o]:a=this.commonCurrencyCode(o),void 0!==t&&(a=t.code);var c=this.safeString(e,"type"),u=this.parse8601(e,"createdAt"),d=this.parse8601(e,"processedAt"),h=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeFloat(e,"amount"),p={cost:this.safeFloat(e,"fee"),currency:a};return{info:e,id:r,txid:s,timestamp:u,datetime:this.iso8601(u),address:n,tag:i,type:c,amount:l,currency:a,status:h,updated:d,fee:p}}},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),s={currency:n.id},e.next=7,this.accountGetDepositAddress(this.extend(s,r));case 7:return a=e.sent,o=this.safeString(a,"address"),c=this.safeString(a,"paymentId"),e.abrupt("return",{currency:t,address:this.checkAddress(o),tag:c,info:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={currency:o.id,address:n,amount:parseFloat(this.currencyToPrecision(t,r))},void 0!==s&&(c.paymentId=s),e.next=10,this.accountPostWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",this.parseTransaction(u));case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+t+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o));var c=this.urls.api+a;if("trading"===t||"account"===t){this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.base64ToBinary(this.secret),h=a+u;i={"X-CREX24-API-KEY":this.apiKey,"X-CREX24-API-NONCE":u},"POST"===r&&(i["Content-Type"]="application/json",h+=s=this.json(n));var l=this.stringToBase64(this.hmac(this.encode(h),d,"sha512","binary"));i["X-CREX24-API-SIGN"]=l}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(this.isJsonEncodedObject(s)&&!(e>=200&&e<300)){var o=this.safeString(a,"errorDescription"),c=this.id+" "+this.json(a),u=this.exceptions.exact;if(o in u)throw new u[o](c);var d=this.exceptions.broad,h=this.findBroadlyMatchedKey(d,o);if(void 0!==h)throw new d[h](c);if(400===e)throw new v(c);if(401===e)throw new T(c);if(403===e)throw new T(c);if(429===e)throw new x(c);if(500===e)throw new f(c);if(503===e)throw new g(c);if(504===e)throw new y(c);throw new f(c)}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10).ExchangeError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"crypton",name:"Crypton",countries:["EU"],rateLimit:500,version:"1",has:{fetchDepositAddress:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTicker:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41334251-905b5a78-6eed-11e8-91b9-f3aa435078a1.jpg",api:"https://api.cryptonbtc.com",www:"https://cryptonbtc.com",doc:"https://cryptonbtc.docs.apiary.io/",fees:"https://help.cryptonbtc.com/hc/en-us/articles/360004089872-Fees"},api:{public:{get:["currencies","markets","markets/{id}","markets/{id}/orderbook","markets/{id}/trades","tickers"]},private:{get:["balances","orders","orders/{id}","fills","deposit_address/{currency}","deposits"],post:["orders"],delete:["orders/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}}})}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=t.result,n=[],s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=c.base,d=c.quote,h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f={amount:8,price:this.precisionFromString(this.safeString(c,"priceStep"))},v=c.enabled,n.push({id:o,symbol:p,base:h,quote:l,baseId:u,quoteId:d,active:v,info:c,precision:f,limits:{amount:{min:this.safeFloat(c,"minSize"),max:void 0},price:{min:this.safeFloat(c,"priceStep"),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalances(t);case 5:for(r=e.sent,n={info:r},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=this.commonCurrencyCode(o),u=this.account(),d=r[o],h=parseFloat(d.total),l=parseFloat(d.free),p=parseFloat(d.locked),u.total=h,u.free=l,u.used=p,n[c]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketsIdOrderbook(this.extend({id:this.marketId(t)},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var n=this.safeFloat(e,"last"),i=this.safeFloat(e,"change24h",0);return{symbol:r,timestamp:void 0,datetime:void 0,high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:100*i,average:void 0,baseVolume:this.safeFloat(e,"volume24h"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n=r.result,s=Object.keys(n),a={},o=0;o<s.length;o++)c=s[o],u=n[c],d=void 0,h=c,c in this.markets_by_id?(d=this.markets_by_id[c],h=d.symbol):h=this.parseSymbol(c),a[h]=this.parseTicker(u,d);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.time),n=void 0;if("market"in e){var i=e.market;i in this.markets_by_id?t=this.markets_by_id[i]:n=this.parseSymbol(i)}void 0!==t&&(n=t.symbol);var s=void 0;return"fee"in e&&(s={cost:this.safeFloat(e,"fee"),currency:this.commonCurrencyCode(e.feeCurrency)}),{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"size"),order:this.safeString(e,"orderId"),fee:s}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={id:a.id},void 0!==n&&(o.limit=n),e.next=10,this.publicGetMarketsIdTrades(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.result,a,r,n));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={},void 0!==n&&(o.limit=n),e.next=11,this.privateGetFills(this.extend(o,s));case 11:return c=e.sent,u=this.parseTrades(c.result,a,r,n),e.abrupt("return",this.filterBySymbol(u,t));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.id.toString(),r=e.status,n=e.side,i=e.type,s=void 0,a=e.market;s=a in this.markets_by_id?this.markets_by_id[a].symbol:this.parseSymbol(a);var o=this.parse8601(e.createdAt),c=void 0;"fee"in e&&(c={cost:parseFloat(e.fee),currency:this.commonCurrencyCode(e.feeCurrency)});var u=this.safeFloat(e,"price"),d=this.safeFloat(e,"size"),h=this.safeFloat(e,"filledSize"),l=d-h,p=h*u;return{info:e,id:t,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:s,type:i,side:n,price:u,cost:p,average:void 0,amount:d,filled:h,remaining:l,status:r,fee:c}}},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n={id:t},e.next=7,this.privateGetOrdersId(this.extend(n,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s.result));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(a.market=this.marketId(t)),e.next=11,this.privateGetOrders(this.extend(a,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c.result,o,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:return c={market:this.marketId(t),side:n,type:r,size:this.amountToPrecision(t,s),price:this.priceToPrecision(t,a)},e.next=7,this.privatePostOrders(this.extend(c,o));case 7:return u=e.sent,e.abrupt("return",this.parseOrder(u.result));case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n={id:t},e.next=7,this.privateDeleteOrdersId(this.extend(n,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s.result));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseSymbol",value:function(e){var t=e.split("-"),r=n(t,2),i=r[0],s=r[1];return(i=this.commonCurrencyCode(i))+"/"+(s=this.commonCurrencyCode(s))}},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetDepositAddressCurrency(this.extend({currency:n.id},r));case 6:return s=e.sent,a=s.result,o=this.safeString(a,"address"),c=this.safeString(a,"tag"),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:c,info:s});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));"GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o));var c=this.urls.api+a;if("private"===t){this.checkRequiredCredentials();var u=this.milliseconds().toString(),d="";"GET"!==r&&Object.keys(o).length&&(d=s=this.json(o));var h=u+r+a+d,l=this.hmac(this.encode(h),this.encode(this.secret),"sha256");i={"CRYPTON-APIKEY":this.apiKey,"CRYPTON-SIGNATURE":l,"CRYPTON-TIMESTAMP":u,"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("{"===s[0]&&!this.safeValue(a,"success"))throw new p(this.id+" "+s)}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.InsufficientFunds,v=l.InvalidOrder,m=l.OrderNotFound,y=l.OrderNotCached,g=l.InvalidNonce;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"cryptopia",name:"Cryptopia",rateLimit:1500,countries:["NZ"],has:{CORS:!1,createMarketOrder:!1,fetchClosedOrders:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchTransactions:!1,fetchWithdrawals:!0,fetchDeposits:!0,fetchOHLCV:!0,fetchOrder:"emulated",fetchOrderBooks:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchTickers:!0,deposit:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29484394-7b4ea6e2-84c6-11e7-83e5-1fccf4b2dc81.jpg",api:{public:"https://www.cryptopia.co.nz/api",private:"https://www.cryptopia.co.nz/api",web:"https://www.cryptopia.co.nz"},www:"https://www.cryptopia.co.nz",referral:"https://www.cryptopia.co.nz/Register?referrer=kroitor",doc:["https://support.cryptopia.co.nz/csm?id=kb_article&sys_id=a75703dcdbb9130084ed147a3a9619bc","https://support.cryptopia.co.nz/csm?id=kb_article&sys_id=40e9c310dbf9130084ed147a3a9619eb"]},timeframes:{"15m":15,"30m":30,"1h":60,"2h":120,"4h":240,"12h":720,"1d":1440,"1w":10080},api:{web:{get:["Exchange/GetTradePairChart"]},public:{get:["GetCurrencies","GetTradePairs","GetMarkets","GetMarkets/{id}","GetMarkets/{hours}","GetMarkets/{id}/{hours}","GetMarket/{id}","GetMarket/{id}/{hours}","GetMarketHistory/{id}","GetMarketHistory/{id}/{hours}","GetMarketOrders/{id}","GetMarketOrders/{id}/{count}","GetMarketOrderGroups/{ids}","GetMarketOrderGroups/{ids}/{count}"]},private:{post:["CancelTrade","GetBalance","GetDepositAddress","GetOpenOrders","GetTradeHistory","GetTransactions","SubmitTip","SubmitTrade","SubmitTransfer","SubmitWithdraw"]}},commonCurrencies:{ACC:"AdCoin",BAT:"BatCoin",BEAN:"BITB",BLZ:"BlazeCoin",BTG:"Bitgem",CAN:"CanYaCoin",CAT:"Catcoin",CC:"CCX",CMT:"Comet",EPC:"ExperienceCoin",FCN:"Facilecoin",FT:"Fabric Token",FUEL:"FC2",HAV:"Havecoin",HC:"Harvest Masternode Coin",HSR:"HC",KARM:"KARMA",LBTC:"LiteBitcoin",LDC:"LADACoin",MARKS:"Bitmark",NET:"NetCoin",PLC:"Polcoin",RED:"RedCoin",STC:"StopTrumpCoin",QBT:"Cubits",WRC:"WarCoin"},options:{fetchTickersErrors:!0}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.length>0&&void 0!==w[0]?w[0]:{},e.next=3,this.publicGetGetTradePairs();case 3:for(t=e.sent,r=[],i=t.Data,s=0;s<i.length;s++)a=i[s],o=a.Id,c=a.Label,u=a.Symbol,d=a.BaseSymbol,h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f=u+"_"+d,v={amount:8,price:8},m=a.MinimumTrade,y={min:a.MinimumPrice,max:a.MaximumPrice},g={min:m,max:a.MaximumTrade},b={amount:g,price:y,cost:{min:a.MinimumBaseTrade,max:void 0}},k="OK"===a.Status,r.push({id:f,symbol:p,numericId:o,base:h,quote:l,baseId:u,quoteId:d,info:a,maker:a.TradeFee/100,taker:a.TradeFee/100,active:k,precision:v,limits:b,label:c});return this.options.marketsByLabel=this.indexBy(r,"label"),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetMarketOrdersId(this.extend({id:this.marketId(t)},r));case 6:return i=e.sent,s=i.Data,e.abrupt("return",this.parseOrderBook(s,void 0,"Buy","Sell","Price","Volume"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>1&&void 0!==b[1]?b[1]:"15m",i=b.length>2&&void 0!==b[2]?b[2]:void 0,s=b.length>3&&void 0!==b[3]?b[3]:void 0,a=b.length>4&&void 0!==b[4]?b[4]:{},o=0,void 0!==i)for(u=(c=[86400,172800,604800,1209600,2592e3,7776e3,15552e3]).length,d=this.seconds(),h=parseInt(i/1e3),l=1;l<u;l++)d-h>c[l]&&(o=l);return e.next=8,this.loadMarkets();case 8:return p=this.market(t),f={tradePairId:p.numericId,dataRange:o,dataGroup:this.timeframes[r]},e.next=12,this.webGetExchangeGetTradePairChart(this.extend(f,a));case 12:for(v=e.sent,m=v.Candle,y=v.Volume,g=0;g<m.length;g++)m[g].push(y[g].basev);return e.abrupt("return",this.parseOHLCVs(m,p,r,i,s));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"joinMarketIds",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=e[0].toString(),n=1;n<e.length;n++)r+=t+e[n].toString();return r}},{key:"fetchOrderBooks",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:void 0,r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=4,this.loadMarkets();case 4:if(void 0!==t){e.next=6;break}throw new p(this.id+" fetchOrderBooks requires the symbols argument as of May 2018 (up to 5 symbols at max)");case 6:if(!(t.length>5)){e.next=9;break}throw new p(this.id+" fetchOrderBooks accepts 5 symbols at max");case 9:return i=this.joinMarketIds(this.marketIds(t)),e.next=12,this.publicGetGetMarketOrderGroupsIds(this.extend({ids:i},r));case 12:for(s=e.sent,a=s.Data,o={},c=0;c<a.length;c++)u=a[c],d=this.safeString(u,"Market"),h=d,d in this.markets_by_id&&(l=this.markets_by_id[d],h=l.symbol),o[h]=this.parseOrderBook(u,void 0,"Buy","Sell","Price","Volume");return e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"Open"),s=this.safeFloat(e,"LastPrice"),a=s-i,o=this.safeFloat(e,"Volume"),c=this.safeFloat(e,"BaseVolume"),u=void 0;return void 0!==c&&void 0!==o&&o>0&&(u=c/o),{symbol:n,info:e,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"AskPrice"),askVolume:void 0,vwap:u,open:i,close:s,last:s,previousClose:void 0,change:a,percentage:this.safeFloat(e,"Change"),average:this.sum(s,i)/2,baseVolume:o,quoteVolume:c}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetGetMarketId(this.extend({id:i.id},r));case 6:return s=e.sent,a=s.Data,e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetGetMarkets(r);case 6:i=e.sent,s={},a=i.Data,o=0;case 10:if(!(o<a.length)){e.next=25;break}if(c=a[o],u=c.Label.replace("/","_"),u in this.markets_by_id){e.next=19;break}if(!this.options.fetchTickersErrors){e.next=17;break}throw new p(this.id+" fetchTickers() returned unrecognized pair id "+u.toString());case 17:e.next=22;break;case 19:d=this.markets_by_id[u],h=d.symbol,s[h]=this.parseTicker(c,d);case 22:o++,e.next=10;break;case 25:return e.abrupt("return",this.filterByArray(s,"symbol",t));case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"Timestamp"in e?r=1e3*e.Timestamp:"TimeStamp"in e&&(r=this.parse8601(e.TimeStamp));var n=this.safeFloat(e,"Price");n||(n=this.safeFloat(e,"Rate"));var i=this.safeFloat(e,"Total"),s=this.safeString(e,"TradeId");if(void 0===t){var a=this.safeString(e,"Market");(a=a.replace("/","_"))in this.markets_by_id&&(t=this.markets_by_id[a])}var o=void 0,c=void 0;return void 0!==t&&(o=t.symbol,"Fee"in e&&(c={currency:t.quote,cost:e.Fee})),{id:s,info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:o,type:"limit",side:e.Type.toLowerCase(),price:n,cost:i,amount:e.Amount,fee:c}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:void 0,i=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o=24,void 0!==r&&(c=this.milliseconds()-r,36e5,o=parseInt(Math.ceil(c/36e5))),u={id:a.id,hours:o},e.next=11,this.publicGetGetMarketHistoryIdHours(this.extend(u,s));case 11:return d=e.sent,h=d.Data,e.abrupt("return",this.parseTrades(h,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parse8601(this.safeString(e,"Timestamp")),n=void 0,i=this.safeString(e,"Currency");void 0===(t=this.safeValue(this.currencies_by_id,i))&&(n=this.commonCurrencyCode(i)),void 0!==t&&(n=t.code);var s=this.safeString(e,"Status"),a=this.safeString(e,"TxId");void 0!==s&&(s=this.parseTransactionStatus(s));var o=this.safeString(e,"Id"),c=this.parseTransactionType(this.safeString(e,"Type")),u=this.safeFloat(e,"Amount"),d=this.safeString(e,"Address"),h=this.safeFloat(e,"Fee");return{info:e,id:o,currency:n,amount:u,address:d,tag:void 0,status:s,type:c,updated:void 0,txid:a,timestamp:r,datetime:this.iso8601(r),fee:{currency:n,cost:h}}}},{key:"parseTransactionStatus",value:function(e){return this.safeString({Confirmed:"ok",Complete:"ok",Pending:"pending"},e,e)}},{key:"parseTransactionType",value:function(e){return this.safeString({Withdraw:"withdrawal",Deposit:"deposit"},e,e)}},{key:"fetchTransactionsByType",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},o={type:"deposit"===t?"Deposit":"Withdraw"},e.next=7,this.privatePostGetTransactions(this.extend(o,a));case 7:return c=e.sent,e.abrupt("return",this.parseTransactions(c.Data,r,i,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsByType("withdrawal",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsByType("deposit",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.Market=o.id),void 0!==i&&(a.Count=i),e.next=12,this.privatePostGetTradeHistory(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseTrades(c.Data,o,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetGetCurrencies(t);case 3:for(r=e.sent,i=r.Data,s={},a=0;a<i.length;a++)o=i[a],c=o.Symbol,8,u=this.commonCurrencyCode(c),d="Active"===o.ListingStatus,"ok"!==(h=o.Status.toLowerCase())&&(d=!1),s[u]={id:c,code:u,info:o,name:o.Name,active:d,status:h,fee:o.WithdrawFee,precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:o.MinBaseTrade,max:void 0},withdraw:{min:o.MinWithdraw,max:o.MaxWithdraw}}};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetBalance(t);case 5:for(r=e.sent,i=r.Data,s={info:r},a=0;a<i.length;a++)o=i[a],c=o.Symbol,u=this.commonCurrencyCode(c),(d={free:o.Available,used:0,total:o.Total}).used=d.total-d.free,s[u]=d;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},"market"!==r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c=this.market(t),u={Market:c.id,Type:this.capitalize(i),Rate:a,Amount:s},e.next=10,this.privatePostSubmitTrade(this.extend(u,o));case 10:if(d=e.sent){e.next=13;break}throw new p(this.id+" createOrder returned unknown error: "+this.json(d));case 13:return h=void 0,l=0,f="open","Data"in d&&"OrderId"in d.Data&&(d.Data.OrderId?h=d.Data.OrderId.toString():(l=s,f="closed")),v={id:h,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,status:f,symbol:t,type:r,side:i,price:a,cost:a*s,amount:s,remaining:s-l,filled:l,fee:void 0},h&&(this.orders[h]=v),e.abrupt("return",this.extend({info:d},v));case 20:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=void 0,e.prev=5,e.next=8,this.privatePostCancelTrade(this.extend({Type:"Trade",OrderId:t},r));case 8:i=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.next=20;break;case 12:if(e.prev=12,e.t0=e.catch(5),!this.last_json_response){e.next=19;break}if(!(s=this.safeString(this.last_json_response,"Error"))){e.next=19;break}if(!(s.indexOf("does not exist")>=0)){e.next=19;break}throw new m(this.id+" cancelOrder() error: "+this.last_http_response);case 19:throw e.t0;case 20:return e.abrupt("return",this.parseOrder(i));case 21:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0!==t)r=t.symbol;else if("Market"in e){var n=e.Market;n in this.markets_by_id?r=(t=this.markets_by_id[n]).symbol:n in this.options.marketsByLabel&&(r=(t=this.options.marketsByLabel[n]).symbol)}var i=this.parse8601(this.safeString(e,"TimeStamp")),s=this.safeFloat(e,"Amount"),a=this.safeFloat(e,"Remaining"),o=void 0;void 0!==s&&void 0!==a&&(o=s-a);var c=this.safeValue(e,"OrderId");void 0!==c&&(c=c.toString());var u=this.safeString(e,"Type");return void 0!==u&&(u=u.toLowerCase()),{id:c,info:this.omit(e,"status"),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:this.safeString(e,"status"),symbol:r,type:"limit",side:u,price:this.safeFloat(e,"Rate"),cost:this.safeFloat(e,"Total"),amount:s,filled:o,remaining:a,fee:void 0}}},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.length>0&&void 0!==k[0]?k[0]:void 0,r=k.length>1&&void 0!==k[1]?k[1]:void 0,i=k.length>2&&void 0!==k[2]?k[2]:void 0,s=k.length>3&&void 0!==k[3]?k[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.Market=a.id),e.next=11,this.privatePostGetOpenOrders(this.extend(o,s));case 11:for(c=e.sent,u=[],d=0;d<c.Data.length;d++)u.push(this.extend(c.Data[d],{status:"open"}));for(h=this.parseOrders(u,a),l=0;l<h.length;l++)this.orders[h[l].id]=h[l];for(p=this.indexBy(h,"id"),f=Object.keys(this.orders),v=[],m=0;m<f.length;m++)(y=f[m])in p?this.orders[y]=this.extend(this.orders[y],p[y]):"open"===(g=this.orders[y]).status&&(void 0!==t&&g.symbol!==t||(this.orders[y]=this.extend(g,{status:"closed",cost:g.amount*g.price,filled:g.amount,remaining:0}))),b=this.orders[y],void 0!==t&&b.symbol!==t||v.push(b);return e.abrupt("return",this.filterBySinceLimit(v,r,i));case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},t=t.toString(),e.next=5,this.fetchOrders(r,void 0,void 0,i);case 5:s=e.sent,a=0;case 7:if(!(a<s.length)){e.next=13;break}if(s[a].id!==t){e.next=10;break}return e.abrupt("return",s[a]);case 10:a++,e.next=7;break;case 13:throw new y(this.id+" order "+t+" not found in cached .orders, fetchOrder requires .orders (de)serialization implemented for this method to work properly");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:for(a=e.sent,o=[],c=0;c<a.length;c++)"open"===a[c].status&&o.push(a[c]);return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:for(a=e.sent,o=[],c=0;c<a.length;c++)"closed"===a[c].status&&o.push(a[c]);return e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostGetDepositAddress(this.extend({Currency:i.id},r));case 6:return s=e.sent,a=this.safeString(s.Data,"BaseAddress"),o=this.safeString(s.Data,"Address"),void 0!==a&&a.length<1&&(a=void 0),void 0===a&&(a=o,o=void 0),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:o,info:s});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return o=this.currency(t),this.checkAddress(i),c={Currency:o.id,Amount:r,Address:i},s&&(c.PaymentId=s),e.next=10,this.privatePostSubmitWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.Data});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString();s=this.json(o,{convertArraysToObjects:!0});var u=this.hash(this.encode(s),"md5","base64"),d=this.base64ToBinary(this.secret),h=this.encodeURIComponent(a).toLowerCase();u=this.binaryToString(u);var l=this.apiKey+r+h+c+u,p=this.hmac(this.encode(l),d,"sha256","base64");i={"Content-Type":"application/json",Authorization:"amx "+this.apiKey+":"+this.binaryToString(p)+":"+c}}else Object.keys(o).length&&(a+="?"+this.urlencode(o));return{url:a,method:r,body:s,headers:i}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(void 0!==a&&"Success"in a){var o=this.safeValue(a,"Success");if(void 0!==o&&!o){var c=this.safeString(a,"Error"),u=this.id+" "+s;if("string"===typeof c){if(c.indexOf("Invalid trade amount")>=0)throw new v(u);if(c.indexOf("No matching trades found")>=0)throw new m(u);if(c.indexOf("does not exist")>=0)throw new m(u);if(c.indexOf("Insufficient Funds")>=0)throw new f(u);if(c.indexOf("Nonce has already been used")>=0)throw new g(u)}throw new p(u)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.AuthenticationError,f=l.ExchangeError,v=l.PermissionDenied,m=l.InvalidOrder,y=l.OrderNotFound,g=l.DDoSProtection,b=l.NotSupported,k=l.ExchangeNotAvailable,w=l.InsufficientFunds;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"deribit",name:"Deribit",countries:["NL"],version:"v1",userAgent:void 0,rateLimit:2e3,has:{CORS:!0,editOrder:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchTickers:!1},timeframes:{},urls:{test:"https://test.deribit.com",logo:"https://user-images.githubusercontent.com/1294454/41933112-9e2dd65a-798b-11e8-8440-5bab2959fcb8.jpg",api:"https://www.deribit.com",www:"https://www.deribit.com",doc:["https://docs.deribit.com/","https://github.com/deribit"],fees:"https://www.deribit.com/pages/information/fees",referral:"https://www.deribit.com/reg-1189.4038"},api:{public:{get:["test","getinstruments","index","getcurrencies","getorderbook","getlasttrades","getsummary","stats","getannouncments"]},private:{get:["account","getopenorders","positions","orderhistory","orderstate","tradehistory","newannouncements"],post:["buy","sell","edit","cancel","cancelall"]}},exceptions:{9999:v,10000:p,10001:f,10002:m,10003:m,10004:y,10005:m,10006:m,10007:m,10008:m,10009:w,10010:y,10011:m,10012:m,10013:v,10014:v,10015:v,10016:v,10017:v,10019:v,10020:f,10022:m,10023:m,10024:m,10025:m,10026:m,10027:m,10028:g,10029:y,10030:f,10031:f,10032:m,10033:b,10034:m,10035:m,11035:m,11036:m,11037:m,11038:m,11039:m,11040:m,11041:m,11042:v,11044:y,11045:f,11046:f,11047:f,11048:f,11050:f,11051:k,11030:f,11031:f},options:{fetchTickerQuotes:!0}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetGetinstruments();case 3:for(t=e.sent,r=t.result,i=[],s=0;s<r.length;s++)a=r[s],o=a.instrumentName,c=a.baseCurrency,u=a.currency,c=this.commonCurrencyCode(c),u=this.commonCurrencyCode(u),i.push({id:o,symbol:o,base:c,quote:u,active:a.isActive,precision:{amount:a.minTradeSize,price:a.tickSize},limits:{amount:{min:a.minTradeSize},price:{min:a.tickSize}},type:a.kind,spot:!1,future:"future"===a.kind,option:"option"===a.kind,info:a});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.privateGetAccount();case 3:return t=e.sent,r={BTC:{free:t.result.availableFunds,used:t.result.maintenanceMargin,total:t.result.equity}},e.abrupt("return",this.parseBalance(r));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.privateGetAccount();case 3:return r=e.sent,e.abrupt("return",{currency:"BTC",address:r.depositAddress,tag:void 0,info:r});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"created"),n=void 0===r?void 0:this.iso8601(r),i=this.findSymbol(this.safeString(e,"instrumentName"),t),s=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:n,high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"askPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetGetsummary(this.extend({instrument:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.result,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"tradeId"),n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeInteger(e,"timeStamp");return{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:void 0,side:e.direction,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"quantity")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),(o={instrument:a.id}).limit=void 0!==i?i:1e4,e.next=10,this.publicGetGetlasttrades(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.result,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return r=this.market(t),e.next=7,this.publicGetGetorderbook({instrument:r.id});case 7:return i=e.sent,s=parseInt(i.usOut/1e3),a=this.parseOrderBook(i.result,s,"bids","asks","price","quantity"),e.abrupt("return",this.extend(a,{nonce:this.safeInteger(i,"tstamp")}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={open:"open",cancelled:"canceled",filled:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.safeInteger(e,"created"),r=this.safeInteger(e,"lastUpdate"),n=this.safeInteger2(e,"tstamp","modified"),i=this.safeString(e,"orderId"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"avgPrice"),o=this.safeFloat(e,"quantity"),c=this.safeFloat(e,"filledQuantity");void 0===n&&void 0!==c&&c>0&&(n=r);var u=void 0,d=void 0;void 0!==c&&(void 0!==o&&(u=o-c),void 0!==s&&(d=s*c));var h=this.parseOrderStatus(this.safeString(e,"state")),l=this.safeString(e,"direction");void 0!==l&&(l=l.toLowerCase());var p=this.safeFloat(e,"commission");void 0!==p&&(p=Math.abs(p));var f={cost:p,currency:"BTC"},v=this.safeString(e,"type");return{info:e,id:i,timestamp:t,datetime:this.iso8601(t),lastTradeTimestamp:n,symbol:e.instrument,type:v,side:l,price:s,amount:o,cost:d,average:a,filled:c,remaining:u,status:h,fee:f,trades:void 0}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrderstate({orderId:t});case 6:return r=e.sent,e.abrupt("return",this.parseOrder(r.result));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c={instrument:this.marketId(t),quantity:s,type:r},void 0!==a&&(c.price=a),u="privatePost"+this.capitalize(i),e.next=9,this[u](this.extend(c,o));case 9:if(d=e.sent,void 0!==(h=this.safeValue(d.result,"order"))){e.next=13;break}return e.abrupt("return",d);case 13:return e.abrupt("return",this.parseOrder(h));case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"editOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:void 0,c=h.length>6&&void 0!==h[6]?h[6]:{},e.next=5,this.loadMarkets();case 5:return u={orderId:t},void 0!==a&&(u.quantity=a),void 0!==o&&(u.price=o),e.next=10,this.privatePostEdit(this.extend(u,c));case 10:return d=e.sent,e.abrupt("return",this.parseOrder(d.result.order));case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancel(this.extend({orderId:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.result.order));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={instrument:a.id},e.next=10,this.privateGetGetopenorders(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseOrders(c.result,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={instrument:a.id},e.next=10,this.privateGetOrderhistory(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseOrders(c.result,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={instrument:a.id},void 0!==i&&(o.count=i),e.next=11,this.privateGetTradehistory(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.result,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+t+"/"+e,o=this.urls.api+a;if("public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u="_="+c+"&_ackey="+this.apiKey+"&_acsec="+this.secret+"&_action="+a;"POST"===r&&(n=this.keysort(n),u+="&"+this.urlencode(n));var d=this.hash(this.encode(u),"sha256","base64");i={"x-deribit-sig":this.apiKey+"."+c+"."+this.decode(d)},"GET"!==r&&(i["Content-Type"]="application/x-www-form-urlencoded",s=this.urlencode(n))}return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(a){var o=this.safeString(a,"error");if(void 0!==o&&"0"!==o){var c=this.id+" "+s,u=this.exceptions;if(o in u)throw new u[o](c);throw new f(c)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(51),l=r(10).ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"dsx",name:"DSX",countries:["UK"],rateLimit:1500,version:"v2",has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!1,fetchOrderBooks:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27990275-1413158a-645a-11e7-931c-94717f7510e3.jpg",api:{public:"https://dsx.uk/mapi",private:"https://dsx.uk/tapi",dwapi:"https://dsx.uk/dwapi"},www:"https://dsx.uk",doc:["https://api.dsx.uk","https://dsx.uk/api_docs/public","https://dsx.uk/api_docs/private",""]},api:{public:{get:["barsFromMoment/{id}/{period}/{start}","depth/{pair}","info","lastBars/{id}/{period}/{amount}","periodBars/{id}/{period}/{start}/{end}","ticker/{pair}","trades/{pair}"]},private:{post:["info/account","history/transactions","history/trades","history/orders","orders","order/cancel","order/cancel/all","order/status","order/new","volume","fees"]},dwapi:{post:["deposit/cryptoaddress","withdraw/crypto","withdraw/fiat","withdraw/submit","withdraw/cancel","transaction/status"]}},options:{fetchOrderMethod:"privatePostOrderStatus",fetchMyTradesMethod:"privatePostHistoryTrades",cancelOrderMethod:"privatePostOrderCancel",fetchTickersMaxLength:250}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.length>0&&void 0!==w[0]?w[0]:{},e.next=3,this.publicGetInfo();case 3:for(t=e.sent,r=t.pairs,i=Object.keys(r),s=[],a=0;a<i.length;a++)o=i[a],c=r[o],u=this.safeString(c,"base_currency"),d=this.safeString(c,"quoted_currency"),h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f={amount:this.safeInteger(c,"decimal_places"),price:this.safeInteger(c,"decimal_places")},v={min:this.safeFloat(c,"min_amount"),max:this.safeFloat(c,"max_amount")},m={min:this.safeFloat(c,"min_price"),max:this.safeFloat(c,"max_price")},y={min:this.safeFloat(c,"min_total")},g={amount:v,price:m,cost:y},b=this.safeInteger(c,"hidden"),k=0===b,s.push({id:o,symbol:p,base:h,quote:l,baseId:u,quoteId:d,active:k,taker:c.fee/100,precision:f,limits:g,info:c});return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostInfoAccount();case 5:for(t=e.sent,r=t.return,i={info:r},s=r.funds,a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=this.commonCurrencyCode(c),(d={free:s[c].available,used:0,total:s[c].total}).used=d.total-d.free,i[u]=d;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0,i=this.safeString(e,"pair");void 0!==(t=this.safeValue(this.markets_by_id,i,t))&&(n=t.symbol);var s=this.safeFloat(e,"avg");void 0!==s&&s>0&&(s=1/s);var a=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:s,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_cur"),info:e}}},{key:"signBodyWithSecret",value:function(e){return this.decode(this.hmac(this.encode(e),this.encode(this.secret),"sha512","base64"))}},{key:"getVersionString",value:function(){return""}},{key:"getPrivatePath",value:function(e,t){return"/"+this.version+"/"+this.implodeParams(e,t)}},{key:"getOrderIdKey",value:function(){return"orderId"}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,p,f,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>4&&void 0!==g[4]?g[4]:void 0,o=g.length>5&&void 0!==g[5]?g[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),"market"!==r||void 0!==a){e.next=7;break}throw new l(this.id+" createOrder requires a price argument even for market orders, that is the worst price that you agree to fill your order for");case 7:return u={pair:c.id,type:i,volume:this.amountToPrecision(t,s),rate:this.priceToPrecision(t,a),orderType:r},a=parseFloat(a),s=parseFloat(s),e.next=12,this.privatePostOrderNew(this.extend(u,o));case 12:return d=e.sent,h="open",0,s,v=this.safeValue(d,"return"),"0"===(m=this.safeString2(v,"orderId","order_id"))&&(m=this.safeString(v,"initOrderId","init_order_id"),h="closed"),p=this.safeFloat(v,"received",0),f=this.safeFloat(v,"remains",s),y=this.milliseconds(),e.abrupt("return",{info:d,id:m,timestamp:y,datetime:this.iso8601(y),lastTradeTimestamp:void 0,status:h,symbol:t,type:r,side:i,price:a,cost:a*p,amount:s,remaining:f,filled:p,fee:void 0});case 23:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"canceling",7:"canceled"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeInteger(e,"timestampCreated");void 0!==i&&(i*=1e3);var s=this.safeString(e,"pair"),a=void 0;void 0!==(t=this.safeValue(this.markets_by_id,s,t))&&(a=t.symbol);var o=this.safeFloat(e,"remainingVolume"),c=this.safeFloat(e,"volume"),u=this.safeFloat(e,"rate"),d=void 0,h=void 0;void 0!==c&&void 0!==o&&(h=u*(d=c-o));var l=this.safeString(e,"orderType"),p=this.safeString(e,"type"),f=void 0,v=this.safeValue(e,"deals",[]),m=void 0,y=void 0;if(v.length>0){m=this.parseTrades(v);for(var g=void 0,b=void 0,k=0;k<m.length;k++){var w=m[k];void 0===g&&(g=0),g+=w.fee.cost,b=w.fee.currency,y=w.timestamp}void 0!==g&&(f={cost:g,currency:b})}return{info:e,id:r,symbol:a,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:y,type:l,side:p,price:u,cost:h,amount:c,remaining:o,filled:d,status:n,fee:f,trades:m}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={orderId:parseInt(t)},e.next=7,this.privatePostOrderStatus(this.extend(i,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(this.extend({id:t},s.return)));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrdersById",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=Object.keys(e),s=[],a=0;a<i.length;a++){var o=i[a],c=this.parseOrder(this.extend({id:o.toString()},e[o]));s.push(c)}return this.filterBySymbolSinceLimit(s,t,r,n)}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:void 0,s.length>1&&void 0!==s[1]?s[1]:void 0,s.length>2&&void 0!==s[2]?s[2]:void 0,t=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return r={},e.next=9,this.privatePostHistoryOrders(this.extend(r,t));case 9:return i=e.sent,e.abrupt("return",this.parseOrdersById(this.safeValue(i,"return",{})));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:void 0,s.length>1&&void 0!==s[1]?s[1]:void 0,s.length>2&&void 0!==s[2]?s[2]:void 0,t=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return r={},e.next=9,this.privatePostHistoryOrders(this.extend(r,t));case 9:return i=e.sent,e.abrupt("return",this.parseOrdersById(this.safeValue(i,"return",{})));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(62);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"ethfinex",name:"Ethfinex",countries:["VG"],version:"v1",rateLimit:1500,certified:!1,has:{CORS:!1,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchTradingFees:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37555526-7018a77c-29f9-11e8-8835-8e415c038a18.jpg",api:"https://api.ethfinex.com",www:"https://www.ethfinex.com",doc:["https://bitfinex.readme.io/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node","https://www.ethfinex.com/api_docs"]}})}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ArgumentsRequired,v=p.ExchangeError,m=p.ExchangeNotAvailable,y=p.OrderNotFound,g=p.AuthenticationError,b=p.InsufficientFunds,k=p.InvalidOrder,w=p.InvalidNonce;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1",has:{CORS:!1,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrders:"emulated",fetchOrderTrades:!0,fetchOrderBooks:!0,fetchMyTrades:!0,fetchTickers:!0,withdraw:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchCurrencies:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:{public:"https://api.exmo.com",private:"https://api.exmo.com",web:"https://exmo.me"},www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{web:{get:["ctrl/feesAndLimits","en/docs/fees"]},public:{get:["currency","order_book","pair_settings","ticker","trades"]},private:{post:["user_info","order_create","order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","required_amount","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","wallet_history"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1}},options:{useWebapiForFetchingFees:!1,feesAndLimits:{success:1,ctlr:"feesAndLimits",error:"",data:{limits:[{pair:"BTC/USD",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000"},{pair:"BTC/EUR",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000"},{pair:"BTC/RUB",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"2000000",min_a:"10",max_a:"50000000"},{pair:"BTC/UAH",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"1500000",min_a:"10",max_a:"15000000"},{pair:"BTC/PLN",min_q:"0.001",max_q:"1000",min_p:"0.001",max_p:"90000",min_a:"1",max_a:"2000000"},{pair:"BTC/TRY",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"800000",min_a:"40",max_a:"6000000"},{pair:"ETH/TRY",min_q:"0.01",max_q:"5000",min_p:"0.1",max_p:"80000",min_a:"10",max_a:"6000000"},{pair:"XRP/TRY",min_q:"1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"6000000"},{pair:"XLM/TRY",min_q:"0.01",max_q:"200000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"6000000"},{pair:"DAI/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"DAI/ETH",min_q:"1",max_q:"500000",min_p:"0.000001",max_p:"10",min_a:"0.0001",max_a:"5000"},{pair:"DAI/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"DAI/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"0.5",max_a:"30000000"},{pair:"MKR/BTC",min_q:"0.001",max_q:"1000",min_p:"0.0001",max_p:"100",min_a:"0.000001",max_a:"100"},{pair:"MKR/DAI",min_q:"0.001",max_q:"1000",min_p:"0.5",max_p:"500000",min_a:"0.005",max_a:"500000"},{pair:"QTUM/BTC",min_q:"0.1",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"QTUM/ETH",min_q:"0.1",max_q:"200000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000"},{pair:"QTUM/USD",min_q:"0.1",max_q:"200000",min_p:"0.00000001",max_p:"10000",min_a:"0.1",max_a:"500000"},{pair:"HB/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100"},{pair:"SMART/BTC",min_q:"10",max_q:"10000000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100"},{pair:"SMART/USD",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"1",max_a:"500000"},{pair:"SMART/EUR",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"1",max_a:"500000"},{pair:"SMART/RUB",min_q:"10",max_q:"10000000",min_p:"0.000001",max_p:"100000",min_a:"10",max_a:"50000000"},{pair:"XEM/BTC",min_q:"10",max_q:"5000000",min_p:"0.0000001",max_p:"1",min_a:"0.00015",max_a:"100"},{pair:"XEM/USD",min_q:"10",max_q:"5000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"XEM/EUR",min_q:"10",max_q:"5000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"GUSD/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0015",max_a:"100"},{pair:"GUSD/USD",min_q:"1",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000"},{pair:"GUSD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000"},{pair:"LSK/BTC",min_q:"1",max_q:"200000",min_p:"0.0000001",max_p:"1",min_a:"0.0015",max_a:"100"},{pair:"LSK/USD",min_q:"1",max_q:"200000",min_p:"0.1",max_p:"1000",min_a:"1",max_a:"500000"},{pair:"LSK/RUB",min_q:"1",max_q:"200000",min_p:"0.001",max_p:"100000",min_a:"0.5",max_a:"50000000"},{pair:"NEO/BTC",min_q:"0.01",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"NEO/USD",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000"},{pair:"NEO/RUB",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1500000",min_a:"50",max_a:"50000000"},{pair:"ADA/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"ADA/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"ADA/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000"},{pair:"ZRX/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"ZRX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"GNT/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"GNT/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"TRX/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"TRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"TRX/RUB",min_q:"0.01",max_q:"10000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"GAS/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"GAS/USD",min_q:"0.01",max_q:"10000000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000"},{pair:"INK/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"INK/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000"},{pair:"INK/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"MNX/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"MNX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"MNX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"OMG/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"OMG/ETH",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"OMG/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"XLM/BTC",min_q:"0.01",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"XLM/USD",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"XLM/RUB",min_q:"0.01",max_q:"200000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"EOS/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"EOS/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"STQ/BTC",min_q:"100",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"STQ/USD",min_q:"100",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"STQ/EUR",min_q:"100",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"STQ/RUB",min_q:"100",max_q:"10000000",min_p:"0.00001",max_p:"50000",min_a:"1",max_a:"50000000"},{pair:"BTG/BTC",min_q:"0.01",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"BTG/USD",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1000",min_a:"3",max_a:"500000"},{pair:"HBZ/BTC",min_q:"100",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"HBZ/ETH",min_q:"100",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"5000"},{pair:"HBZ/USD",min_q:"100",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"DXT/BTC",min_q:"100",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"DXT/USD",min_q:"100",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"BTCZ/BTC",min_q:"100",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.1",max_a:"100"},{pair:"BCH/BTC",min_q:"0.003",max_q:"10000",min_p:"0.00000001",max_p:"5",min_a:"0.0001",max_a:"100"},{pair:"BCH/USD",min_q:"0.003",max_q:"10000",min_p:"0.00000001",max_p:"30000",min_a:"0.0001",max_a:"500000"},{pair:"BCH/RUB",min_q:"0.003",max_q:"10000",min_p:"0.00000001",max_p:"2000000",min_a:"0.0001",max_a:"50000000"},{pair:"BCH/ETH",min_q:"0.003",max_q:"10000",min_p:"0.0000001",max_p:"200",min_a:"0.0001",max_a:"5000"},{pair:"DASH/BTC",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"DASH/USD",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000"},{pair:"DASH/RUB",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000"},{pair:"ETH/BTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"100"},{pair:"ETH/LTC",min_q:"0.01",max_q:"5000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"100000"},{pair:"ETH/USD",min_q:"0.01",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000"},{pair:"ETH/EUR",min_q:"0.01",max_q:"5000",min_p:"0.001",max_p:"10000",min_a:"1",max_a:"500000"},{pair:"ETH/RUB",min_q:"0.01",max_q:"5000",min_p:"0.001",max_p:"100000",min_a:"1",max_a:"50000000"},{pair:"ETH/UAH",min_q:"0.01",max_q:"5000",min_p:"0.01",max_p:"1000000",min_a:"90",max_a:"15000000"},{pair:"ETH/PLN",min_q:"0.001",max_q:"5000",min_p:"0.001",max_p:"8000",min_a:"1",max_a:"2000000"},{pair:"ETC/BTC",min_q:"0.2",max_q:"1000",min_p:"0.0001",max_p:"0.5",min_a:"0.001",max_a:"100"},{pair:"ETC/USD",min_q:"0.2",max_q:"1000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"500000"},{pair:"ETC/RUB",min_q:"0.2",max_q:"1000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"50000000"},{pair:"LTC/BTC",min_q:"0.05",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"LTC/USD",min_q:"0.05",max_q:"1000000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000"},{pair:"LTC/EUR",min_q:"0.05",max_q:"1000000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000"},{pair:"LTC/RUB",min_q:"0.05",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000"},{pair:"ZEC/BTC",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"10",min_a:"0.001",max_a:"100"},{pair:"ZEC/USD",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000"},{pair:"ZEC/EUR",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000"},{pair:"ZEC/RUB",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"XRP/BTC",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100"},{pair:"XRP/USD",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000"},{pair:"XRP/RUB",min_q:"1",max_q:"100000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"50000000"},{pair:"XMR/BTC",min_q:"0.03",max_q:"1000",min_p:"0.001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"XMR/USD",min_q:"0.03",max_q:"1000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"XMR/EUR",min_q:"0.03",max_q:"1000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"BTC/USDT",min_q:"0.001",max_q:"1000",min_p:"0.01",max_p:"30000",min_a:"3",max_a:"500000"},{pair:"ETH/USDT",min_q:"0.01",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000"},{pair:"USDT/USD",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000"},{pair:"USDT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000"},{pair:"USD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000"},{pair:"DOGE/BTC",min_q:"100",max_q:"100000000",min_p:"0.0000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"WAVES/BTC",min_q:"0.5",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"WAVES/RUB",min_q:"0.5",max_q:"10000",min_p:"1",max_p:"10000",min_a:"1",max_a:"50000000"},{pair:"KICK/BTC",min_q:"100",max_q:"10000000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"KICK/ETH",min_q:"100",max_q:"10000000",min_p:"0.000001",max_p:"1",min_a:"0.0001",max_a:"5000"},{pair:"EOS/EUR",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"BCH/EUR",min_q:"0.003",max_q:"100000",min_p:"0.01",max_p:"300000",min_a:"3",max_a:"500000"},{pair:"XRP/EUR",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000"},{pair:"XRP/UAH",min_q:"1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"15000000"},{pair:"XEM/UAH",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"30000",min_a:"10",max_a:"15000000"},{pair:"BCH/USDT",min_q:"0.003",max_q:"100000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000"},{pair:"DASH/USDT",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000"},{pair:"BCH/UAH",min_q:"0.003",max_q:"100000",min_p:"0.1",max_p:"30000",min_a:"10",max_a:"15000000"},{pair:"XRP/USDT",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000"},{pair:"USDT/UAH",min_q:"0.01",max_q:"100000",min_p:"1",max_p:"3000",min_a:"2",max_a:"15000000"},{pair:"USDT/EUR",min_q:"0.01",max_q:"100000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000"},{pair:"ZRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"BTG/ETH",min_q:"0.01",max_q:"200000",min_p:"0.0001",max_p:"100",min_a:"0.01",max_a:"5000"},{pair:"WAVES/USD",min_q:"0.5",max_q:"10000",min_p:"0.001",max_p:"3500",min_a:"0.5",max_a:"500000"},{pair:"DOGE/USD",min_q:"100",max_q:"1000000000",min_p:"0.0000001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"XRP/ETH",min_q:"1",max_q:"100000",min_p:"0.00000001",max_p:"10",min_a:"0.00001",max_a:"5000"},{pair:"DASH/UAH",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"200000",min_a:"10",max_a:"15000000"},{pair:"XMR/ETH",min_q:"0.03",max_q:"1000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000"},{pair:"WAVES/ETH",min_q:"0.5",max_q:"10000",min_p:"0.00001",max_p:"30",min_a:"0.0035",max_a:"3500"}],fees:[{group:"crypto",title:"Cryptocurrency",items:[{prov:"BTC",dep:"0%",wd:"0.0005 BTC"},{prov:"LTC",dep:"0%",wd:"0.01 LTC"},{prov:"DOGE",dep:"0%",wd:"1 Doge"},{prov:"DASH",dep:"0%",wd:"0.01 DASH"},{prov:"ETH",dep:"0%",wd:"0.01 ETH"},{prov:"WAVES",dep:"0%",wd:"0.001 WAVES"},{prov:"ZEC",dep:"0%",wd:"0.001 ZEC"},{prov:"USDT",dep:"5 USDT",wd:"5 USDT"},{prov:"XMR",dep:"0%",wd:"0.05 XMR"},{prov:"XRP",dep:"0%",wd:"0.02 XRP"},{prov:"KICK",dep:"0 KICK",wd:"50 KICK"},{prov:"ETC",dep:"0%",wd:"0.01 ETC"},{prov:"BCH",dep:"0%",wd:"0.001 BCH"},{prov:"BTG",dep:"0%",wd:"0.001 BTG"},{prov:"EOS",dep:"",wd:"0.05 EOS"},{prov:"HBZ",dep:"65 HBZ",wd:"65 HBZ"},{prov:"BTCZ",dep:"0 %",wd:"5 BTCZ"},{prov:"DXT",dep:"20 DXT",wd:"20 DXT"},{prov:"STQ",dep:"100 STQ",wd:"100 STQ"},{prov:"XLM",dep:"0%",wd:"-"},{prov:"MNX",dep:"0%",wd:"0.01 MNX"},{prov:"OMG",dep:"0.1 OMG",wd:"0.5 OMG"},{prov:"TRX",dep:"0%",wd:"1 TRX"},{prov:"ADA",dep:"0%",wd:"1 ADA"},{prov:"INK",dep:"10 INK",wd:"50 INK"},{prov:"NEO",dep:"0%",wd:"0%"},{prov:"GAS",dep:"0%",wd:"0%"},{prov:"ZRX",dep:"0%",wd:"1 ZRX"},{prov:"GNT",dep:"0%",wd:"1 GNT"},{prov:"GUSD",dep:"0%",wd:"0.5 GUSD"},{prov:"LSK",dep:"0%",wd:"0.1 LSK"},{prov:"XEM",dep:"0%",wd:"5 XEM"},{prov:"SMART",dep:"0%",wd:"0.5 SMART"},{prov:"QTUM",dep:"0%",wd:"0.01 QTUM"},{prov:"HB",dep:"0%",wd:"10 HB"},{prov:"DAI",dep:"0%",wd:"1 DAI"},{prov:"MKR",dep:"0%",wd:"0.005 MKR"}]},{group:"usd",title:"USD",items:[{prov:"Perfect Money",dep:"-",wd:"0.5%"},{prov:"Neteller",dep:"3.5% + 0.29 USD",wd:"-"},{prov:"AdvCash",dep:"1.95%",wd:"3.95%"},{prov:"Payeer",dep:"-",wd:"0.45%"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"Skrill",dep:"2.95%",wd:"2.45%"},{prov:"Visa/MasterCard (Simplex)",dep:"5%",wd:"-"}]},{group:"eur",title:"EUR",items:[{prov:"Payeer",dep:"-",wd:"0.45%"},{prov:"CryptoCapital",dep:"-",wd:"0.45%"},{prov:"AdvCash",dep:"1%",wd:"-"},{prov:"Perfect Money",dep:"-",wd:"2.95%"},{prov:"Neteller",dep:"3.5%+0.25 EUR",wd:"2.95%"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"Wire Transfer",dep:"6.95 EUR",wd:"-"},{prov:"Skrill",dep:"2.95% + 0.29 EUR",wd:"-"},{prov:"Rapid Transfer",dep:"1.5% + 0.29 EUR",wd:"-"},{prov:"MisterTango SEPA",dep:"5 EUR",wd:"-"},{prov:"SEPA",dep:"6.95 EUR",wd:"-"},{prov:"Visa/MasterCard (Simplex)",dep:"5%",wd:"-"}]},{group:"rub",title:"RUB",items:[{prov:"AdvCash",dep:"0.95%",wd:"2.95%"},{prov:"Payeer",dep:"1.95%",wd:"-"},{prov:"Qiwi",dep:"1.95%",wd:"3.45%"},{prov:"Visa/MasterCard",dep:"4%",wd:"-"},{prov:"Yandex Money",dep:"3.45%",wd:"3.95%"},{prov:"Visa/Mastercard",dep:"-",wd:"4.45% + 50 RUB"}]},{group:"pln",title:"PLN",items:[{prov:"Neteller",dep:"3.5% + 4 PLN",wd:"-"},{prov:"Rapid Transfer",dep:"1.5% + 1.21 PLN",wd:"-"},{prov:"CryptoCapital",dep:"-",wd:"0.45%"},{prov:"Skrill",dep:"3.5% + 1.21 PLN",wd:"1.95%"},{prov:"Visa/MasterCard (Simplex)",dep:"5%",wd:"-"}]},{group:"try",title:"TRY",items:[{prov:"QR ile yat\u0131rma",dep:"5.95%",wd:"-"},{prov:"Visa",dep:"0%",wd:"-"},{prov:"Skrill",dep:"2.95% + 3 TRY",wd:"1.45%"}]},{group:"uah",title:"UAH",items:[{prov:"Terminal",dep:"2.6%",wd:"-"},{prov:"AdvCash",dep:"0.45%",wd:"3.45%"},{prov:"Visa/MasterCard",dep:"2.6%",wd:"3.95%"},{prov:"Enfins",dep:"0%",wd:"-"}]}]}}},exceptions:{40005:g,40009:w,40015:v,40016:m,40017:g,50052:b,50054:b,50304:y,50173:y,50319:k,50321:k}})}},{key:"fetchTradingFees",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},!this.options.useWebapiForFetchingFees){e.next=20;break}return e.next=4,this.webGetEnDocsFees(t);case 4:if(r=e.sent,n=r.split('<td class="th_fees_2" colspan="2">'),2===n.length){e.next=9;break}throw new v(this.id+" fetchTradingFees format has changed");case 9:if(s=n[1],n=s.split("</td>"),!(n.length<2)){e.next=14;break}throw new v(this.id+" fetchTradingFees format has changed");case 14:return a=.01*parseFloat(n[0].replace("%","")),o=a,c=a,e.abrupt("return",{info:r,maker:c,taker:o});case 20:return e.abrupt("return",{maker:this.fees.trading.maker,taker:this.fees.trading.taker});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseFixedFloatValue",value:function(e){if(void 0!==e&&"-"!==e){var t=e.indexOf("%")>=0,r=e.split(" ")[0].replace("%",""),n=parseFloat(r);if(n>0&&t)throw new v(this.id+" parseFixedFloatValue detected an unsupported non-zero percentage-based fee "+e);return n}}},{key:"fetchFundingFees",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:{},r=void 0,!this.options.useWebapiForFetchingFees){e.next=8;break}return e.next=5,this.webGetCtrlFeesAndLimits(t);case 5:r=e.sent,e.next=9;break;case 8:r=this.options.feesAndLimits;case 9:for(n={},s={},a=this.safeValue(r.data,"fees"),o=this.indexBy(a,"group"),c=o.crypto.items,u=0;u<c.length;u++)d=c[u],h=this.commonCurrencyCode(this.safeString(d,"prov")),l=this.safeString(d,"wd"),p=this.safeString(d,"dep"),void 0!==l&&l.length>0&&(n[h]=this.parseFixedFloatValue(l)),void 0!==p&&p.length>0&&(s[h]=this.parseFixedFloatValue(p));for(f=this.toArray(this.omit(o,"crypto")),v=0;v<f.length;v++)m=this.commonCurrencyCode(this.safeString(f[v],"title")),n[m]=void 0,s[m]=void 0;return y={info:r,withdraw:n,deposit:s},this.options.fundingFees=y,e.abrupt("return",y);case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_,C,O,S,E,B,I,A,M,P,F=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.length>0&&void 0!==F[0]?F[0]:{},e.next=3,this.fetchFundingFees(t);case 3:for(r=e.sent,s=Object.keys(r.withdraw),a=this.indexBy(r.info.data.limits,"pair"),o=Object.keys(a),c={},u={},d={},h={},l={},p={},f=0;f<o.length;f++)v=o[f],m=a[v],y=v.split("/"),g=n(y,2),b=g[0],k=g[1],w=this.commonCurrencyCode(b),x=this.commonCurrencyCode(k),T=this.safeFloat(m,"max_q"),_=this.safeFloat(m,"max_p"),C=this.safeFloat(m,"max_a"),O=this.safeFloat(m,"min_q"),S=this.safeFloat(m,"min_p"),E=this.safeFloat(m,"min_a"),c[w]=Math.min(this.safeFloat(c,w,O),O),h[w]=Math.max(this.safeFloat(h,w,T),T),u[x]=Math.min(this.safeFloat(u,x,S),S),d[x]=Math.min(this.safeFloat(d,x,E),E),l[x]=Math.max(this.safeFloat(l,x,_),_),p[x]=Math.max(this.safeFloat(p,x,C),C);for(B={},I=0;I<s.length;I++)A=s[I],M=this.commonCurrencyCode(A),P=this.safeValue(r.withdraw,M),!0,B[M]={id:A,code:M,name:M,active:!0,fee:P,precision:8,limits:{amount:{min:this.safeFloat(c,M),max:this.safeFloat(h,M)},price:{min:this.safeFloat(u,M),max:this.safeFloat(l,M)},cost:{min:this.safeFloat(d,M),max:this.safeFloat(p,M)}},info:A};return e.abrupt("return",B);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.fetchTradingFees();case 3:return t=e.sent,e.next=6,this.publicGetPairSettings();case 6:for(r=e.sent,s=Object.keys(r),a=[],o=0;o<s.length;o++)c=s[o],u=r[c],d=c.replace("_","/"),h=d.split("/"),l=n(h,2),p=l[0],f=l[1],a.push({id:c,symbol:d,base:p,quote:f,active:!0,taker:t.taker,maker:t.maker,limits:{amount:{min:this.safeFloat(u,"min_quantity"),max:this.safeFloat(u,"max_quantity")},price:{min:this.safeFloat(u,"min_price"),max:this.safeFloat(u,"max_price")},cost:{min:this.safeFloat(u,"min_amount"),max:this.safeFloat(u,"max_amount")}},precision:{amount:8,price:8},info:u});return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserInfo(t);case 5:for(r=e.sent,n={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=this.account(),o in r.balances&&(c.free=parseFloat(r.balances[o])),o in r.reserved&&(c.used=parseFloat(r.reserved[o])),c.total=this.sum(c.free,c.used),n[o]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a=this.extend({pair:s.id},n),void 0!==r&&(a.limit=r),e.next=9,this.publicGetOrderBook(a);case 9:return o=e.sent,c=o[s.id],e.abrupt("return",this.parseOrderBook(c,void 0,"bid","ask"));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBooks",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:if(n=void 0,void 0!==t){e.next=12;break}if(!((n=this.ids.join(",")).length>2048)){e.next=10;break}throw s=this.ids.length,new v(this.id+" has "+s.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 10:e.next=14;break;case 12:n=(n=this.marketIds(t)).join(",");case 14:return e.next=16,this.publicGetOrderBook(this.extend({pair:n},r));case 16:for(a=e.sent,o={},n=Object.keys(a),c=0;c<n.length;c++)u=n[c],d=this.findSymbol(u),o[d]=this.parseOrderBook(a[u],void 0,"bid","ask");return e.abrupt("return",o);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last_trade");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_curr"),info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,n={},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=this.markets_by_id[o],u=c.symbol,d=r[o],n[u]=this.parseTicker(d,c);return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTicker(r);case 5:return n=e.sent,s=this.market(t),e.abrupt("return",this.parseTicker(n[s.id],s));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=void 0,i=void 0,s=this.safeString(e,"trade_id"),a=this.safeString(e,"order_id"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"quantity"),u=this.safeFloat(e,"amount"),d=this.safeString(e,"type");if(void 0!==t){if(i=t.symbol,t.taker!==t.maker)throw new v(this.id+" parseTrade can not deduce proper fee costs, taker and maker fees now differ");"buy"===d&&void 0!==c?n={currency:t.base,cost:c*t.taker,rate:t.taker}:"sell"===d&&void 0!==u&&(n={currency:t.quote,cost:u*t.taker,rate:t.taker})}return{id:s,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:a,type:void 0,side:d,price:o,amount:c,cost:u,fee:n}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({pair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o[a.id],a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades() requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={pair:a.id},void 0!==n&&(o.limit=n),e.next=13,this.privatePostUserTrades(this.extend(o,s));case 13:return c=e.sent,void 0!==a&&(c=c[a.id]),e.abrupt("return",this.parseTrades(c,a,r,n));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p,f,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>4&&void 0!==v[4]?v[4]:void 0,o=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:return c="market"===r?r+"_":"",u=this.market(t),"market"===r&&void 0===a&&(a=0),d={pair:u.id,quantity:this.amountToPrecision(t,s),type:c+n,price:this.priceToPrecision(t,a)},e.next=10,this.privatePostOrderCreate(this.extend(d,o));case 10:return h=e.sent,l=this.safeString(h,"order_id"),p=this.milliseconds(),s=parseFloat(s),a=parseFloat(a),"open",f={id:l,timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,status:"open",symbol:t,type:r,side:n,price:a,cost:a*s,amount:s,remaining:s,filled:0,fee:void 0,trades:void 0},this.orders[l]=f,e.abrupt("return",this.extend({info:h},f));case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:t});case 6:return r=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.loadMarkets();case 4:return e.prev=4,e.next=7,this.privatePostOrderTrades({order_id:t.toString()});case 7:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0 instanceof y)){e.next=16;break}if(!(t in this.orders)){e.next=16;break}return e.abrupt("return",this.orders[t]);case 16:throw new y(this.id+" fetchOrder order id "+t.toString()+" not found in cache.");case 17:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},o=void 0,void 0!==r&&(o=this.market(r)),e.next=8,this.privatePostOrderTrades(this.extend({order_id:t.toString()},a));case 8:return c=e.sent,u=this.safeValue(c,"trades"),e.abrupt("return",this.parseTrades(u,o,n,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateCachedOrders",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r].id;this.orders[n]=e[r]}for(var i=this.indexBy(e,"id"),s=Object.keys(this.orders),a=0;a<s.length;a++){var o=s[a],c=this.orders[o];if(!(o in i)){if(void 0!==t&&t!==c.symbol)continue;"open"===c.status&&(void 0===(c=this.extend(c,{status:"closed",cost:void 0,filled:c.amount,remaining:0})).cost&&void 0!==c.filled&&(c.cost=c.filled*c.price),this.orders[o]=c)}}return this.toArray(this.orders)}},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,n=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostUserOpenOrders(s);case 8:for(a=e.sent,o=Object.keys(a),c=[],u=0;u<o.length;u++)d=o[u],h=void 0,d in this.markets_by_id&&(h=this.markets_by_id[d]),l=this.parseOrders(a[d],h),c=this.arrayConcat(c,l);return this.updateCachedOrders(c,t),e.abrupt("return",this.filterBySymbolSinceLimit(this.toArray(this.orders),t,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,s);case 6:return a=this.filterBy(this.orders,"status","open"),e.abrupt("return",this.filterBySymbolSinceLimit(a,t,r,n));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,s);case 6:return a=this.filterBy(this.orders,"status","closed"),e.abrupt("return",this.filterBySymbolSinceLimit(a,t,r,n));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"order_id"),n=this.safeInteger(e,"created");void 0!==n&&(n*=1e3);var i=void 0,s=this.safeString(e,"type");if(void 0===t){var a=void 0;"pair"in e?a=e.pair:"in_currency"in e&&"out_currency"in e&&(a="buy"===s?e.in_currency+"_"+e.out_currency:e.out_currency+"_"+e.in_currency),void 0!==a&&a in this.markets_by_id&&(t=this.markets_by_id[a])}var o=this.safeFloat(e,"quantity");if(void 0===o){var c="buy"===s?"in_amount":"out_amount";o=this.safeFloat(e,c)}var u=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount"),h=0,l=[],p=this.safeValue(e,"trades"),f=void 0;if(void 0!==p&&Array.isArray(p))for(var v=0;v<p.length;v++){var m=this.parseTrade(p[v],t);void 0===r&&(r=m.order),void 0===n&&(n=m.timestamp),n>m.timestamp&&(n=m.timestamp),h=this.sum(h,m.amount),void 0===f&&(f=0),f=this.sum(f,m.fee.cost),void 0===d&&(d=0),d=this.sum(d,m.cost),l.push(m)}var y=void 0;void 0!==o&&(y=o-h);var g=this.safeString(e,"status");g=h>=o?"closed":"open",void 0===t&&(t=this.getMarketFromTrades(l));var b=void 0;void 0!==t&&(i=t.symbol,b=t.quote),void 0===d?void 0!==u&&(d=u*h):void 0===u&&h>0&&(u=d/h);var k={cost:f,currency:b};return{id:r,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:g,symbol:i,type:"limit",side:s,price:u,cost:d,amount:o,filled:h,remaining:y,trades:l,fee:k,info:e}}},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostDepositAddress(r);case 5:return n=e.sent,s=this.safeString(n,t),a=void 0,o=void 0,s&&(c=s.split(","),a=c[0],c.length>1&&(o=c[1])),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:o,info:n});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getMarketFromTrades",value:function(e){var t=this.indexBy(e,"pair"),r=Object.keys(t);if(1===r.length)return this.markets[r[0]]}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=a[s],c=parseFloat(this.costToPrecision(e,n*o)),u="quote";return"sell"===r?c*=i:u="base",{type:s,currency:a[u],rate:o,cost:parseFloat(this.feeToPrecision(e,c))}}},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return o=this.currency(t),c={amount:r,currency:o.id,address:n},void 0!==s&&(c.invoice=s),e.next=9,this.privatePostWithdrawCrypt(this.extend(c,a));case 9:return u=e.sent,e.abrupt("return",{info:u,id:u.task_id});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({transferred:"ok",paid:"ok",pending:"pending",processing:"pending"},e,e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeFloat(e,"dt");void 0!==r&&(r*=1e3);var n=this.safeFloat(e,"amount");void 0!==n&&(n=Math.abs(n));var i=this.parseTransactionStatus(this.safeString(e,"status")),s=this.safeString(e,"txid"),a=this.safeString(e,"type"),o=this.safeString(e,"curr");void 0===t&&(t=this.safeValue(this.currencies_by_id,o)),o=void 0!==t?t.code:this.commonCurrencyCode(o);var c=this.safeString(e,"account");if(void 0!==c){var u=c.split(":");2===u.length&&(c=u[1].replace(" ",""))}var d=void 0;if(!this.fees.funding.percentage){var h="withdrawal"===a?"withdraw":"deposit",l=this.safeFloat(this.options.fundingFees[h],o);"cashback"===this.safeString(e,"provider")&&(l=0),void 0!==l&&("withdrawal"===a&&(n-=l),d={cost:l,currency:o,rate:void 0})}return{info:e,id:void 0,currency:o,amount:n,address:c,tag:void 0,status:i,type:a,updated:void 0,txid:s,timestamp:r,datetime:this.iso8601(r),fee:d}}},{key:"fetchTransactions",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},void 0!==r&&(a.date=parseInt(r/1e3)),o=void 0,void 0!==t&&(o=this.currency(t)),e.next=12,this.privatePostWalletHistory(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c.history,o,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/";if("web"!==t&&(a+=this.version+"/"),a+=e,"public"===t||"web"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else if("private"===t){this.checkRequiredCredentials();var o=this.nonce();s=this.urlencode(this.extend({nonce:o},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(void 0!==a&&("{"===s[0]||"["===s[0])&&"result"in a){var o=this.safeValue(a,"result",!1);if("string"===typeof o&&(o="true"===o||"1"===o),!o){var c=void 0,u=this.safeString(a,"error").split(":");if(u.length>1){var d=u[0].split(" ");c=d.length>1?d[1]:d[0]}var h=this.id+" "+this.json(a),l=this.exceptions;throw c in l?new l[c](h):new v(h)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.AuthenticationError,m=p.ExchangeNotAvailable;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"exx",name:"EXX",countries:["CN"],rateLimit:100,userAgent:this.userAgents.chrome,has:{fetchOrder:!0,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate",referral:"https://www.exx.com/r/fde4260159e53ab8a58cc9186d35501f"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}},commonCurrencies:{TV:"TIV"},exceptions:{103:v}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.length>0&&void 0!==w[0]?w[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=Object.keys(t),s=[],a=0;a<r.length;a++)o=r[a],c=t[o],u=o.split("_"),d=i(u,2),h=d[0],l=d[1],p=o.toUpperCase(),f=p.split("_"),v=i(f,2),m=v[0],y=v[1],m=this.commonCurrencyCode(m),y=this.commonCurrencyCode(y),g=m+"/"+y,b=!0===c.isOpen,k={amount:parseInt(c.amountScale),price:parseInt(c.priceScale)},s.push({id:o,symbol:g,base:m,quote:y,baseId:h,quoteId:l,active:b,precision:k,limits:{amount:{min:Math.pow(10,-k.amount),max:Math.pow(10,k.amount)},price:{min:Math.pow(10,-k.price),max:Math.pow(10,k.price)},cost:{min:void 0,max:void 0}},info:c});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=parseInt(e.date);e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTicker(this.extend({currency:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:r=e.sent,i={},s=this.milliseconds(),a=Object.keys(r),o=0;case 11:if(!(o<a.length)){e.next=22;break}if((c=a[o])in this.marketsById){e.next=15;break}return e.abrupt("continue",19);case 15:u=this.marketsById[c],d=u.symbol,h={date:s,ticker:r[c]},i[d]=this.parseTicker(h,u);case 19:o++,e.next=11;break;case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetDepth(this.extend({currency:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,i.timestamp));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=t.symbol,a=this.costToPrecision(s,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({currency:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetGetBalance(t);case 5:for(r=e.sent,i={info:r},r=r.funds,s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=this.commonCurrencyCode(o),d={free:parseFloat(c.balance),used:parseFloat(c.freeze),total:parseFloat(c.total)},i[u]=d;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,n=parseInt(e.trade_date),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"trade_money"),a=this.safeFloat(e,"total_amount"),o=this.safeFloat(e,"trade_amount",0),c=parseFloat(this.amountToPrecision(r,a-o)),u=this.safeInteger(e,"status");u=1===u?"canceled":2===u?"closed":"open";var d=void 0;return"fees"in e&&(d={cost:this.safeFloat(e,"fees"),currency:t.quote}),{id:this.safeString(e,"id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:u,symbol:r,type:"limit",side:e.type,price:i,cost:s,amount:a,filled:o,remaining:c,trades:void 0,fee:d,info:e}}},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),e.next=7,this.privateGetOrder(this.extend({currency:c.id,type:i,price:a,amount:s},o));case 7:return u=e.sent,d=u.id,h=this.parseOrder({id:d,trade_date:this.milliseconds(),total_amount:s,price:a,type:i,info:u},c),this.orders[d]=h,e.abrupt("return",h);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privateGetCancel(this.extend({id:t,currency:s.id},i));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privateGetGetOrder(this.extend({id:t,currency:s.id},i));case 7:return a=e.sent,e.abrupt("return",this.parseOrder(a,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),e.next=9,this.privateGetGetOpenOrders(this.extend({currency:a.id},s));case 9:if(o=e.sent,Array.isArray(o)){e.next=12;break}return e.abrupt("return",[]);case 12:return e.abrupt("return",this.parseOrders(o,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},n)));a+="?"+o+"&signature="+this.hmac(this.encode(o),this.encode(this.secret),"sha512"),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeString(a,"code"),c=this.safeString(a,"message"),u=this.id+" "+this.json(a);if("100"===o)return;if(void 0!==o){var d=this.exceptions;if(o in d)throw new d[o](u);if("308"===o)return;throw new f(u)}var h=this.safeValue(a,"result");if(void 0!==h&&!h)throw"\u670d\u52a1\u7aef\u5fd9\u788c"===c?new m(u):new f(u)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ExchangeNotAvailable,v=l.InsufficientFunds,m=l.InvalidOrder,y=l.DDoSProtection,g=l.InvalidNonce,b=l.AuthenticationError,k=l.NotSupported;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"fcoin",name:"FCoin",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v2",accounts:void 0,accountsById:void 0,hostname:"api.fcoin.com",has:{CORS:!1,fetchDepositAddress:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchTradingLimits:!1,withdraw:!1,fetchCurrencies:!1},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","1d":"D1","1w":"W1","1M":"MN"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42244210-c8c42e1e-7f1c-11e8-8710-a5fb63b165c4.jpg",api:"https://api.fcoin.com",www:"https://www.fcoin.com",referral:"https://www.fcoin.com/i/Z5P7V",doc:"https://developer.fcoin.com",fees:"https://support.fcoin.com/hc/en-us/articles/360003715514-Trading-Rules"},api:{market:{get:["ticker/{symbol}","depth/{level}/{symbol}","trades/{symbol}","candles/{timeframe}/{symbol}"]},public:{get:["symbols","currencies","server-time"]},private:{get:["accounts/balance","orders","orders/{order_id}","orders/{order_id}/match-results"],post:["orders","orders/{order_id}/submit-cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},limits:{amount:{min:.01,max:1e5}},options:{createMarketBuyOrderRequiresPrice:!0,limits:{"BTM/USDT":{amount:{min:.1,max:1e7}},"ETC/USDT":{amount:{min:.001,max:4e5}},"ETH/USDT":{amount:{min:.001,max:1e4}},"LTC/USDT":{amount:{min:.001,max:4e4}},"BCH/USDT":{amount:{min:.001,max:5e3}},"BTC/USDT":{amount:{min:.001,max:1e3}},"ICX/ETH":{amount:{min:.01,max:3e6}},"OMG/ETH":{amount:{min:.01,max:5e5}},"FT/USDT":{amount:{min:1,max:1e7}},"ZIL/ETH":{amount:{min:1,max:1e7}},"ZIP/ETH":{amount:{min:1,max:1e7}},"FT/BTC":{amount:{min:1,max:1e7}},"FT/ETH":{amount:{min:1,max:1e7}}}},exceptions:{400:k,401:b,405:k,429:y,1002:f,1016:v,3008:m,6004:g,6005:b},commonCurrencies:{DAG:"DAGX",PAI:"PCHAIN"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetSymbols();case 3:for(t=e.sent,r=[],i=t.data,s=0;s<i.length;s++)a=i[s],o=a.name,c=a.base_currency,u=a.quote_currency,d=c.toUpperCase(),d=this.commonCurrencyCode(d),h=u.toUpperCase(),h=this.commonCurrencyCode(h),l=d+"/"+h,p={price:a.price_decimal,amount:a.amount_decimal},f={price:{min:Math.pow(10,-p.price),max:Math.pow(10,p.price)}},l in this.options.limits&&(f=this.extend(this.options.limits[l],f)),r.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:!0,precision:p,limits:f,info:a});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountsBalance(t);case 5:for(r=e.sent,i={info:r},s=r.data,a=0;a<s.length;a++)o=s[a],c=o.currency,u=c.toUpperCase(),u=c in this.currencies_by_id?this.currencies_by_id[c].code:this.commonCurrencyCode(u),(d=this.account()).free=parseFloat(o.available),d.total=parseFloat(o.balance),d.used=parseFloat(o.frozen),i[u]=d;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseBidsAsks",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],i=e.length,s=parseInt(i/2),a=0;a<s;a++){var o=2*a,c=this.sum(o,t),u=this.sum(o,r);n.push([this.safeFloat(e,c),this.safeFloat(e,u)])}return n}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=5,this.loadMarkets();case 5:if(void 0===r){e.next=13;break}if(20!==r&&100!==r){e.next=10;break}r="L"+r.toString(),e.next=11;break;case 10:throw new p(this.id+" fetchOrderBook supports limit of 20, 100 or no limit. Other values are not accepted");case 11:e.next=14;break;case 13:r="full";case 14:return s=this.extend({symbol:this.marketId(t),level:r},i),e.next=17,this.marketGetDepthLevelSymbol(s);case 17:return a=e.sent,o=a.data,e.abrupt("return",this.parseOrderBook(o,o.ts,"bids","asks",0,1));case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.marketGetTickerSymbol(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.data,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=this.safeString(e,"type");if(void 0!==n){var i=n.split(".")[1];i in this.markets_by_id&&(t=this.markets_by_id[i])}}var s=e.ticker,a=s[0];return void 0!==t&&(r=t.symbol),{symbol:r,timestamp:void 0,datetime:this.iso8601(void 0),high:s[7],low:s[8],bid:s[2],bidVolume:s[3],ask:s[4],askVolume:s[5],vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s[9],quoteVolume:s[10],info:e}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0!==t&&(r=t.symbol);var n=parseInt(e.ts),i=e.side.toLowerCase(),s=this.safeString(e,"id"),a=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=a*o;return{id:s,info:e,timestamp:n,datetime:this.iso8601(n),symbol:r,type:void 0,order:s,side:i,price:a,amount:o,cost:c,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:50,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id,limit:i},void 0!==r&&(o.timestamp=parseInt(r/1e3)),e.next=10,this.marketGetTradesSymbol(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c.data,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},"market"!==r){e.next=10;break}if("buy"!==i){e.next=10;break}if(!this.options.createMarketBuyOrderRequiresPrice){e.next=10;break}if(void 0!==a){e.next=9;break}throw new m(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 9:s*=a;case 10:return e.next=12,this.loadMarkets();case 12:return c=r,u={symbol:this.marketId(t),amount:this.amountToPrecision(t,s),side:i,type:c},"limit"===r&&(u.price=this.priceToPrecision(t,a)),e.next=17,this.privatePostOrders(this.extend(u,o));case 17:return d=e.sent,e.abrupt("return",{info:d,id:d.data});case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrdersOrderIdSubmitCancel(this.extend({order_id:t},r));case 6:return i=e.sent,s=this.parseOrder(i),e.abrupt("return",this.extend(s,{id:t,status:"canceled"}));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={submitted:"open",canceled:"canceled",partial_filled:"open",partial_canceled:"canceled",filled:"closed",pending_cancel:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.safeString(e,"side"),i=this.parseOrderStatus(this.safeString(e,"state")),s=void 0;if(void 0===t){var a=this.safeString(e,"symbol");a in this.markets_by_id&&(t=this.markets_by_id[a])}var o=this.safeString(e,"type"),c=this.safeInteger(e,"created_at"),u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"filled_amount"),h=void 0,l=this.safeFloat(e,"price"),p=this.safeFloat(e,"executed_value");void 0!==d&&(void 0!==u&&(h=u-d),void 0===p?void 0!==l&&(p=l*d):p>0&&d>0&&(l=p/d));var f=void 0;void 0!==t&&(s=t.symbol,f="buy"===n?t.base:t.quote);var v=this.safeFloat(e,"fill_fees");return{info:e,id:r,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:s,type:o,side:n,price:l,cost:p,amount:u,remaining:h,filled:d,average:void 0,status:i,fee:{cost:v,currency:f},trades:void 0}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.extend({order_id:t},r),e.next=7,this.privateGetOrdersOrderId(i);case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s.data));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,{states:"submitted,partial_filled"});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,{states:"filled"});case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={symbol:a.id,states:"submitted,partial_filled,partial_canceled,filled,canceled"},void 0!==i&&(o.limit=i),e.next=11,this.privateGetOrders(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c.data,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.id,e.open,e.high,e.low,e.close,e.base_vol]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:100,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:if(void 0!==s){e.next=8;break}throw new p(this.id+" fetchOHLCV requires a limit argument");case 8:return o=this.market(t),c=this.extend({symbol:o.id,timeframe:this.timeframes[r],limit:s},a),e.next=12,this.marketGetCandlesTimeframeSymbol(c);case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/";a+="private"===t?"":t+"/",a+=this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e)),c=this.urls.api+a;if("public"===t||"market"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString();o=this.keysort(o),"GET"===r&&Object.keys(o).length&&(c+="?"+this.rawencode(o));var d=r+c+u;"POST"===r&&Object.keys(o).length&&(s=this.json(o),d+=this.urlencode(o));var h=this.stringToBase64(this.encode(d)),l=this.hmac(h,this.encode(this.secret),"sha1","binary");l=this.decode(this.stringToBase64(l)),i={"FC-ACCESS-KEY":this.apiKey,"FC-ACCESS-SIGNATURE":l,"FC-ACCESS-TIMESTAMP":u,"Content-Type":"application/json"}}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeString(a,"status");if("0"!==o){var c=this.id+" "+s;if(o in this.exceptions)throw new this.exceptions[o](c);throw new p(c)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"flowbtc",name:"flowBTC",countries:["BR"],version:"v1",rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28162465-cd815d4c-67cf-11e7-8e57-438bea0523a2.jpg",api:"https://api.flowbtc.com:8405/ajax",www:"https://trader.flowbtc.com",doc:"https://www.flowbtc.com.br/api.html"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0035,taker:.0035}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicPostGetProductPairs();case 3:for(t=e.sent,r=t.productPairs,i={},s=0;s<r.length;s++)a=r[s],o=a.name,c=a.product1Label,u=a.product2Label,d={amount:this.safeInteger(a,"product1DecimalPlaces"),price:this.safeInteger(a,"product2DecimalPlaces")},i[h=c+"/"+u]={id:o,symbol:h,base:c,quote:u,precision:d,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:a};return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccountInfo();case 5:for(t=e.sent,r=t.currencies,i={info:t},s=0;s<r.length;s++)a=r[s],o=a.name,(c={free:a.balance,used:a.hold,total:0}).total=this.sum(c.free,c.used),i[o]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicPostGetOrderBook(this.extend({productPair:i.id},r));case 7:return s=e.sent,e.abrupt("return",this.parseOrderBook(s,void 0,"bids","asks","px","qty"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicPostGetTicker(this.extend({productPair:i.id},r));case 6:return s=e.sent,a=this.milliseconds(),o=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"volume24hr"),quoteVolume:this.safeFloat(s,"volume24hrProduct2"),info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.unixtime,n=0===e.incomingOrderSide?"buy":"sell";return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:n,price:e.px,amount:e.qty}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicPostGetTrades(this.extend({ins:a.id,startIndex:-1},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.trades,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c="market"===r?1:0,u={ins:this.marketId(t),side:i,orderType:c,qty:s,px:this.priceToPrecision(t,a)},e.next=8,this.privatePostCreateOrder(this.extend(u,o));case 8:return d=e.sent,e.abrupt("return",{info:d,id:d.serverOrderId});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:if(!("ins"in r)){e.next=8;break}return e.next=7,this.privatePostCancelOrder(this.extend({serverOrderId:t},r));case 7:return e.abrupt("return",e.sent);case 8:throw new l(this.id+" requires `ins` symbol parameter for cancelling an order");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(s=this.json(n));else{this.checkRequiredCredentials();var o=this.nonce(),c=o.toString()+this.uid+this.apiKey,u=this.hmac(this.encode(c),this.encode(this.secret));s=this.json(this.extend({apiKey:this.apiKey,apiNonce:o,apiSig:u.toUpperCase()},n)),i={"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("isAccepted"in(c=e.sent))){e.next=11;break}if(!c.isAccepted){e.next=11;break}return e.abrupt("return",c);case 11:throw new l(this.id+" "+this.json(c));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(86);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"fybsg",name:"FYB-SG",countries:["SG"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766513-3364d56a-5edb-11e7-9e6b-d5898bb89c81.jpg",api:"https://www.fybsg.com/api/SGD",www:"https://www.fybsg.com",doc:"https://fyb.docs.apiary.io"},markets:{"BTC/SGD":{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"}}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError,v=l.InvalidAddress,m=l.InsufficientFunds,y=l.OrderNotFound,g=l.InvalidOrder,b=l.PermissionDenied;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"gatecoin",name:"Gatecoin",rateLimit:2e3,countries:["HK"],comment:"a regulated/licensed exchange",has:{CORS:!1,createDepositAddress:!0,fetchDepositAddress:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1m","15m":"15m","1h":"1h","6h":"6h","1d":"24h"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28646817-508457f2-726c-11e7-9eeb-3528d2413a58.jpg",api:"https://api.gatecoin.com",www:"https://gatecoin.com",doc:["https://gatecoin.com/api","https://github.com/Gatecoin/RESTful-API-Implementation","https://api.gatecoin.com/swagger-ui/index.html"]},api:{public:{get:["Public/ExchangeRate","Public/LiveTicker","Public/LiveTicker/{CurrencyPair}","Public/LiveTickers","Public/MarketDepth/{CurrencyPair}","Public/NetworkStatistics/{DigiCurrency}","Public/StatisticHistory/{DigiCurrency}/{Typeofdata}","Public/TickerHistory/{CurrencyPair}/{Timeframe}","Public/Transactions/{CurrencyPair}","Public/TransactionsHistory/{CurrencyPair}","Reference/BusinessNatureList","Reference/Countries","Reference/Currencies","Reference/CurrencyPairs","Reference/CurrentStatusList","Reference/IdentydocumentTypes","Reference/IncomeRangeList","Reference/IncomeSourceList","Reference/VerificationLevelList","Stream/PublicChannel"],post:["Export/Transactions","Ping","Public/Unsubscribe/{EmailCode}","RegisterUser"]},private:{get:["Account/CorporateData","Account/DocumentAddress","Account/DocumentCorporation","Account/DocumentID","Account/DocumentInformation","Account/Email","Account/FeeRate","Account/Level","Account/PersonalInformation","Account/Phone","Account/Profile","Account/Questionnaire","Account/Referral","Account/ReferralCode","Account/ReferralNames","Account/ReferralReward","Account/ReferredCode","Account/ResidentInformation","Account/SecuritySettings","Account/User","APIKey/APIKey","Auth/ConnectionHistory","Balance/Balances","Balance/Balances/{Currency}","Balance/Deposits","Balance/Withdrawals","Bank/Accounts/{Currency}/{Location}","Bank/Transactions","Bank/UserAccounts","Bank/UserAccounts/{Currency}","ElectronicWallet/DepositWallets","ElectronicWallet/DepositWallets/{DigiCurrency}","ElectronicWallet/Transactions","ElectronicWallet/Transactions/{DigiCurrency}","ElectronicWallet/UserWallets","ElectronicWallet/UserWallets/{DigiCurrency}","Info/ReferenceCurrency","Info/ReferenceLanguage","Notification/Messages","Trade/Orders","Trade/Orders/{OrderID}","Trade/StopOrders","Trade/StopOrdersHistory","Trade/Trades","Trade/UserTrades"],post:["Account/DocumentAddress","Account/DocumentCorporation","Account/DocumentID","Account/Email/RequestVerify","Account/Email/Verify","Account/GoogleAuth","Account/Level","Account/Questionnaire","Account/Referral","APIKey/APIKey","Auth/ChangePassword","Auth/ForgotPassword","Auth/ForgotUserID","Auth/Login","Auth/Logout","Auth/LogoutOtherSessions","Auth/ResetPassword","Bank/Transactions","Bank/UserAccounts","ElectronicWallet/DepositWallets/{DigiCurrency}","ElectronicWallet/Transactions/Deposits/{DigiCurrency}","ElectronicWallet/Transactions/Withdrawals/{DigiCurrency}","ElectronicWallet/UserWallets/{DigiCurrency}","ElectronicWallet/Withdrawals/{DigiCurrency}","Notification/Messages","Notification/Messages/{ID}","Trade/Orders","Trade/StopOrders"],put:["Account/CorporateData","Account/DocumentID","Account/DocumentInformation","Account/Email","Account/PersonalInformation","Account/Phone","Account/Questionnaire","Account/ReferredCode","Account/ResidentInformation","Account/SecuritySettings","Account/User","Bank/UserAccounts","ElectronicWallet/DepositWallets/{DigiCurrency}/{AddressName}","ElectronicWallet/UserWallets/{DigiCurrency}","Info/ReferenceCurrency","Info/ReferenceLanguage"],delete:["APIKey/APIKey/{PublicKey}","Bank/Transactions/{RequestID}","Bank/UserAccounts/{Currency}/{Label}","ElectronicWallet/DepositWallets/{DigiCurrency}/{AddressName}","ElectronicWallet/UserWallets/{DigiCurrency}/{AddressName}","Trade/Orders","Trade/Orders/{OrderID}","Trade/StopOrders","Trade/StopOrders/{ID}"]}},fees:{trading:{maker:.0025,taker:.0035}},commonCurrencies:{BCP:"BCPT",FLI:"FLIXX",MAN:"MANA",SLT:"SALT",TRA:"TRAC",WGS:"WINGS"},exceptions:{1005:m,1008:y,1057:g,1044:y,1054:y}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetReferenceCurrencyPairs();case 3:for(t=e.sent,r=t.currencyPairs,i=[],s=0;s<r.length;s++)a=r[s],o=a.tradingCode,c=a.baseCurrency,u=a.quoteCurrency,d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,p={amount:8,price:a.priceDecimalPlaces},f={amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:Math.pow(10,-p.amount),max:void 0},cost:{min:void 0,max:void 0}},i.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:!0,precision:p,limits:f,info:a});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalanceBalances();case 5:for(t=e.sent,r=t.balances,i={info:r},s=0;s<r.length;s++)a=r[s],o=a.currency,c=o,o in this.currencies_by_id&&(c=this.currencies_by_id[o].code),u={free:a.availableBalance,used:this.sum(a.pendingIncoming,a.pendingOutgoing,a.openOrder),total:a.balance},i[c]=u;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicGetPublicMarketDepthCurrencyPair(this.extend({CurrencyPair:i.id},r));case 7:return s=e.sent,e.abrupt("return",this.parseOrderBook(s,void 0,"bids","asks","price","volume"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetTradeOrdersOrderID(this.extend({OrderID:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.order));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.createDateTime),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"volume"),s=this.safeFloat(e,"vwap"),a=void 0;void 0!==i&&void 0!==s&&(a=i*s);var o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:s,open:this.safeFloat(e,"open"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:i,quoteVolume:a,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPublicLiveTickers(t);case 6:for(r=e.sent,i=r.tickers,s={},a=0;a<i.length;a++)o=i[a],c=o.currencyPair,u=this.markets_by_id[c],d=u.symbol,s[d]=this.parseTicker(o,u);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPublicLiveTickerCurrencyPair(this.extend({CurrencyPair:i.id},r));case 6:return s=e.sent,a=s.ticker,e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0;if("way"in e){r="bid"===e.way?"buy":"sell";var i=e.way+"OrderId";n=this.safeString(e,i)}var s=1e3*parseInt(e.transactionTime);if(void 0===t){var a=this.safeString(e,"currencyPair");void 0!==a&&(t=this.findMarket(a))}var o=void 0,c=this.safeFloat(e,"feeAmount"),u=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity"),h=u*d,l=void 0,p=void 0;return void 0!==t&&(p=t.symbol,l=t.quote),void 0!==c&&(o={cost:c,currency:l,rate:this.safeFloat(e,"feeRate")}),{info:e,id:this.safeString(e,"transactionId"),order:n,timestamp:s,datetime:this.iso8601(s),symbol:p,type:void 0,side:r,price:u,amount:d,cost:h,fee:o}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetPublicTransactionsCurrencyPair(this.extend({CurrencyPair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.transactions,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*parseInt(e.createDateTime),e.open,e.high,e.low,e.last,e.volume]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={CurrencyPair:o.id,Timeframe:this.timeframes[r]},void 0!==s&&(c.Count=s),c=this.extend(c,a),e.next=12,this.publicGetPublicTickerHistoryCurrencyPairTimeframe(c);case 12:return u=e.sent,d=this.parseOHLCVs(u.tickers,o,r,i,s),e.abrupt("return",this.sortBy(d,0));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},e.next=4,this.loadMarkets();case 4:if(c={Code:this.marketId(t),Way:"buy"===i?"Bid":"Ask",Amount:s},"limit"===r&&(c.Price=a),!this.twofa){e.next=12;break}if(!("ValidationCode"in o)){e.next=11;break}c.ValidationCode=o.ValidationCode,e.next=12;break;case 11:throw new f(this.id+" two-factor authentication requires a missing ValidationCode parameter");case 12:return e.next=14,this.privatePostTradeOrders(this.extend(c,o));case 14:return u=e.sent,e.abrupt("return",{info:u,status:"open",id:this.safeString(u,"clOrderId")});case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteTradeOrdersOrderID({OrderID:t});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={1:"open",2:"open",4:"canceled",6:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=0===e.side?"buy":"sell",n=0===e.type?"limit":"market",i=void 0;if(void 0===t){var s=this.safeString(e,"code");s in this.markets_by_id&&(t=this.markets_by_id[s])}void 0!==t&&(i=t.symbol);var a=1e3*parseInt(e.date),o=e.initialQuantity,c=e.remainingQuantity,u=o-c,d=e.price,h=d*u,l=e.clOrderId,p=this.parseOrderStatus(this.safeString(e,"status")),f=void 0,v=void 0;if("closed"===p){var m=void 0,y=void 0;f=[];var g=this.safeValue(e,"trades"),b=void 0,k=void 0,w=void 0;if(void 0!==g&&Array.isArray(g)){for(var x=0;x<g.length;x++){var T=this.parseTrade(g[x]);void 0===m&&(m=0),void 0===y&&(y=0),m+=T.amount,y+=T.amount*T.price,"fee"in T&&(void 0!==T.fee.cost&&(void 0===b&&(b=0),b+=T.fee.cost),k=T.fee.currency,void 0!==T.fee.rate&&(void 0===w&&(w=0),w+=T.fee.rate)),f.push(T)}if(void 0!==m&&m>0&&(d=y/m),void 0!==w){var _=f.length;_>0&&(w/=_)}void 0!==b&&(v={cost:b,currency:k,rate:w})}}return{id:l,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:p,symbol:i,type:n,side:r,price:d,amount:o,filled:u,remaining:c,cost:h,trades:f,fee:v,info:e}}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetTradeOrders();case 8:if(s=e.sent,a=this.parseOrders(s.orders,void 0,r,i),void 0===t){e.next=12;break}return e.abrupt("return",this.filterBySymbol(a,t));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce(),u=c.toString(),d="GET"===r?"":"application/json",h=r+a+d+u;h=h.toLowerCase();var l=this.hmac(this.encode(h),this.encode(this.secret),"sha256","base64");i={API_PUBLIC_KEY:this.apiKey,API_REQUEST_SIGNATURE:this.decode(l),API_REQUEST_DATE:u},"GET"!==r&&(i["Content-Type"]=d,s=this.json(this.extend({nonce:c},n)))}return{url:a,method:r,body:s,headers:i}}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),o={DigiCurrency:a.id,Address:i,Amount:r},e.next=9,this.privatePostElectronicWalletWithdrawalsDigiCurrency(this.extend(o,s));case 9:return c=e.sent,e.abrupt("return",{info:c,id:this.safeString(c,"id")});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),s={DigiCurrency:i.id},e.next=7,this.privateGetElectronicWalletDepositWalletsDigiCurrency(this.extend(s,r));case 7:if(a=e.sent,o=a.addresses,!(o.length<1)){e.next=12;break}throw new v(this.id+" privateGetElectronicWalletDepositWalletsDigiCurrency() returned no addresses");case 12:return c=this.safeString(o[0],"address"),this.checkAddress(c),e.abrupt("return",{currency:t,address:c,tag:void 0,info:a});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),s={DigiCurrency:i.id},e.next=7,this.privatePostElectronicWalletDepositWalletsDigiCurrency(this.extend(s,r));case 7:return a=e.sent,o=a.address,this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:void 0,info:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createUserWallet",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,this.loadMarkets();case 3:return o=this.currency(t),c={DigiCurrency:o.id,AddressName:i,Address:r,Password:s},e.next=7,this.privatePostElectronicWalletUserWalletsDigiCurrency(this.extend(c,a));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)){if(s.indexOf("You are not authorized")>=0)throw new b(s);if("{"===s[0]&&"responseStatus"in a){var o=this.safeString(a.responseStatus,"errorCode"),c=this.safeString(a.responseStatus,"message"),u=this.id+" "+s;if(void 0!==o){var d=this.exceptions;if(o in d)throw new d[o](u);throw new p(u)}if(void 0!==c&&"OK"!==c)throw new p(u)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.InvalidAddress,y=p.OrderNotFound,g=p.NotSupported,b=p.DDoSProtection,k=p.InsufficientFunds;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"gateio",name:"Gate.io",countries:["CN"],version:"2",rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0,withdraw:!0,createDepositAddress:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOrderTrades:!0,fetchOrders:!0,fetchOrder:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"],referral:"https://www.gate.io/signup/2436035"},api:{public:{get:["pairs","marketinfo","marketlist","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{4:b,7:g,8:g,9:g,15:b,16:y,17:y,21:k},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"},options:{limits:{cost:{min:{BTC:1e-4,ETH:.001,USDT:1}}}}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,v,m,y,g,b,k,w,x,T,_,C=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.length>0&&void 0!==C[0]?C[0]:{},e.next=3,this.publicGetMarketinfo();case 3:if(t=e.sent,r=this.safeValue(t,"pairs")){e.next=7;break}throw new f(this.id+" fetchMarkets got an unrecognized response");case 7:for(s=[],a=0;a<r.length;a++)o=r[a],c=Object.keys(o),u=c[0],d=o[u],h=u.split("_"),l=i(h,2),p=l[0],v=l[1],m=p.toUpperCase(),y=v.toUpperCase(),m=this.commonCurrencyCode(m),y=this.commonCurrencyCode(y),g=m+"/"+y,b={amount:8,price:d.decimal_places},k={min:d.min_amount,max:void 0},w={min:Math.pow(10,-d.decimal_places),max:void 0},x=k.min*w.min,T=this.safeFloat(this.options.limits.cost.min,y,x),_={amount:k,price:w,cost:{min:T,max:void 0}},!0,s.push({id:u,symbol:g,base:m,quote:y,baseId:p,quoteId:v,info:o,active:!0,maker:d.fee/100,taker:d.fee/100,precision:b,limits:_});return e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances();case 5:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],o=this.commonCurrencyCode(a),c=this.account(),"available"in t&&a in t.available&&(c.free=parseFloat(t.available[a])),"locked"in t&&a in t.locked&&(c.used=parseFloat(t.locked[a])),c.total=this.sum(c.free,c.used),r[o]=c;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBookId(this.extend({id:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last"),s=this.safeFloat(e,"percentChange"),a=void 0,o=void 0,c=void 0;if(void 0!==i&&void 0!==s){var u=s/100;o=i-(a=i/this.sum(1,u)),c=this.sum(i,a)/2}return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:a,close:i,last:i,previousClose:void 0,change:o,percentage:s,average:c,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(!(s.length<=0)&&("{"===s[0]&&"false"===this.safeString(a,"result",""))){var o=this.safeString(a,"code");if(void 0!==o){var c=this.exceptions,u=this.errorCodeNames;if(o in c){var d="";throw d=o in u?u[o]:this.safeString(a,"message","(unknown)"),new c[o](d)}}}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:void 0,t=g.length>1&&void 0!==g[1]?g[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,s={},a=Object.keys(r),o=0;o<a.length;o++)c=a[o],u=c.split("_"),d=i(u,2),h=d[0],l=d[1],p=h.toUpperCase(),f=l.toUpperCase(),p=this.commonCurrencyCode(p),f=this.commonCurrencyCode(f),v=p+"/"+f,m=r[c],y=void 0,v in this.markets&&(y=this.markets[v]),c in this.markets_by_id&&(y=this.markets_by_id[c]),s[v]=this.parseTicker(m,y);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTickerId(this.extend({id:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=this.safeInteger(e,"timestamp");void 0!==(r=this.safeInteger(e,"time_unix",r))&&(r*=1e3);var n=this.safeString(e,"tradeID");n=this.safeString(e,"id",n);var i=this.safeString(e,"orderid");i=this.safeString(e,"orderNumber",i);var s=this.safeFloat(e,"rate"),a=this.safeFloat(e,"amount"),o=void 0;return void 0!==s&&void 0!==a&&(o=s*a),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:i,type:void 0,side:e.type,price:s,amount:a,cost:o,fee:void 0}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradeHistoryId(this.extend({id:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:void 0,t=a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:void 0,i=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.privatePostOpenOrders(i);case 6:return s=e.sent,e.abrupt("return",this.parseOrders(s.orders,void 0,t,r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostGetOrder(this.extend({orderNumber:t,currencyPair:this.marketId(r)},i));case 6:return s=e.sent,e.abrupt("return",this.parseOrder(s.order));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={cancelled:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"orderNumber"),n=void 0,i=this.safeString(e,"currencyPair");i in this.markets_by_id&&(t=this.markets_by_id[i]),void 0!==t&&(n=t.symbol);var s=this.safeInteger(e,"timestamp");void 0!==s&&(s*=1e3);var a=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString(e,"type"),c=this.safeFloat(e,"filledRate"),u=this.safeFloat(e,"initialAmount"),d=this.safeFloat(e,"filledAmount"),h=this.safeFloat(e,"leftAmount");void 0===h&&(h=this.safeFloat(e,"left"));var l=this.safeFloat(e,"feeValue"),p=this.safeString(e,"feeCurrency"),f=this.safeFloat(e,"feePercentage");return void 0!==f&&(f/=100),void 0!==p&&p in this.currencies_by_id&&(p=this.currencies_by_id[p].code),{id:r,datetime:this.iso8601(s),timestamp:s,status:a,symbol:n,type:"limit",side:o,price:c,cost:void 0,amount:u,filled:d,remaining:h,trades:void 0,fee:{cost:l,currency:p,rate:f},info:e}}},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},"market"!==r){e.next=4;break}throw new f(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c="privatePost"+this.capitalize(i),u=this.market(t),d={currencyPair:u.id,rate:a,amount:s},e.next=11,this[c](this.extend(d,o));case 11:return h=e.sent,e.abrupt("return",this.parseOrder(this.extend({status:"open",type:i,initialAmount:s},h),u));case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:void 0,i.length>2&&void 0!==i[2]?i[2]:{},void 0!==r){e.next=4;break}throw new v(this.id+" cancelOrder requires symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostCancelOrder({orderNumber:t,currencyPair:this.marketId(r)});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"queryDepositAddress",value:function(){var e=s(n.mark(function e(t,r){var i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>2&&void 0!==d[2]?d[2]:{},e.next=3,this.loadMarkets();case 3:return s=this.currency(r),t="privatePost"+t+"Address",e.next=7,this[t](this.extend({currency:s.id},i));case 7:if(a=e.sent,o=this.safeString(a,"addr"),c=void 0,!(void 0!==o&&o.indexOf("address")>=0)){e.next=12;break}throw new m(this.id+" queryDepositAddress "+o);case 12:return"XRP"===r&&(u=o.split(" "),o=u[0],c=u[1]),e.abrupt("return",{currency:s,address:o,tag:c,info:a});case 14:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.queryDepositAddress("New",t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.queryDepositAddress("Deposit",t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return s=void 0,void 0!==t&&(s=this.market(t)),e.next=10,this.privatePostOpenOrders();case 10:return a=e.sent,e.abrupt("return",this.parseOrders(a.orders,s,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},void 0!==r){e.next=6;break}throw new v(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(r),e.next=11,this.privatePostTradeHistory(this.extend({currencyPair:o.id,orderNumber:t},a));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades,o,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires symbol param");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o=a.id,e.next=12,this.privatePostTradeHistory(this.extend({currencyPair:o},s));case 12:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={currency:o.id,amount:r,address:i},void 0!==s&&(c.address+=" "+s),e.next=10,this.privatePostWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="private"===t?t+"/":"",o=this.urls.api[t]+this.version+"/1/"+a+this.implodeParams(e,n),c=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();var u={nonce:this.nonce()};s=this.urlencode(this.extend(u,c));var d=this.hmac(this.encode(s),this.encode(this.secret),"sha512");i={Key:this.apiKey,Sign:d,"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"public",i=h.length>2&&void 0!==h[2]?h[2]:"GET",s=h.length>3&&void 0!==h[3]?h[3]:{},a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("result"in(c=e.sent))){e.next=20;break}if(u=c.result,d=this.id+" "+this.json(c),void 0!==u){e.next=13;break}throw new f(d);case 13:if("string"!==typeof u){e.next=18;break}if("true"===u){e.next=16;break}throw new f(d);case 16:e.next=20;break;case 18:if(u){e.next=20;break}throw new f(d);case 20:return e.abrupt("return",c);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"gemini",name:"Gemini",countries:["US"],rateLimit:1500,version:"v1",has:{fetchDepositAddress:!1,createDepositAddress:!0,CORS:!1,fetchBidsAsks:!1,fetchTickers:!1,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!1,createMarketOrder:!1,withdraw:!0,fetchTransactions:!0,fetchWithdrawals:!1,fetchDeposits:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:"https://api.gemini.com",www:"https://gemini.com",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:"https://api.sandbox.gemini.com",fees:["https://gemini.com/fee-schedule/","https://gemini.com/transfer-fees/"]},api:{public:{get:["symbols","pubticker/{symbol}","book/{symbol}","trades/{symbol}","auction/{symbol}","auction/{symbol}/history"]},private:{post:["order/new","order/cancel","order/cancel/session","order/cancel/all","order/status","orders","mytrades","tradevolume","transfers","balances","deposit/{currency}/newAddress","withdraw/{currency}","heartbeat","transfers"]}},fees:{trading:{taker:.01,maker:.01}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetSymbols();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],o=(a=s).toUpperCase(),c=o.slice(0,3),u=o.slice(3,6),d=c+"/"+u,r.push({id:s,symbol:d,base:c,quote:u,info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s={symbol:this.marketId(t)},void 0!==r&&(s.limit_bids=r,s.limit_asks=r),e.next=8,this.publicGetBookSymbol(this.extend(s,i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a,void 0,"bids","asks","price","amount"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPubtickerSymbol(this.extend({symbol:i.id},r));case 6:return s=e.sent,a=s.volume.timestamp,o=i.base,c=i.quote,u=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(s.volume[o]),quoteVolume:parseFloat(s.volume[c]),info:s});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=e.timestampms,n=void 0;"order_id"in e&&(n=e.order_id.toString());var i=this.safeFloat(e,"fee_amount");if(void 0!==i){var s=this.safeString(e,"fee_currency");void 0!==s&&(s in this.currencies_by_id&&(s=this.currencies_by_id[s].code),s=this.commonCurrencyCode(s)),i={cost:this.safeFloat(e,"fee_amount"),currency:s}}var a=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");return{id:e.tid.toString(),order:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type.toLowerCase(),price:a,cost:a*o,amount:o,fee:i}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradesSymbol(this.extend({symbol:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalances();case 5:for(t=e.sent,r={info:t},i=0;i<t.length;i++)s=t[i],a=s.currency,(o={free:parseFloat(s.available),used:0,total:parseFloat(s.amount)}).used=o.total-o.free,r[a]=o;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestampms,n=this.safeFloat(e,"original_amount"),i=this.safeFloat(e,"remaining_amount"),s=this.safeFloat(e,"executed_amount"),a="closed";e.is_live&&(a="open"),e.is_cancelled&&(a="canceled");var o=this.safeFloat(e,"price"),c=this.safeFloat(e,"avg_execution_price");0!==c&&(o=c);var u=void 0;void 0!==s&&void 0!==c&&(u=s*c);var d=this.safeString(e,"type");d="exchange limit"===d?"limit":"market buy"===d||"market sell"===d?"market":e.type;var h=void 0;if(void 0===t){var l=this.safeString(e,"symbol");l in this.markets_by_id&&(t=this.markets_by_id[l])}return void 0!==t&&(h=t.symbol),{id:e.order_id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:a,symbol:h,type:d,side:e.side.toLowerCase(),price:o,average:c,cost:u,amount:n,filled:s,remaining:i,fee:void 0}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderStatus(this.extend({order_id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostOrders(s);case 8:return a=e.sent,o=this.parseOrders(a,void 0,r,i),void 0!==t&&(c=this.market(t),o=this.filterBySymbol(o,c.symbol)),e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new p(this.id+" allows limit orders only");case 6:return c=this.nonce(),u={client_order_id:c.toString(),symbol:this.marketId(t),amount:s.toString(),price:a.toString(),side:i,type:"exchange limit"},e.next=10,this.privatePostOrderNew(this.extend(u,o));case 10:return d=e.sent,e.abrupt("return",{info:d,id:d.order_id});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderCancel({order_id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.limit_trades=i),void 0!==r&&(o.timestamp=parseInt(r/1e3)),e.next=14,this.privatePostMytrades(this.extend(o,s));case 14:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>3&&void 0!==c[3]?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),e.next=8,this.privatePostWithdrawCurrency(this.extend({currency:a.id,amount:r,address:i},s));case 8:return o=e.sent,e.abrupt("return",{info:o,id:this.safeString(o,"txHash")});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"fetchTransactions",value:function(){var e=i(n.mark(function e(){var t,r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:void 0,s.length>1&&void 0!==s[1]?s[1]:void 0,s.length>2&&void 0!==s[2]?s[2]:void 0,t=s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return r={},e.next=9,this.privatePostTransfers(this.extend(r,t));case 9:return i=e.sent,e.abrupt("return",this.parseTransactions(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestampms"),n=void 0;if(void 0===t){var i=this.safeString(e,"currency");i in this.currencies_by_id&&(t=this.currencies_by_id[i])}void 0!==t&&(n=t.code);var s=this.safeString(e,"type");void 0!==s&&(s=s.toLowerCase());var a="pending";return e.status&&(a="ok"),{info:e,id:this.safeString(e,"eid"),txid:this.safeString(e,"txHash"),timestamp:r,datetime:this.iso8601(r),address:void 0,tag:void 0,type:s,amount:this.safeFloat(e,"amount"),currency:n,status:a,updated:void 0,fee:{cost:void 0,rate:void 0}}}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce(),u=this.extend({request:a,nonce:c},o),d=this.json(u);d=this.stringToBase64(this.encode(d));var h=this.hmac(d,this.encode(this.secret),"sha384");i={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(d),"X-GEMINI-SIGNATURE":h}}return{url:a=this.urls.api+a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("result"in(c=e.sent))){e.next=11;break}if("error"!==c.result){e.next=11;break}throw new p(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostDepositCurrencyNewAddress(this.extend({currency:i.id},r));case 6:return s=e.sent,a=this.safeString(s,"address"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:void 0,info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(81);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"getbtc",name:"GetBTC",countries:["VC","RU"],rateLimit:1e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/33801902-03c43462-dd7b-11e7-992e-077e4cd015b9.jpg",api:"https://getbtc.org/api",www:"https://getbtc.org",doc:"https://getbtc.org/api-docs.php"},has:{fetchTrades:!1,fetchOHLCV:!1},fees:{trading:{taker:.002,maker:.002}},markets:{"BTC/USD":{symbol:"BTC/USD",quote:"USD",base:"BTC",precision:{amount:8,price:8},id:"USD",limits:{amount:{max:void 0,min:1e-8},price:{max:void 0,min:1e-8}}},"BTC/EUR":{symbol:"BTC/EUR",quote:"EUR",base:"BTC",precision:{amount:8,price:8},id:"EUR",limits:{amount:{max:void 0,min:1e-8},price:{max:void 0,min:1e-8}}},"BTC/RUB":{symbol:"BTC/RUB",quote:"RUB",base:"BTC",precision:{amount:8,price:8},id:"RUB",limits:{amount:{max:void 0,min:1e-8},price:{max:void 0,min:1e-8}}}}})}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(66),d=r(10).PermissionDenied;e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"hadax",name:"HADAX",countries:["CN"],hostname:"api.hadax.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/38059952-4756c49e-32f1-11e8-90b9-45c1eccba9cd.jpg",api:{market:"https://api.hadax.com",public:"https://api.hadax.com",private:"https://api.hadax.com"},www:"https://www.hadax.com",doc:"https://github.com/huobiapi/API_Docs/wiki"},has:{fetchCurrencies:!1},api:{public:{get:["hadax/common/symbols","hadax/common/currencys","common/timestamp","hadax/settings/currencys"]},private:{get:["account/accounts","hadax/account/accounts/{id}/balance","order/orders/{id}","order/orders/{id}/matchresults","order/orders","order/matchresults","dw/withdraw-virtual/addresses","dw/deposit-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance"],post:["hadax/order/orders/place","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay"]}},exceptions:{"not-allow-entry-hadax":d},options:{fetchMarketsMethod:"publicGetHadaxCommonSymbols",fetchBalanceMethod:"privateGetHadaxAccountAccountsIdBalance",createOrderMethod:"privatePostHadaxOrderOrdersPlace"},commonCurrencies:{FAIR:"FairGame",GET:"Themis",HOT:"Hydro Protocol"}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(87),l=r(10),p=l.PermissionDenied,f=l.ExchangeError,v=l.ExchangeNotAvailable,m=l.OrderNotFound,y=l.InsufficientFunds,g=l.InvalidOrder,b=r(19),k=b.TRUNCATE,w=b.DECIMAL_PLACES;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"hitbtc2",name:"HitBTC v2",countries:["HK"],rateLimit:1500,version:"2",has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!0,editOrder:!0,fetchCurrencies:!0,fetchOHLCV:!0,fetchTickers:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0,fetchOrderTrades:!1,fetchDeposits:!1,fetchWithdrawals:!1,fetchTransactions:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"https://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["symbol","symbol/{symbol}","currency","currency/{currency}","ticker","ticker/{symbol}","trades/{symbol}","orderbook/{symbol}","candles/{symbol}"]},private:{get:["order","order/{clientOrderId}","trading/balance","trading/fee/{symbol}","history/trades","history/order","history/order/{id}/trades","account/balance","account/transactions","account/transactions/{id}","account/crypto/address/{currency}"],post:["order","account/crypto/withdraw","account/crypto/address/{currency}","account/transfer"],put:["order/{clientOrderId}","account/crypto/withdraw/{id}"],delete:["order","order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-1e-4,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00958,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,XRP:.509,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMM:14,AMP:342,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,BET:124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTCA:351.21,BTM:40,BTX:.04,BUS:.004,CAPP:97,CCT:6,CDT:100,CDX:30,CFI:61,CL:13.85,CLD:.88,CND:574,CNX:.04,COSS:65,CPAY:5.487,CSNO:16,CTR:15,CTX:146,CVC:8.46,DATA:12.949,DBIX:.0168,DCN:1280,DCT:.02,DDF:342,DENT:1e3,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,EKO:1136.36,ELE:.00172,ELM:.004,EMC:.03,MGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FCN:5e-6,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GAME:.004,GNO:.0034,GUP:4,GVT:1.2,HSR:.04,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:790,ITS:15.0012,IXT:11,KBR:143,KICK:112,KMD:4,LA:41,LEND:388,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LOC:11.076,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MCO:.357,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NGC:2.368,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RLC:1.21,RVT:14,SC:30,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SWFTC:352.94,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STAR:.144,STORM:153.19,STEEM:.01,STRAT:.01,SPF:14.4,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TGT:173,TKR:84,TNT:90,TRST:1.6,TRX:270,UET:480,UGT:15,UTT:3,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,WRC:48,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,BET:0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},options:{defaultTimeInForce:"FOK"},exceptions:{1003:p,2010:g,2011:g,2020:g,20002:m,20001:y}})}},{key:"feeToPrecision",value:function(e,t){return this.decimalToPrecision(t,k,8,w)}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.publicGetSymbol();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.id,o=s.baseCurrency,c=s.quoteCurrency,u=this.commonCurrencyCode(o),d=this.commonCurrencyCode(c),h=u+"/"+d,l=this.safeFloat(s,"quantityIncrement"),p=this.safeFloat(s,"tickSize"),f={price:this.precisionFromString(s.tickSize),amount:-1*parseInt(Math.log10(l))},v=this.safeFloat(s,"takeLiquidityRate"),m=this.safeFloat(s,"provideLiquidityRate"),r.push(this.extend(this.fees.trading,{info:s,id:a,symbol:h,base:u,quote:d,baseId:o,quoteId:c,active:!0,taker:v,maker:m,precision:f,limits:{amount:{min:l,max:void 0},price:{min:p,max:void 0},cost:{min:l*p,max:void 0}}}));return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetCurrency(t);case 3:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=a.id,8,c=this.commonCurrencyCode(o),u=this.safeValue(a,"payinEnabled"),d=this.safeValue(a,"payoutEnabled"),h=this.safeValue(a,"transferEnabled"),l=u&&d&&h,"disabled"in a&&a.disabled&&(l=!1),p="fiat","crypto"in a&&a.crypto&&(p="crypto"),i[c]={id:o,code:c,type:p,payin:u,payout:d,transfer:h,info:a,name:a.fullName,active:l,fee:this.safeFloat(a,"payoutFee"),precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,8)}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return r=this.safeString(t,"type","trading"),i="privateGet"+this.capitalize(r)+"Balance",s=this.omit(t,"type"),e.next=8,this[i](s);case 8:for(a=e.sent,o={info:a},c=0;c<a.length;c++)u=a[c],d=u.currency,h=this.commonCurrencyCode(d),(l={free:parseFloat(u.available),used:parseFloat(u.reserved),total:0}).total=this.sum(l.free,l.used),o[h]=l;return e.abrupt("return",this.parseBalance(o));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.timestamp),parseFloat(e.open),parseFloat(e.max),parseFloat(e.min),parseFloat(e.close),parseFloat(e.volume)]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,period:this.timeframes[r]},void 0!==s&&(c.limit=s),e.next=11,this.publicGetCandlesSymbol(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s={symbol:this.marketId(t)},void 0!==r&&(s.limit=r),e.next=8,this.publicGetOrderbookSymbol(this.extend(s,i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a,void 0,"bid","ask","price","size"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"volume"),s=this.safeFloat(e,"volumeQuote"),a=this.safeFloat(e,"open"),o=this.safeFloat(e,"last"),c=void 0,u=void 0,d=void 0;void 0!==o&&void 0!==a&&(c=o-a,d=this.sum(o,a)/2,a>0&&(u=c/a*100));var h=void 0;return void 0!==s&&void 0!==i&&i>0&&(h=s/i),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:h,open:a,close:o,last:o,previousClose:void 0,change:c,percentage:u,average:d,baseVolume:i,quoteVolume:s,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=a.symbol,c=this.markets_by_id[o],u=c.symbol,i[u]=this.parseTicker(a,c);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTickerSymbol(this.extend({symbol:i.id},r));case 6:if(!("message"in(s=e.sent))){e.next=9;break}throw new f(this.id+" "+s.message);case 9:return e.abrupt("return",this.parseTicker(s,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),n=void 0;if(void 0!==t)n=t.symbol;else{var i=e.symbol;n=i in this.markets_by_id?(t=this.markets_by_id[i]).symbol:i}var s=void 0,a=this.safeFloat(e,"fee");void 0!==a&&(s={cost:a,currency:t?t.quote:void 0});var o=void 0;"clientOrderId"in e&&(o=e.clientOrderId);var c=this.safeFloat(e,"price"),u=this.safeFloat(e,"quantity"),d=c*u,h=this.safeString(e,"side");return{info:e,id:e.id.toString(),order:o,timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:h,price:c,amount:u,cost:d,fee:s}}},{key:"fetchTransactions",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.currency(t),o.asset=a.id),void 0!==r&&(o.startTime=r),e.next=12,this.privateGetAccountTransactions(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt")),n=this.parse8601(this.safeString(e,"updatedAt")),i=void 0,s=this.safeString(e,"currency");i=s in this.currencies_by_id?this.currencies_by_id[s].code:this.commonCurrencyCode(s);var a=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeFloat(e,"amount"),c=this.safeString(e,"type");"payin"===c?c="deposit":"payout"===c&&(c="withdrawal");var u=this.safeString(e,"address");return{info:e,id:t,txid:this.safeString(e,"hash"),timestamp:r,datetime:this.iso8601(r),address:u,tag:void 0,type:c,amount:o,currency:i,status:a,updated:n,fee:void 0}}},{key:"parseTransactionStatus",value:function(e){var t={pending:"pending",failed:"failed",success:"ok"};return e in t?t[e]:e}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.limit=i),void 0!==r&&(o.sort="ASC",o.from=this.iso8601(r)),e.next=11,this.publicGetTradesSymbol(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u=this.uuid(),d=u.split("-"),h=(h=d.join("")).slice(0,32),s=parseFloat(s),l={clientOrderId:h,symbol:c.id,side:i,quantity:this.amountToPrecision(t,s),type:r},"limit"===r?l.price=this.priceToPrecision(t,a):l.timeInForce=this.options.defaultTimeInForce,e.next=14,this.privatePostOrder(this.extend(l,o));case 14:if(p=e.sent,"rejected"!==(f=this.parseOrder(p)).status){e.next=18;break}throw new g(this.id+" order was rejected by the exchange "+this.json(f));case 18:return v=f.id,this.orders[v]=f,e.abrupt("return",f);case 21:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"editOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>4&&void 0!==v[4]?v[4]:void 0,o=v.length>5&&void 0!==v[5]?v[5]:void 0,c=v.length>6&&void 0!==v[6]?v[6]:{},e.next=5,this.loadMarkets();case 5:return u=this.uuid(),d=u.split("-"),h=(h=d.join("")).slice(0,32),l={clientOrderId:t,requestClientId:h},void 0!==a&&(l.quantity=this.amountToPrecision(r,a)),void 0!==o&&(l.price=this.priceToPrecision(r,o)),e.next=14,this.privatePatchOrderClientOrderId(this.extend(l,c));case 14:return p=e.sent,f=this.parseOrder(p),this.orders[f.id]=f,e.abrupt("return",f);case 18:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteOrderClientOrderId(this.extend({clientOrderId:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(this.safeString(e,"createdAt")),n=this.parse8601(this.safeString(e,"updatedAt"));t||(t=this.markets_by_id[e.symbol]);var i=t.symbol,s=this.safeFloat(e,"quantity"),a=this.safeFloat(e,"cumQuantity"),o=this.parseOrderStatus(this.safeString(e,"status")),c=e.clientOrderId.toString(),u=this.safeFloat(e,"price");void 0===u&&c in this.orders&&(u=this.orders[c].price);var d=void 0,h=void 0;void 0!==s&&void 0!==a&&(d=s-a,void 0!==u&&(h=a*u));var l=this.safeString(e,"type"),p=this.safeString(e,"side"),f=this.safeValue(e,"tradesReport"),v=void 0,m=void 0;if(void 0!==f){for(var y=void 0,g=void 0,b=(f=this.parseTrades(f,t)).length,k=0;k<b;k++)void 0===y&&(y=0),void 0===g&&(g=0),void 0===h&&(h=0),h+=f[k].cost,y+=f[k].fee.cost,g+=f[k].price;void 0!==g&&b>0&&(m=g/b,"market"===l&&void 0===u&&(u=m)),void 0!==y&&(v={cost:y,currency:t.quote})}return{id:c,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:n,status:o,symbol:i,type:l,side:p,price:u,average:m,amount:s,cost:h,filled:a,remaining:d,fee:v,trades:f,info:e}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetHistoryOrder(this.extend({clientOrderId:t},r));case 6:if(i=e.sent,!(i.length>0)){e.next=10;break}return e.abrupt("return",this.parseOrder(i[0]));case 10:throw new m(this.id+" order "+t+" not found");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrderClientOrderId(this.extend({clientOrderId:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.symbol=a.id),e.next=11,this.privateGetOrder(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:void 0,r=f.length>1&&void 0!==f[1]?f[1]:void 0,i=f.length>2&&void 0!==f[2]?f[2]:void 0,s=f.length>3&&void 0!==f[3]?f[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.symbol=a.id),void 0!==i&&(o.limit=i),void 0!==r&&(o.from=this.iso8601(r)),e.next=13,this.privateGetHistoryOrder(this.extend(o,s));case 13:for(c=e.sent,u=this.parseOrders(c,a),d=[],h=0;h<u.length;h++)l=u[h],"closed"!==(p=l.status)&&"canceled"!==p||d.push(l);return e.abrupt("return",this.filterBySinceLimit(d,r,i));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.symbol=o.id),void 0!==r&&(a.from=this.iso8601(r)),void 0!==i&&(a.limit=i),e.next=13,this.privateGetHistoryTrades(this.extend(a,s));case 13:return c=e.sent,e.abrupt("return",this.parseTrades(c,o,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,void 0!==r&&(o=this.market(r)),e.next=10,this.privateGetHistoryOrderIdTrades(this.extend({id:t},a));case 10:if(c=e.sent,!(c.length>0)){e.next=14;break}return e.abrupt("return",this.parseTrades(c,o,i,s));case 14:throw new m(this.id+" order "+t+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]');case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privatePostAccountCryptoAddressCurrency({currency:r.id});case 6:return i=e.sent,s=i.address,this.checkAddress(s),a=this.safeString(i,"paymentId"),e.abrupt("return",{currency:r,address:s,tag:a,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privateGetAccountCryptoAddressCurrency({currency:r.id});case 6:return i=e.sent,s=i.address,this.checkAddress(s),a=this.safeString(i,"paymentId"),e.abrupt("return",{currency:r.code,address:s,tag:a,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=4,this.loadMarkets();case 4:return this.checkAddress(i),o=this.currency(t),c={currency:o.id,amount:parseFloat(r),address:i},s&&(c.paymentId=s),e.next=10,this.privatePostAccountCryptoWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/",o=this.omit(n,this.extractParams(e));if("public"===t)a+=t+"/"+this.implodeParams(e,n),Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),a+=this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(s=this.json(o));var c=this.encode(this.apiKey+":"+this.secret),u=this.stringToBase64(c);i={Authorization:"Basic "+this.decode(u),"Content-Type":"application/json"}}return{url:a=this.urls.api+a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&e>=400){var o=this.id+" "+s;if(503===e||504===e)throw new v(o);if("{"===s[0]&&"error"in a){var c=this.safeString(a.error,"code"),u=this.exceptions;if(c in u)throw new u[c](o);if("Duplicate clientOrderId"===this.safeString(a.error,"message"))throw new g(o)}throw new f(o)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.AuthenticationError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"ice3x",name:"ICE3X",countries:["ZA"],rateLimit:1e3,version:"v1",has:{fetchCurrencies:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38012176-11616c32-3269-11e8-9f05-e65cf885bb15.jpg",api:"https://ice3x.com/api",www:["https://ice3x.com","https://ice3x.co.za"],doc:"https://ice3x.co.za/ice-cubed-bitcoin-exchange-api-documentation-1-june-2017",fees:["https://help.ice3.com/support/solutions/articles/11000033293-trading-fees","https://help.ice3.com/support/solutions/articles/11000033288-fees-explained","https://help.ice3.com/support/solutions/articles/11000008131-what-are-your-fiat-deposit-and-withdrawal-fees-","https://help.ice3.com/support/solutions/articles/11000033289-deposit-fees"],referral:"https://ice3x.com?ref=14341802"},api:{public:{get:["currency/list","currency/info","pair/list","pair/info","stats/marketdepthfull","stats/marketdepthbtcav","stats/marketdepth","orderbook/info","trade/list","trade/info"]},private:{post:["balance/list","balance/info","order/new","order/cancel","order/list","order/info","trade/list","trade/info","transaction/list","transaction/info","invoice/list","invoice/info","invoice/pdf"]}},fees:{trading:{maker:.01,taker:.01}},precision:{amount:8,price:8}})}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetCurrencyList(t);case 3:for(r=e.sent,i=r.response.entities,s=this.precision.amount,a={},o=0;o<i.length;o++)c=i[o],u=this.safeString(c,"currency_id"),d=(d=this.safeString(c,"iso")).toUpperCase(),d=this.commonCurrencyCode(d),a[d]={id:u,code:d,name:c.name,active:!0,precision:s,limits:{amount:{min:void 0,max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0}},info:c};return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.length>0&&void 0!==v[0]?v[0]:{},Object.keys(this.currencies).length){e.next=5;break}return e.next=4,this.fetchCurrencies();case 4:this.currencies=e.sent;case 5:return this.currencies_by_id=this.indexBy(this.currencies,"id"),e.next=8,this.publicGetPairList();case 8:for(t=e.sent,r=t.response.entities,i=[],s=0;s<r.length;s++)a=r[s],o=this.safeString(a,"pair_id"),c=this.safeString(a,"currency_id_from"),u=this.safeString(a,"currency_id_to"),d=this.currencies_by_id[c],h=this.currencies_by_id[u],l=this.commonCurrencyCode(d.code),p=this.commonCurrencyCode(h.code),f=l+"/"+p,i.push({id:o,symbol:f,base:l,quote:p,baseId:c,quoteId:u,active:!0,info:a});return e.abrupt("return",i);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=t.symbol,i=this.safeFloat(e,"last_price");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"max_bid"),bidVolume:void 0,ask:this.safeFloat(e,"min_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetStatsMarketdepthfull(this.extend({pair_id:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.response.entity,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetStatsMarketdepthfull(t);case 6:for(r=e.sent,i=r.response.entities,s={},a=0;a<i.length;a++)o=i[a],c=this.safeString(o,"pair_id"),void 0!==(u=this.safeValue(this.marketsById,c))&&(d=u.symbol,s[d]=this.parseTicker(o,u));return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:if(s={pair_id:this.marketId(t)},void 0===r){e.next=12;break}if("ask"===(a=this.safeString(i,"type"))||"bid"===a){e.next=11;break}throw new p(this.id+" fetchOrderBook requires an exchange-specific extra 'type' param ('bid' or 'ask') when used with a limit");case 11:s.items_per_page=r;case 12:return e.next=14,this.publicGetOrderbookInfo(this.extend(s,i));case 14:return o=e.sent,c=o.response.entities,e.abrupt("return",this.parseOrderBook(c,void 0,"bids","asks","price","amount"));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.created),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"volume"),s=t.symbol,a=parseFloat(this.costToPrecision(s,n*i)),o=this.safeFloat(e,"fee");return o&&(o={cost:o,currency:t.quote}),{timestamp:r,datetime:this.iso8601(r),symbol:s,id:this.safeString(e,"trade_id"),order:void 0,type:"limit",side:e.type,price:n,amount:i,cost:a,fee:o,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradeList(this.extend({pair_id:a.id},s));case 8:return o=e.sent,c=o.response.entities,e.abrupt("return",this.parseTrades(c,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalanceList(t);case 5:for(r=e.sent,i={info:r},s=r.response.entities,a=0;a<s.length;a++)o=s[a],(c=o.currency_id)in this.currencies_by_id&&(u=this.currencies_by_id[c],d=u.code,i[d]={free:0,used:0,total:parseFloat(o.balance)});return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"pair_id"),n=void 0;r&&!t&&r in this.marketsById&&(n=(t=this.marketsById[r]).symbol);var i=1e3*this.safeInteger(e,"created"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"volume"),o=this.safeInteger(e,"active"),c=this.safeFloat(e,"remaining"),u=void 0;1===o?o="open":(o="closed",c=0,u=a);var d=this.safeFloat(e,"fee");return d&&(d={cost:d},t&&(d.currency=t.quote)),{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:o,symbol:n,type:"limit",side:e.type,price:s,cost:void 0,amount:a,filled:u,remaining:c,trades:void 0,fee:d,info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),e.next=7,this.privatePostOrderNew(this.extend({pair_id:c.id,type:i,amount:s,price:a},o));case 7:return u=e.sent,d=this.parseOrder({order_id:u.response.entity.order_id,created:this.seconds(),active:1,type:i,price:a,volume:s,remaining:s,info:u},c),h=d.id,this.orders[h]=d,e.abrupt("return",d);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.privatePostOrderCancel(this.extend({order_id:t},r));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderInfo(this.extend({"order _id":t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i.response.entity));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:void 0,t=a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:void 0,a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostOrderList();case 8:return i=e.sent,s=i.response.entities,e.abrupt("return",this.parseOrders(s,void 0,t,r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={pair_id:a.id},void 0!==i&&(o.items_per_page=i),void 0!==r&&(o.date_from=parseInt(r/1e3)),e.next=12,this.privatePostTradeList(this.extend(o,s));case 12:return c=e.sent,u=c.response.entities,e.abrupt("return",this.parseTrades(u,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostBalanceInfo(this.extend({currency_id:i.id},r));case 6:return s=e.sent,a=s.response.entity,o=this.safeString(a,"address"),c=o?"ok":"none",e.abrupt("return",{currency:t,address:o,tag:void 0,status:c,info:s});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;return"public"===t?Object.keys(n).length&&(a+="?"+this.urlencode(n)):(this.checkRequiredCredentials(),s=this.urlencode(this.extend({nonce:this.nonce()},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}),{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:"public",i=y.length>2&&void 0!==y[2]?y[2]:"GET",s=y.length>3&&void 0!==y[3]?y[3]:{},a=y.length>4&&void 0!==y[4]?y[4]:void 0,o=y.length>5&&void 0!==y[5]?y[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,u=this.safeValue(c,"errors"),d=this.safeValue(c,"response"),!u&&d){e.next=25;break}h=["Key","user_id","Sign"],l=0;case 13:if(!(l<h.length)){e.next=24;break}if(v=h[l],m=this.safeString(u,v)){e.next=18;break}return e.abrupt("continue",21);case 18:if(!("user_id"===v&&m.indexOf("authorization")<0)){e.next=20;break}return e.abrupt("continue",21);case 20:throw new f(m);case 21:l++,e.next=13;break;case 24:throw new p(this.json(u));case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30521662-cf3f477c-9bcb-11e7-89bc-d1ac85012eda.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetTradeHistorySummary","GetRecentTrades","GetFxRates"]},private:{post:["PlaceLimitOrder","PlaceMarketOrder","CancelOrder","GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","SynchDigitalCurrencyDepositAddressWithBlockchain","WithdrawDigitalCurrency","RequestFiatWithdrawal","GetTrades"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetGetValidPrimaryCurrencyCodes();case 3:return t=e.sent,e.next=6,this.publicGetGetValidSecondaryCurrencyCodes();case 6:for(r=e.sent,i=[],s=0;s<t.length;s++)for(a=t[s],o=a.toUpperCase(),c=this.commonCurrencyCode(o),u=0;u<r.length;u++)d=r[u],h=d.toUpperCase(),l=this.commonCurrencyCode(h),p=a+"/"+d,f=c+"/"+l,i.push({id:p,symbol:f,base:c,quote:l,baseId:a,quoteId:d,info:p});return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccounts();case 5:for(t=e.sent,r={info:t},i=0;i<t.length;i++)s=t[i],a=s.CurrencyCode,o=a.toUpperCase(),c=this.commonCurrencyCode(o),(u=this.account()).free=s.AvailableBalance,u.total=s.TotalBalance,u.used=u.total-u.free,r[c]=u;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.publicGetGetOrderBook(this.extend({primaryCurrencyCode:i.baseId,secondaryCurrencyCode:i.quoteId},r));case 7:return s=e.sent,a=this.parse8601(s.CreatedTimestampUtc),e.abrupt("return",this.parseOrderBook(s,a,"BuyOrders","SellOrders","Price","Volume"));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.CreatedTimestampUtc),n=void 0;t&&(n=t.symbol);var i=e.LastPrice;return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e.DayHighestPrice,low:e.DayLowestPrice,bid:e.CurrentHighestBidPrice,bidVolume:void 0,ask:e.CurrentLowestOfferPrice,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:e.DayAvgPrice,baseVolume:e.DayVolumeXbtInSecondaryCurrrency,quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetGetMarketSummary(this.extend({primaryCurrencyCode:i.baseId,secondaryCurrencyCode:i.quoteId},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0===t?r=t.symbol:t=this.findMarket(e.PrimaryCurrencyCode+"/"+e.SecondaryCurrencyCode);var n=this.safeValue(e,"Type");n.indexOf("Market")>=0?n="market":n.indexOf("Limit")>=0&&(n="limit");var i=void 0;n.indexOf("Bid")>=0?i="buy":n.indexOf("Offer")>=0&&(i="sell");var s=this.parse8601(e.CreatedTimestampUtc),a=this.safeFloat(e,"VolumeOrdered");void 0===a&&(a=this.safeFloat(e,"Volume"));var o=this.safeFloat(e,"VolumeFilled"),c=void 0,u=this.safeFloat(e,"FeePercent"),d=void 0;void 0!==a&&void 0!==o&&(c=a-o,void 0!==u&&(d=u*o));var h=void 0;void 0!==t&&(r=t.symbol,h=t.base);var l={rate:u,cost:d,currency:h},p=e.OrderGuid,f=this.parseOrderStatus(this.safeString(e,"Status")),v=this.safeFloat(e,"Value"),m=this.safeFloat(e,"AvgPrice"),y=this.safeFloat(e,"Price",m);return{info:e,id:p,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:r,type:n,side:i,price:y,cost:v,average:m,amount:a,filled:o,remaining:c,status:f,fee:l}}},{key:"parseOrderStatus",value:function(e){var t={Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"};return e in t?t[e]:e}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostGetOrderDetails(this.extend({orderGuid:t},i));case 6:return s=e.sent,a=void 0,void 0!==r&&(a=this.market(r)),e.abrupt("return",this.parseOrder(s,a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:50,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.safeInteger(s,"pageIndex",1),void 0===i&&(i=50),o=this.ordered({pageIndex:a,pageSize:i}),e.next=11,this.privatePostGetTrades(this.extend(o,s));case 11:return c=e.sent,u=void 0,void 0!==t&&(u=this.market(t)),e.abrupt("return",this.parseTrades(c.Data,u,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TradeTimestampUtc),n=this.safeString(e,"TradeGuid"),i=this.safeString(e,"OrderGuid"),s=this.safeFloat(e,"Price");void 0===s&&(s=this.safeFloat(e,"SecondaryCurrencyTradePrice"));var a=this.safeFloat(e,"VolumeTraded");void 0===a&&(a=this.safeFloat(e,"PrimaryCurrencyAmount"));var o=void 0;void 0!==t&&(o=t.symbol);var c=this.safeString(e,"OrderType");return void 0!==c&&(c.indexOf("Bid")>=0?c="buy":c.indexOf("Offer")>=0&&(c="sell")),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,order:i,type:void 0,side:c,price:s,amount:a,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetGetRecentTrades(this.extend({primaryCurrencyCode:a.baseId,secondaryCurrencyCode:a.quoteId,numberOfRecentTradesToRetrieve:50},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.Trades,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>4&&void 0!==f[4]?f[4]:void 0,o=f.length>5&&void 0!==f[5]?f[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u=this.capitalize(r),d="privatePostPlace"+u+"Order",h=u,h+="sell"===i?"Offer":"Bid",l=this.ordered({primaryCurrencyCode:c.baseId,secondaryCurrencyCode:c.quoteId,orderType:h}),"limit"===r&&(l.price=a),l.volume=s,e.next=14,this[d](this.extend(l,o));case 14:return p=e.sent,e.abrupt("return",{info:p,id:p.OrderGuid});case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({orderGuid:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();for(var o=this.nonce(),c=[a,"apiKey="+this.apiKey,"nonce="+o.toString()],u=Object.keys(n),d=0;d<u.length;d++){var h=u[d],l=n[h].toString();c.push(h+"="+l)}var p=c.join(","),f=this.hmac(this.encode(p),this.encode(this.secret)),v=this.ordered({});v.apiKey=this.apiKey,v.nonce=o,v.signature=f.toUpperCase();for(var m=0;m<u.length;m++){var y=u[m];v[y]=n[y]}s=this.json(v),i={"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.InsufficientFunds,m=l.InvalidOrder,y=l.OrderNotFound,g=l.AuthenticationError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"indodax",name:"INDODAX",countries:["ID"],has:{CORS:!1,createMarketOrder:!1,fetchTickers:!1,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:!1,fetchCurrencies:!1,withdraw:!0},version:"1.8",urls:{logo:"https://user-images.githubusercontent.com/1294454/37443283-2fddd0e4-281c-11e8-9741-b4f1419001b5.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://indodax.com/downloads/BITCOINCOID-API-DOCUMENTATION.pdf",referral:"https://indodax.com/ref/testbitcoincoid/1"},api:{public:{get:["{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},markets:{"BTC/IDR":{id:"btc_idr",symbol:"BTC/IDR",base:"BTC",quote:"IDR",baseId:"btc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e-4,max:void 0}}},"ACT/IDR":{id:"act_idr",symbol:"ACT/IDR",base:"ACT",quote:"IDR",baseId:"act",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"ADA/IDR":{id:"ada_idr",symbol:"ADA/IDR",base:"ADA",quote:"IDR",baseId:"ada",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BCD/IDR":{id:"bcd_idr",symbol:"BCD/IDR",base:"BCD",quote:"IDR",baseId:"bcd",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BCH/IDR":{id:"bch_idr",symbol:"BCH/IDR",base:"BCH",quote:"IDR",baseId:"bch",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.001,max:void 0}}},"BTG/IDR":{id:"btg_idr",symbol:"BTG/IDR",base:"BTG",quote:"IDR",baseId:"btg",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"BTS/IDR":{id:"bts_idr",symbol:"BTS/IDR",base:"BTS",quote:"IDR",baseId:"bts",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"DASH/IDR":{id:"drk_idr",symbol:"DASH/IDR",base:"DASH",quote:"IDR",baseId:"drk",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"DOGE/IDR":{id:"doge_idr",symbol:"DOGE/IDR",base:"DOGE",quote:"IDR",baseId:"doge",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e3,max:void 0}}},"ETH/IDR":{id:"eth_idr",symbol:"ETH/IDR",base:"ETH",quote:"IDR",baseId:"eth",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"ETC/IDR":{id:"etc_idr",symbol:"ETC/IDR",base:"ETC",quote:"IDR",baseId:"etc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"GSC/IDR":{id:"gsc_idr",symbol:"GSC/IDR",base:"GSC",quote:"IDR",baseId:"gsc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"IGNIS/IDR":{id:"ignis_idr",symbol:"IGNIS/IDR",base:"IGNIS",quote:"IDR",baseId:"ignis",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"LTC/IDR":{id:"ltc_idr",symbol:"LTC/IDR",base:"LTC",quote:"IDR",baseId:"ltc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"NPXS/IDR":{id:"npxs_idr",symbol:"NPXS/IDR",base:"NPXS",quote:"IDR",baseId:"npxs",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"NXT/IDR":{id:"nxt_idr",symbol:"NXT/IDR",base:"NXT",quote:"IDR",baseId:"nxt",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"STQ/IDR":{id:"stq_idr",symbol:"STQ/IDR",base:"STQ",quote:"IDR",baseId:"stq",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"TEN/IDR":{id:"ten_idr",symbol:"TEN/IDR",base:"TEN",quote:"IDR",baseId:"ten",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"TRX/IDR":{id:"trx_idr",symbol:"TRX/IDR",base:"TRX",quote:"IDR",baseId:"trx",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"WAVES/IDR":{id:"waves_idr",symbol:"WAVES/IDR",base:"WAVES",quote:"IDR",baseId:"waves",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"XEM/IDR":{id:"nem_idr",symbol:"XEM/IDR",base:"XEM",quote:"IDR",baseId:"nem",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"XLM/IDR":{id:"str_idr",symbol:"XLM/IDR",base:"XLM",quote:"IDR",baseId:"str",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:20,max:void 0}}},"XRP/IDR":{id:"xrp_idr",symbol:"XRP/IDR",base:"XRP",quote:"IDR",baseId:"xrp",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:10,max:void 0}}},"XZC/IDR":{id:"xzc_idr",symbol:"XZC/IDR",base:"XZC",quote:"IDR",baseId:"xzc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"BTS/BTC":{id:"bts_btc",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"DASH/BTC":{id:"drk_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"drk",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",precision:{amount:8,price:5},limits:{amount:{min:.001,max:void 0}}},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"NXT/BTC":{id:"nxt_btc",symbol:"NXT/BTC",base:"NXT",quote:"BTC",baseId:"nxt",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"TEN/BTC":{id:"ten_btc",symbol:"TEN/BTC",base:"TEN",quote:"BTC",baseId:"ten",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XEM/BTC":{id:"nem_btc",symbol:"XEM/BTC",base:"XEM",quote:"BTC",baseId:"nem",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"XLM/BTC":{id:"str_btc",symbol:"XLM/BTC",base:"XLM",quote:"BTC",baseId:"str",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XRP/BTC":{id:"xrp_btc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,i={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=this.currencies[o],u=c.id,(d=this.account()).free=this.safeFloat(r.balance,u,0),d.used=this.safeFloat(r.balance_hold,u,0),d.total=this.sum(d.free,d.used),i[o]=d;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPairDepth(this.extend({pair:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"buy","sell"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPairTicker(this.extend({pair:i.id},r));case 6:return s=e.sent,a=s.ticker,o=1e3*this.safeFloat(a,"server_time"),c="vol_"+i.baseId.toLowerCase(),u="vol_"+i.quoteId.toLowerCase(),d=this.safeFloat(a,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(a,"high"),low:this.safeFloat(a,"low"),bid:this.safeFloat(a,"buy"),bidVolume:void 0,ask:this.safeFloat(a,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(a,c),quoteVolume:this.safeFloat(a,u),info:a});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetPairTrades(this.extend({pair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"type"in e&&(r=e.type);var n=this.safeString(e,"status","open");"filled"===n?n="closed":"calcelled"===n&&(n="canceled");var i=void 0,s=void 0,a=this.safeFloat(e,"price"),o=void 0,c=void 0,u=void 0;if(void 0!==t){i=t.symbol;var d=t.quoteId,h=t.baseId;if("idr"===t.quoteId&&"order_rp"in e&&(d="rp"),"idr"===t.baseId&&"remain_rp"in e&&(h="rp"),s=this.safeFloat(e,"order_"+d)){o=s/a;var l=this.safeFloat(e,"remain_"+d);void 0!==l&&(u=o-(c=l/a))}else s=a*(o=this.safeFloat(e,"order_"+h)),u=o-(c=this.safeFloat(e,"remain_"+h))}var p=void 0;u&&(p=s/u);var f=parseInt(e.submit_time);return{info:e,id:e.order_id,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,symbol:i,type:"limit",side:r,price:a,cost:s,average:p,amount:o,filled:u,remaining:c,status:n,fee:void 0}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},void 0!==r){e.next=4;break}throw new p(this.id+" fetchOrder requires a symbol");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),e.next=9,this.privatePostGetOrder(this.extend({pair:s.id,order_id:t},i));case 9:return a=e.sent,o=a.return,c=this.parseOrder(this.extend({id:t},o.order),s),e.abrupt("return",this.extend({info:a},c));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:void 0,r=m.length>1&&void 0!==m[1]?m[1]:void 0,i=m.length>2&&void 0!==m[2]?m[2]:void 0,s=m.length>3&&void 0!==m[3]?m[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.pair=a.id),e.next=11,this.privatePostOpenOrders(this.extend(o,s));case 11:if(c=e.sent,u=c.return.orders){e.next=15;break}return e.abrupt("return",[]);case 15:if(void 0===t){e.next=17;break}return e.abrupt("return",this.parseOrders(u,a,r,i));case 17:for(d=Object.keys(u),h=[],l=0;l<d.length;l++)p=d[l],f=u[p],a=this.markets_by_id[p],v=this.parseOrders(f,a,r,i),h=this.arrayConcat(h,v);return e.abrupt("return",h);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new p(this.id+" fetchOrders requires a symbol");case 6:return e.next=8,this.loadMarkets();case 8:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.pair=o.id),e.next=13,this.privatePostOrderHistory(this.extend(a,s));case 13:if(c=e.sent,u=this.parseOrders(c.return.orders,o,r,i),u=this.filterBy(u,"status","closed"),void 0===t){e.next=18;break}return e.abrupt("return",this.filterBySymbol(u,t));case 18:return e.abrupt("return",u);case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},"limit"===r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c=this.market(t),u={pair:c.id,type:i,price:a},d=c.baseId,"buy"===i?u[c.quoteId]=s*a:u[c.baseId]=s,u[d]=s,e.next=13,this.privatePostTrade(this.extend(u,o));case 13:return h=e.sent,e.abrupt("return",{info:h,id:h.return.order_id.toString()});case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" cancelOrder requires a symbol argument");case 4:if(void 0!==this.safeValue(i,"side")){e.next=7;break}throw new p(this.id+' cancelOrder requires an extra "side" param');case 7:return e.next=9,this.loadMarkets();case 9:return s=this.market(r),e.next=12,this.privatePostCancelOrder(this.extend({order_id:t,pair:s.id,type:i.side},i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c=this.milliseconds(),u={currency:o.id,withdraw_amount:r,withdraw_address:i,request_id:c.toString()},s&&(u.withdraw_memo=s),e.next=11,this.privatePostWithdrawCoin(this.extend(u,a));case 11:return d=e.sent,h=void 0,"txid"in d&&d.txid.length>0&&(h=d.txid),e.abrupt("return",{info:d,id:h});case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t];return"public"===t?a+="/"+this.implodeParams(e,n):(this.checkRequiredCredentials(),s=this.urlencode(this.extend({method:e,nonce:this.nonce()},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}),{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!Array.isArray(a)&&"success"in a){if(1===a.success){if("return"in a)return;throw new p(this.id+": malformed response: "+this.json(a))}var o=a.error,c=this.id+" "+this.json(a);if("Insufficient balance."===o)throw new v(c);if("invalid order."===o)throw new y(c);if(o.indexOf("Minimum price ")>=0)throw new m(c);if(o.indexOf("Minimum order ")>=0)throw new m(c);if("Invalid credentials. API not found or session has expired."===o)throw new g(c);if("Invalid credentials. Bad sign."===o)throw new g(c);throw new p(this.id+": unknown error: "+this.json(a))}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError,p=r(10).AuthenticationError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"itbit",name:"itBit",countries:["US"],rateLimit:2e3,version:"v1",has:{CORS:!0,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}},fees:{trading:{maker:0,taker:.002}}})}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetMarketsSymbolOrderBook(this.extend({symbol:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.publicGetMarketsSymbolTicker(this.extend({symbol:this.marketId(t)},r));case 3:if(i=e.sent,s=this.safeString(i,"serverTimeUTC")){e.next=7;break}throw new l(this.id+" fetchTicker returned a bad response: "+this.json(i));case 7:return a=this.parse8601(s),o=this.safeFloat(i,"vwap24h"),c=this.safeFloat(i,"volume24h"),u=void 0,void 0!==c&&void 0!==o&&(u=c*o),d=this.safeFloat(i,"lastPrice"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(i,"high24h"),low:this.safeFloat(i,"low24h"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(i,"openToday"),close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:u,info:i});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.timestamp),n=e.matchNumber.toString();return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:n,order:n,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetMarketsSymbolTrades(this.extend({symbol:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o.recentTrades,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.fetchWallets();case 3:for(t=e.sent,r=t[0].balances,i={info:t},s=0;s<r.length;s++)a=r[s],o=a.currency,(c={free:parseFloat(a.availableBalance),used:0,total:parseFloat(a.totalBalance)}).used=c.total-c.free,i[o]=c;return e.abrupt("return",this.parseBalance(i));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWallets",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.uid){e.next=3;break}throw new p(this.id+" fetchWallets requires uid API credential");case 3:return r={userId:this.uid},e.abrupt("return",this.privateGetWallets(this.extend(r,t)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWallet",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},i={walletId:t},e.abrupt("return",this.privateGetWalletsWalletId(this.extend(i,r)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrders(t,r,i,this.extend({status:"open"},s)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrders(t,r,i,this.extend({status:"filled"},s)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:void 0,r=c.length>2&&void 0!==c[2]?c[2]:void 0,i=c.length>3&&void 0!==c[3]?c[3]:{},"walletId"in i){e.next=7;break}throw new l(this.id+" fetchOrders requires a walletId parameter");case 7:return s=i.walletId,e.next=10,this.privateGetWalletsWalletIdOrders(this.extend({walletId:s},i));case 10:return a=e.sent,o=this.parseOrders(a,void 0,t,r),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.side,r=e.type,n=this.markets_by_id[e.instrument].symbol,i=this.parse8601(e.createdTime),s=this.safeFloat(e,"amount"),a=this.safeFloat(e,"amountFilled"),o=s-a,c=this.safeFloat(e,"price"),u=c*this.safeFloat(e,"volumeWeightedAveragePrice");return{id:e.id,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:e.status,symbol:n,type:r,side:t,price:c,cost:u,amount:s,filled:a,remaining:o,fee:void 0}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},"market"!==r){e.next=4;break}throw new l(this.id+" allows limit orders only");case 4:if("walletId"in o){e.next=7;break}throw new l(this.id+" createOrder requires a walletId parameter");case 7:return s=s.toString(),a=a.toString(),c=this.market(t),u={side:i,type:r,currency:c.id.replace(c.quote,""),amount:s,display:s,price:a,instrument:c.id},e.next=13,this.privatePostWalletsWalletIdOrders(this.extend(u,o));case 13:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},"walletId"in r){e.next=5;break}throw new l(this.id+" fetchOrder requires a walletId parameter");case 5:return i={id:t},e.next=8,this.privateGetWalletsWalletIdOrdersId(this.extend(i,r));case 8:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},"walletId"in r){e.next=5;break}throw new l(this.id+" cancelOrder requires a walletId parameter");case 5:return e.next=7,this.privateDeleteWalletsWalletIdOrdersId(this.extend({id:t},r));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o)),s="POST"===r&&Object.keys(o).length?this.json(o):"","private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=c,d=[r,a,s,c,u],h=c+this.json(d).replace("\\/","/"),l=this.hash(this.encode(h),"sha256","binary"),p=this.stringToBinary(this.encode(a)),f=this.binaryConcat(p,l),v=this.hmac(f,this.encode(this.secret),"sha512","base64");i={Authorization:this.apiKey+":"+v,"Content-Type":"application/json","X-Auth-Timestamp":u,"X-Auth-Nonce":c}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("code"in(c=e.sent))){e.next=10;break}throw new l(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(84);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"jubi",name:"jubi.com",countries:["CN"],rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766581-9d397d9a-5edd-11e7-8fb9-5d8236c0e692.jpg",api:"https://www.jubi.com/api",www:"https://www.jubi.com",doc:"https://www.jubi.com/help/api.html"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetAllticker();case 3:for(t=e.sent,r=Object.keys(t),i=[],s=0;s<r.length;s++)a=r[s],o=a.toUpperCase(),u=o+"/"+(c="CNY"),o=this.commonCurrencyCode(o),c=this.commonCurrencyCode(c),i.push({id:a,symbol:u,base:o,quote:c,info:a});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ArgumentsRequired,f=l.InvalidOrder,v=l.OrderNotFound;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"kkex",name:"KKEX",countries:["CN","US","JP"],version:"v2",has:{CORS:!1,fetchBalance:!0,fetchTickers:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOHLCV:!0,createMarketOrder:!0,fetchOrder:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47401462-2e59f800-d74a-11e8-814f-e4ae17b4968a.jpg",api:{public:"https://kkex.com/api/v1",private:"https://kkex.com/api/v2",v1:"https://kkex.com/api/v1"},www:"https://kkex.com",doc:"https://kkex.com/api_wiki/cn/",fees:"https://intercom.help/kkex/fee"},api:{public:{get:["exchange_rate","products","assets","tickers","ticker","depth","trades","kline"]},private:{post:["profile","trade","batch_trade","cancel_order","cancel_all_orders","order_history","userinfo","order_info","orders_info"]},v1:{post:["process_strategy"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},options:{lastNonceTimestamp:0}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=T.length>0&&void 0!==T[0]?T[0]:{},e.next=3,this.publicGetTickers(t);case 3:return r=(r=e.sent).tickers,e.next=7,this.publicGetProducts(t);case 7:for(i=(i=e.sent).products,s=[],a=0;a<r.length;a++)o=Object.keys(r[a]),s.push(o[0]);for(c=[],u=0;u<s.length;u++){for(d=s[u],h=s[u],l="",p="",f={},v={},m=0;m<i.length;m++)(y=i[m]).mark_asset+y.base_asset===h&&(p=y.base_asset,l=y.mark_asset,g=y.price_scale.toString(),b=g.length-1,f={price:b,amount:b},(v={amount:{min:Math.max(this.safeFloat(y,"min_bid_size"),this.safeFloat(y,"min_ask_size")),max:Math.min(this.safeFloat(y,"max_bid_size"),this.safeFloat(y,"max_ask_size"))},price:{min:this.safeFloat(y,"min_price"),max:this.safeFloat(y,"max_price")}}).cost={min:this.safeFloat(y,"min_bid_amount"),max:this.safeFloat(y,"max_bid_amount")});k=l.toUpperCase(),w=p.toUpperCase(),k=this.commonCurrencyCode(k),w=this.commonCurrencyCode(w),x=k+"/"+w,c.push({id:d,symbol:x,base:k,quote:w,baseId:l,quoteId:p,active:!0,precision:f,limits:v,info:h})}return e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"date");void 0!==r&&(r*=1e3);var n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.markets[t],e.next=6,this.publicGetTicker(this.extend({symbol:i.id},r));case 6:return s=e.sent,a=this.extend(s.ticker,this.omit(s,"ticker")),e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i=r.tickers,s={},a=0;a<i.length;a++)o=Object.keys(i[a]),c=o[0],void 0!==(u=this.safeValue(this.markets_by_id,c))&&(d=u.symbol,h=this.extend(i[a][c],this.omit(r,"tickers")),s[d]=this.parseTicker(h,u));return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s={symbol:this.marketId(t)},void 0!==r&&(s.size=r),e.next=8,this.publicGetDepth(this.extend(s,i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"date_ms"),n=this.iso8601(r),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),a=void 0;void 0!==i&&void 0!==s&&(a=s*i);var o=void 0;void 0!==t&&(o=t.symbol);return{info:e,id:this.safeString(e,"tid"),timestamp:r,datetime:n,symbol:o,order:void 0,type:void 0,side:this.safeString(e,"type"),price:i,amount:s,cost:a,fee:void 0}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({symbol:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserinfo();case 5:for(t=e.sent,r={info:t.info},i=t.info.funds,s=Object.keys(i.free),a=0;a<s.length;a++)o=s[a],c=o.toUpperCase(),c=this.commonCurrencyCode(c),(u=this.account()).free=parseFloat(i.free[o]),u.used=parseFloat(i.freezed[o]),u.total=u.free+u.used,r[c]=u;return e.abrupt("return",this.parseBalance(r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},r){e.next=4;break}throw new p(this.id+" fetchOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a={order_id:t,symbol:s.id},e.next=10,this.privatePostOrderInfo(this.extend(a,i));case 10:if(!(o=e.sent).result){e.next=13;break}return e.abrupt("return",this.parseOrder(o.order,s));case 13:throw new v(this.id+" order "+t+" not found");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[parseInt(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,type:this.timeframes[r]},void 0!==i&&(c.since=i),void 0!==s&&(c.size=s),e.next=12,this.publicGetKline(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({"-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0!==t&&(r=t.symbol);var n=this.safeString(e,"side");void 0===n&&(n=this.safeString(e,"type"));var i=this.safeInteger(e,"create_date"),s=this.safeString2(e,"order_id","id"),a=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"amount"),u=this.safeFloat(e,"deal_amount"),d=this.safeFloat(e,"avg_price");d=this.safeFloat(e,"price_avg",d);var h=void 0,l=void 0;return void 0!==u&&(void 0!==c&&(h=c-u),void 0!==d&&(l=d*u)),{id:s,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:a,symbol:r,average:d,type:"limit",side:n,price:o,cost:l,amount:c,filled:u,remaining:h,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:if(c=this.market(t),u={symbol:c.id,type:i},"market"!==r){e.next=21;break}if("buy"!==i){e.next=17;break}if(!this.options.createMarketBuyOrderRequiresPrice){e.next=14;break}if(void 0!==a){e.next=13;break}throw new f(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 13:s*=a;case 14:u.price=this.amountToPrecision(t,s),e.next=18;break;case 17:u.amount=this.amountToPrecision(t,s);case 18:u.type+="_"+r,e.next=23;break;case 21:u.amount=this.amountToPrecision(t,s),u.price=this.priceToPrecision(t,a);case 23:return e.next=25,this.privatePostTrade(this.extend(u,o));case 25:return d=e.sent,h=this.safeString(d,"order_id"),e.abrupt("return",{info:d,id:h,datetime:void 0,timestamp:void 0,lastTradeTimestamp:void 0,status:"open",symbol:t,type:r,side:i,price:a,cost:void 0,amount:s,filled:void 0,remaining:void 0,trades:void 0,fee:void 0});case 28:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new p(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a={order_id:t,symbol:s.id},e.next=10,this.privatePostCancelOrder(this.extend(a,i));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.page_length=i),e.next=11,this.privatePostOrderHistory(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c.orders,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrders(t,r,i,this.extend({status:0},s)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrders(t,r,i,this.extend({status:1},s)));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+e;if("public"===t)a+="?"+this.urlencode(n),i={"Content-Type":"application/json"};else{this.checkRequiredCredentials();var o=this.nonce(),c=this.extend({nonce:o,api_key:this.apiKey},n);c=this.urlencode(this.keysort(c)),c+="&secret_key="+this.secret,c=(c=this.hash(this.encode(c),"md5")).toUpperCase(),s=this.extend({api_key:this.apiKey,sign:c,nonce:o},n),s=this.urlencode(s),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeNotAvailable,f=l.ArgumentsRequired,v=l.PermissionDenied,m=l.AuthenticationError,y=l.ExchangeError,g=l.OrderNotFound,b=l.DDoSProtection,k=l.InvalidNonce,w=l.InsufficientFunds,x=l.CancelPending,T=l.InvalidOrder,_=l.InvalidAddress,C=r(19),O=C.TRUNCATE,S=C.DECIMAL_PLACES;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"kraken",name:"Kraken",countries:["US"],version:"0",rateLimit:3e3,certified:!0,has:{createDepositAddress:!0,fetchDepositAddress:!0,fetchTradingFees:!0,CORS:!1,fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchWithdrawals:!0,fetchDeposits:!0,withdraw:!0,fetchLedgerEntry:!0,fetchLedger:!0},marketsByAltname:{},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"1440","1w":"10080","2w":"21600"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766599-22709304-5ede-11e7-9de1-9f33732e1509.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://support.kraken.com/hc/en-us/articles/"},www:"https://www.kraken.com",doc:["https://www.kraken.com/en-us/help/api","https://github.com/nothingisdead/npm-kraken-api"],fees:"https://www.kraken.com/en-us/help/fees"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,XTZ:.05,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,XTZ:.05,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["205893708-What-is-the-minimum-order-size-","201396777-What-are-the-deposit-fees-","201893608-What-are-the-withdrawal-fees-"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","Balance","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},commonCurrencies:{XDG:"DOGE"},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{},delistedMarketsById:{},inactiveCurrencies:["CAD","USD","JPY","GBP"]},exceptions:{"EAPI:Invalid key":m,"EFunding:Unknown withdraw key":y,"EFunding:Invalid amount":w,"EService:Unavailable":p,"EDatabase:Internal error":p,"EService:Busy":p,"EQuery:Unknown asset":y,"EAPI:Rate limit exceeded":b,"EOrder:Rate limit exceeded":b,"EGeneral:Internal error":p,"EGeneral:Temporary lockout":b,"EGeneral:Permission denied":v}})}},{key:"costToPrecision",value:function(e,t){return this.decimalToPrecision(t,O,this.markets[e].precision.price,S)}},{key:"feeToPrecision",value:function(e,t){return this.decimalToPrecision(t,O,this.markets[e].precision.amount,S)}},{key:"fetchMinOrderAmounts",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.zendeskGet205893708WhatIsTheMinimumOrderSize();case 2:if(t=e.sent,r=t.split('<td class="wysiwyg-text-align-right">'),!(r.length<3)){e.next=7;break}throw new y(this.id+" fetchMinOrderAmounts HTML page markup has changed: https://support.kraken.com/hc/en-us/articles/205893708-What-is-the-minimum-order-size-");case 7:for(i={},s=2;s<r.length;s++)a=r[s],o=a.split("</td>"),"To Be Announced"!==(c=o[0])&&(u=c.split(" "),2===u.length&&(d=parseFloat(u[0]),h=this.commonCurrencyCode(u[1]),i[h]=d));return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.publicGetAssetPairs();case 3:return t=e.sent,e.next=6,this.fetchMinOrderAmounts();case 6:for(r=e.sent,i=Object.keys(t.result),s=[],a=0;a<i.length;a++)o=i[a],c=t.result[o],u=c.base,d=c.quote,l=d,(h=u).length>3&&("X"!==h[0]&&"Z"!==h[0]||(h=h.slice(1))),l.length>3&&("X"!==l[0]&&"Z"!==l[0]||(l=l.slice(1))),h=this.commonCurrencyCode(h),l=this.commonCurrencyCode(l),p=o.indexOf(".d")>=0,f=p?c.altname:h+"/"+l,v=void 0,"fees_maker"in c&&(v=parseFloat(c.fees_maker[0][1])/100),m={amount:c.lot_decimals,price:c.pair_decimals},y=Math.pow(10,-m.amount),h in r&&(y=r[h]),s.push({id:o,symbol:f,base:h,quote:l,baseId:u,quoteId:d,darkpool:p,info:c,altname:c.altname,maker:v,taker:parseFloat(c.fees[0][1])/100,active:!0,precision:m,limits:{amount:{min:y,max:Math.pow(10,m.amount)},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:0,max:void 0}}});return s=this.appendInactiveMarkets(s),this.marketsByAltname=this.indexBy(s,"altname"),e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"appendInactiveMarkets",value:function(e){for(var t={amount:8,price:8},r={min:0,max:void 0},n={min:Math.pow(10,-t.price),max:void 0},i={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:{amount:{min:Math.pow(10,-t.amount),max:Math.pow(10,t.amount)},price:n,cost:r}},s=[],a=0;a<s.length;a++)e.push(this.extend(i,s[a]));return e}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetAssets(t);case 3:for(r=e.sent,i=this.safeValue(r,"result"),s=Object.keys(i),a={},o=0;o<s.length;o++)c=s[o],u=i[c],d=this.commonCurrencyCode(this.safeString(u,"altname")),h=this.safeInteger(u,"decimals"),l=!this.inArray(d,this.options.inactiveCurrencies),a[d]={id:c,code:d,info:u,name:d,active:l,fee:void 0,precision:h,limits:{amount:{min:Math.pow(10,-h),max:Math.pow(10,h)},price:{min:Math.pow(10,-h),max:Math.pow(10,h)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,h)}}};return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingFees",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return this.checkRequiredCredentials(),e.next=6,this.privatePostTradeVolume(t);case 6:for(r=e.sent,i=this.safeFloat(r.result,"volume"),s=this.fees.trading.tiers,a=s.taker[1],o=s.maker[1],c=0;c<s.taker.length;c++)i>=s.taker[c][0]&&(a=s.taker[c][1]);for(u=0;u<s.maker.length;u++)i>=s.maker[u][0]&&(o=s.maker[u][1]);return e.abrupt("return",{info:r,maker:o,taker:a});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:if(!(s=this.market(t)).darkpool){e.next=7;break}throw new y(this.id+" does not provide an order book for darkpool symbol "+t);case 7:return a={pair:s.id},void 0!==r&&(a.count=r),e.next=11,this.publicGetDepth(this.extend(a,i));case 11:return o=e.sent,c=o.result[s.id],e.abrupt("return",this.parseOrderBook(c));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=parseFloat(e.v[1]),s=parseFloat(e.p[1]),a=void 0;void 0!==i&&void 0!==s&&(a=i*s);var o=parseFloat(e.c[0]);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:parseFloat(e.h[1]),low:parseFloat(e.l[1]),bid:parseFloat(e.b[0]),bidVolume:void 0,ask:parseFloat(e.a[0]),askVolume:void 0,vwap:s,open:this.safeFloat(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:i,quoteVolume:a,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:void 0,t=y.length>1&&void 0!==y[1]?y[1]:{},e.next=4,this.loadMarkets();case 4:for(r=[],i=0;i<this.symbols.length;i++)s=this.symbols[i],(a=this.markets[s]).active&&(a.darkpool||r.push(a.id));return o=r.join(","),e.next=9,this.publicGetTicker(this.extend({pair:o},t));case 9:for(c=e.sent,u=c.result,d=Object.keys(u),h={},l=0;l<d.length;l++)p=d[l],f=this.markets_by_id[p],v=f.symbol,m=u[p],h[v]=this.parseTicker(m,f);return e.abrupt("return",h);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:if(!(t.indexOf(".d")>=0)){e.next=6;break}throw new y(this.id+" does not provide a ticker for darkpool symbol "+t);case 6:return i=this.market(t),e.next=9,this.publicGetTicker(this.extend({pair:i.id},r));case 9:return s=e.sent,a=s.result[i.id],e.abrupt("return",this.parseTicker(a,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[6])]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"1m",i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={pair:o.id,interval:this.timeframes[r]},void 0!==i&&(c.since=parseInt(i/1e3)),e.next=11,this.publicGetOHLC(this.extend(c,a));case 11:return u=e.sent,d=u.result[o.id],e.abrupt("return",this.parseOHLCVs(d,o,r,i,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseLedgerEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=void 0,i=this.safeString(e,"refid"),s=void 0,a=this.safeString(e,"type");if("trade"===a)s="trade";else if("withdrawal"===a)s="transaction";else if("deposit"===a)s="transaction";else{if("margin"!==a)throw new y(this.id+" unsupported ledger item type: "+a);s="margin"}var o=this.safeCurrencyCode(e,"asset",t),c=this.safeFloat(e,"amount");c<0?(n="out",c=Math.abs(c)):n="in";var u=this.safeFloat(e,"time"),d=void 0,h=void 0;void 0!==u&&(d=parseInt(1e3*u),h=this.iso8601(d));var l={cost:this.safeFloat(e,"fee"),currency:o};return{info:e,id:r,direction:n,account:void 0,referenceId:i,referenceAccount:void 0,type:s,currency:o,amount:c,before:void 0,after:this.safeFloat(e,"balance"),timestamp:d,datetime:h,fee:l}}},{key:"fetchLedger",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:void 0,r=v.length>1&&void 0!==v[1]?v[1]:void 0,i=v.length>2&&void 0!==v[2]?v[2]:void 0,s=v.length>3&&void 0!==v[3]?v[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.currency(t),a.asset=o.id),void 0!==r&&(a.start=parseInt(r/1e3)),e.next=12,this.privatePostLedgers(this.extend(a,s));case 12:for(c=e.sent,u=c.result.ledger,d=Object.keys(u),h=[],l=0;l<d.length;l++)p=d[l],(f=u[p]).id=p,h.push(f);return e.abrupt("return",this.parseLedger(h,o,r,i));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchLedgerEntrysByIds",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>1&&void 0!==l[1]?l[1]:void 0,r=l.length>2&&void 0!==l[2]?l[2]:{},e.next=4,this.loadMarkets();case 4:return t=t.join(","),i=this.extend({id:t},r),e.next=8,this.privatePostQueryLedgers(i);case 8:for(s=e.sent,a=s.result,o=Object.keys(a),c=[],u=0;u<o.length;u++)d=o[u],(h=a[d]).id=d,c.push(h);return e.abrupt("return",this.parseLedger(c));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchLedgerEntry",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.fetchLedgerEntrysByIds([t],r,i);case 4:return s=e.sent,e.abrupt("return",s[0]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,c=void 0,u=void 0,d=this.safeString(e,"pair"),h=this.findMarketByAltnameOrId(d),l=void 0;if(void 0!==h?t=h:void 0!==d&&(t=this.getDelistedMarketById(d)),void 0!==t&&(l=t.symbol),"ordertxid"in e){if(c=e.ordertxid,o=this.safeString2(e,"id","postxid"),r=parseInt(1e3*e.time),n=e.type,i=e.ordertype,s=this.safeFloat(e,"price"),a=this.safeFloat(e,"vol"),"fee"in e){var p=void 0;t&&(p=t.quote),u={cost:this.safeFloat(e,"fee"),currency:p}}}else r=parseInt(1e3*e[2]),n="s"===e[3]?"sell":"buy",i="l"===e[4]?"limit":"market",s=parseFloat(e[0]),a=parseFloat(e[1]),e.length>6&&(o=e[6]);return{id:o,order:c,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:i,side:n,price:s,amount:a,cost:s*a,fee:u}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:void 0,i=f.length>2&&void 0!==f[2]?f[2]:void 0,s=f.length>3&&void 0!==f[3]?f[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o=a.id,e.next=9,this.publicGetTrades(this.extend({pair:o},s));case 9:if(c=e.sent,u=c.result,d=u[o],!((h=d.length)<=0)){e.next=15;break}return e.abrupt("return",[]);case 15:return l=d[h-1],p=this.safeString(u,"last"),l.push(p),e.abrupt("return",this.parseTrades(d,a,r,i));case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostBalance(t);case 5:if(r=e.sent,void 0!==(i=this.safeValue(r,"result"))){e.next=9;break}throw new p(this.id+" fetchBalance failed due to a malformed response "+this.json(r));case 9:for(s={info:i},a=Object.keys(i),o=0;o<a.length;o++)c=a[o],(u=c)in this.currencies_by_id?u=this.currencies_by_id[u].code:("X"===u[0]?u=u.slice(1):"Z"===u[0]&&(u=u.slice(1)),u=this.commonCurrencyCode(u)),d=parseFloat(i[c]),h={free:d,used:0,total:d},s[u]=h;return e.abrupt("return",this.parseBalance(s));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>4&&void 0!==v[4]?v[4]:void 0,o=v.length>5&&void 0!==v[5]?v[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={pair:c.id,type:i,ordertype:r,volume:this.amountToPrecision(t,s)},d=void 0!==a,h="market"===r,("limit"===r||!h&&d)&&(u.price=this.priceToPrecision(t,a)),e.next=13,this.privatePostAddOrder(this.extend(u,o));case 13:return l=e.sent,void 0!==(p=this.safeValue(l.result,"txid"))&&Array.isArray(p)&&(f=p.length,p=f>1?p:p[0]),e.abrupt("return",{info:l,id:p});case 17:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"findMarketByAltnameOrId",value:function(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}},{key:"getDelistedMarketById",value:function(e){if(void 0===e)return e;var t=this.safeValue(this.options.delistedMarketsById,e);if(void 0!==t)return t;var r=3,n=3,i=6;8===e.length?(r=4,n=4,i=8):7===e.length&&(r=4,n=4,i=7);var s=e.slice(0,r),a=e.slice(n,i),o=s,c=a;return o.length>3&&("X"!==o[0]&&"Z"!==o[0]||(o=o.slice(1))),c.length>3&&("X"!==c[0]&&"Z"!==c[0]||(c=c.slice(1))),t={symbol:(o=this.commonCurrencyCode(o))+"/"+(c=this.commonCurrencyCode(c)),base:o,quote:c,baseId:s,quoteId:a},this.options.delistedMarketsById[e]=t,t}},{key:"parseOrderStatus",value:function(e){return this.safeString({pending:"open",open:"open",closed:"closed",canceled:"canceled",expired:"expired"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.descr,n=r.type,i=r.ordertype,s=this.safeString(r,"pair"),a=this.findMarketByAltnameOrId(s),o=void 0;void 0!==a?t=a:void 0!==s&&(t=this.getDelistedMarketById(s));var c=parseInt(1e3*e.opentm),u=this.safeFloat(e,"vol"),d=this.safeFloat(e,"vol_exec"),h=u-d,l=void 0,p=this.safeFloat(e,"cost"),f=this.safeFloat(r,"price");void 0!==f&&0!==f||(f=this.safeFloat(r,"price2")),void 0!==f&&0!==f||(f=this.safeFloat(e,"price",f));var v=this.safeFloat(e,"price");if(void 0!==t&&(o=t.symbol,"fee"in e)){var m=e.oflags;l={cost:this.safeFloat(e,"fee"),rate:void 0},m.indexOf("fciq")>=0?l.currency=t.quote:m.indexOf("fcib")>=0&&(l.currency=t.base)}var y=this.parseOrderStatus(this.safeString(e,"status"));return{id:e.id,info:e,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:y,symbol:o,type:i,side:n,price:f,cost:p,amount:u,filled:d,average:v,remaining:h,fee:l}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=[],s=Object.keys(e),a=0;a<s.length;a++){var o=s[a],c=this.extend({id:o},e[o]);i.push(this.parseOrder(c,t))}return this.filterBySinceLimit(i,r,n)}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostQueryOrders(this.extend({trades:!0,txid:t},r));case 6:return i=e.sent,s=i.result,a=this.parseOrder(this.extend({id:t},s[t])),e.abrupt("return",this.extend({info:i},a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,i=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:{},e.next=6,this.loadMarkets();case 6:return a={},void 0!==r&&(a.start=parseInt(r/1e3)),e.next=10,this.privatePostTradesHistory(this.extend(a,s));case 10:for(o=e.sent,c=o.result.trades,u=Object.keys(c),d=0;d<u.length;d++)c[u[d]].id=u[d];if(h=this.parseTrades(c,void 0,r,i),void 0!==t){e.next=17;break}return e.abrupt("return",h);case 17:return e.abrupt("return",this.filterBySymbol(h,t));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return i=void 0,e.prev=5,e.next=8,this.privatePostCancelOrder(this.extend({txid:t},r));case 8:i=e.sent,e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(5),!this.last_http_response){e.next=16;break}if(!(this.last_http_response.indexOf("EOrder:Unknown order")>=0)){e.next=16;break}throw new g(this.id+" cancelOrder() error "+this.last_http_response);case 16:throw e.t0;case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},void 0!==r&&(a.start=parseInt(r/1e3)),e.next=10,this.privatePostOpenOrders(this.extend(a,s));case 10:if(o=e.sent,c=this.parseOrders(o.result.open,void 0,r,i),void 0!==t){e.next=14;break}return e.abrupt("return",c);case 14:return e.abrupt("return",this.filterBySymbol(c,t));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},void 0!==r&&(a.start=parseInt(r/1e3)),e.next=10,this.privatePostClosedOrders(this.extend(a,s));case 10:if(o=e.sent,c=this.parseOrders(o.result.closed,void 0,r,i),void 0!==t){e.next=14;break}return e.abrupt("return",c);case 14:return e.abrupt("return",this.filterBySymbol(c,t));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositMethods",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostDepositMethods(this.extend({asset:i.id},r));case 6:return s=e.sent,e.abrupt("return",s.result);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({Initial:"pending",Pending:"pending",Success:"ok",Settled:"ok",Failure:"failed",Partial:"ok"},e,e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"refid"),n=this.safeString(e,"txid"),i=this.safeInteger(e,"time");void 0!==i&&(i*=1e3);var s=void 0,a=this.safeString(e,"asset");s=void 0!==(t=this.safeValue(this.currencies_by_id,a))?t.code:this.commonCurrencyCode(a);var o=this.safeString(e,"info"),c=this.safeFloat(e,"amount"),u=this.parseTransactionStatus(this.safeString(e,"status")),d=this.safeString(e,"type"),h=this.safeFloat(e,"fee");return void 0===h&&"deposit"===d&&(h=0),{info:e,id:r,currency:s,amount:c,address:o,tag:void 0,status:u,type:d,updated:void 0,txid:n,timestamp:i,datetime:this.iso8601(i),fee:{currency:s,cost:h}}}},{key:"parseTransactionsByType",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=[],a=0;a<t.length;a++){var o=this.parseTransaction(this.extend({type:e},t[a]));s.push(o)}return this.filterByCurrencySinceLimit(s,r,n,i)}},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchDeposits requires a currency code argument");case 6:return a=this.currency(t),o={asset:a.id},e.next=10,this.privatePostDepositStatus(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTransactionsByType("deposit",c.result,t,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchWithdrawals requires a currency code argument");case 6:return a=this.currency(t),o={asset:a.id},e.next=10,this.privatePostWithdrawStatus(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTransactionsByType("withdrawal",c.result,t,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},i={new:"true"},e.next=4,this.fetchDepositAddress(t,this.extend(i,r));case 4:return s=e.sent,a=this.safeString(s,"address"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,info:s});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},e.next=3,this.loadMarkets();case 3:if(i=this.currency(t),void 0!==(s=this.safeString(r,"method"))){e.next=15;break}if(!this.options.cacheDepositMethodsOnFetchDepositAddress){e.next=14;break}if(t in this.options.depositMethods){e.next=11;break}return e.next=10,this.fetchDepositMethods(t);case 10:this.options.depositMethods[t]=e.sent;case 11:s=this.options.depositMethods[t][0].method,e.next=15;break;case 14:throw new y(this.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+t+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');case 15:return a={asset:i.id,method:s},e.next=18,this.privatePostDepositAddresses(this.extend(a,r));case 18:if(o=e.sent,c=o.result,!(c.length<1)){e.next=23;break}throw new _(this.id+" privatePostDepositAddresses() returned no addresses");case 23:return u=this.safeString(c[0],"address"),d=this.safeString2(c[0],"tag","memo"),this.checkAddress(u),e.abrupt("return",{currency:t,address:u,tag:d,info:o});case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>3&&void 0!==c[3]?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(i),!("key"in s)){e.next=11;break}return e.next=6,this.loadMarkets();case 6:return a=this.currency(t),e.next=9,this.privatePostWithdraw(this.extend({asset:a.id,amount:r},s));case 9:return o=e.sent,e.abrupt("return",{info:o,id:o.result});case 11:throw new y(this.id+" withdraw requires a 'key' parameter (withdrawal key name, as set up on your account)");case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else if("private"===t){this.checkRequiredCredentials();var o=this.nonce().toString();s=this.urlencode(this.extend({nonce:o},n));var c=this.encode(o+s),u=this.hash(c,"sha256","binary"),d=this.stringToBinary(this.encode(a)),h=this.binaryConcat(d,u),l=this.base64ToBinary(this.secret),p=this.hmac(h,l,"sha512","base64");i={"API-Key":this.apiKey,"API-Sign":this.decode(p),"Content-Type":"application/x-www-form-urlencoded"}}else a="/"+e;return{url:a=this.urls.api[t]+a,method:r,body:s,headers:i}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(520===e)throw new p(this.id+" "+e.toString()+" "+t);if(s.indexOf("Invalid order")>=0)throw new T(this.id+" "+s);if(s.indexOf("Invalid nonce")>=0)throw new k(this.id+" "+s);if(s.indexOf("Insufficient funds")>=0)throw new w(this.id+" "+s);if(s.indexOf("Cancel pending")>=0)throw new x(this.id+" "+s);if(s.indexOf("Invalid arguments:volume")>=0)throw new T(this.id+" "+s);if("{"===s[0]&&("string"!==typeof a&&"error"in a&&a.error.length)){for(var o=this.id+" "+this.json(a),c=0;c<a.error.length;c++)if(a.error[c]in this.exceptions)throw new this.exceptions[a.error[c]](o);throw new y(o)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.InvalidNonce,m=l.InvalidOrder,y=l.AuthenticationError,g=l.InsufficientFunds,b=l.OrderNotFound,k=r(19),w=k.TRUNCATE,x=k.ROUND;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"kucoin",name:"KuCoin",countries:["SC"],version:"v1",rateLimit:2e3,userAgent:this.userAgents.chrome,has:{CORS:!1,cancelOrders:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:"emulated",fetchCurrencies:!0,withdraw:!0,fetchTransactions:!0},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"8h":480,"1d":"D","1w":"W"},urls:{logo:"https://user-images.githubusercontent.com/1294454/51909432-b0a72780-23dd-11e9-99ba-73d23c8d4eed.jpg",api:{public:"https://api.kucoin.com",private:"https://api.kucoin.com",kitchen:"https://kitchen.kucoin.com","kitchen-2":"https://kitchen-2.kucoin.com"},www:"https://www.kucoin.com",referral:"https://www.kucoin.com/?r=E5wkqe",doc:"https://kucoinapidocs.docs.apiary.io",fees:"https://news.kucoin.com/en/fee"},api:{kitchen:{get:["open/chart/history"]},public:{get:["open/chart/config","open/chart/history","open/chart/symbol","open/currencies","open/deal-orders","open/kline","open/lang-list","open/orders","open/orders-buy","open/orders-sell","open/tick","market/open/coin-info","market/open/coins","market/open/coins-trending","market/open/symbols"]},private:{get:["account/balance","account/{coin}/wallet/address","account/{coin}/wallet/records","account/{coin}/balance","account/promotion/info","account/promotion/sum","account/transfer-records","deal-orders","order/active","order/active-map","order/dealt","order/detail","referrer/descendant/count","user/info"],post:["account/{coin}/withdraw/apply","account/{coin}/withdraw/cancel","account/promotion/draw","cancel-order","order","order/cancel-all","user/change-lang"]}},fees:{trading:{maker:.001,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{ABT:2,ACAT:10,ACT:1,ADB:10,AGI:40,AION:3.5,AIX:2,AMB:10,AOA:20,APH:3,ARN:6,ARY:10,AXP:25,BAX:1e3,BCD:1,BCH:5e-4,BCPT:20,BHC:1,BNTY:50,BOS:1,BPT:5,BRD:3,BTC:5e-4,BTG:.01,BTM:5,BU:.5,CAG:2,CAN:1,CAPP:20,CAT:20,CBC:5,CHP:25,CHSB:70,COFI:5,COSM:50,COV:3,CPC:10,CS:3,CV:30,CVC:12,CXO:30,DACC:800,DADI:6,DAG:80,DASH:.002,DAT:20,DATX:70,DBC:1,DCC:60,DCR:.01,DEB:7,DENT:700,DGB:.5,DNA:3,DOCK:100,DRGN:1,DTA:100,EBTC:3,EDR:20,EGT:200,ELA:.1,ELEC:32,ELF:4,ELIX:3,ENJ:40,EOS:.5,ETC:.01,ETH:.01,ETN:50,EXY:3,FLIXX:10,FOTA:1,GAS:0,GAT:140,GLA:4,GO:1,GVT:.3,HAT:.5,HAV:5,HKN:.5,HPB:.5,HSR:.01,HST:2,IHT:20,ING:3,INS:5,IOST:100,IOTX:150,ITC:1,J8T:30,JNT:5,KCS:.5,KEY:200,KICK:35,KNC:3.5,LA:5,LALA:50,LEND:130,LOC:3,LOCI:4,LOOM:10,LTC:.001,LYM:20,MAN:2,MANA:15,MOBI:30,MOD:2,MTH:75,MTN:10,MVP:100,MWAT:20,NEBL:.1,NEO:0,NULS:1,NUSD:2,OCN:100,OLT:3,OMG:.4,OMX:50,ONION:.1,ONT:1,OPEN:15,PARETO:40,PAY:.5,PBL:5,PLAY:40,POLL:.5,POLY:10,POWR:8,PPT:.3,PRL:1,PURA:.5,QKC:50,QLC:1,QSP:45,QTUM:.1,R:2,RDN:5,REQ:40,RHOC:2,RPX:1,SHL:4,SNC:10,SNM:30,SNOV:20,SNT:20,SOUL:4,SPF:10,SPHTX:8,SRN:5,STK:20,SUB:12,TEL:500,TFL:1,TIME:.1,TIO:5,TKY:10,TMT:50,TNC:1,TOMO:1,TRAC:14,TRX:1,UKG:5,USDT:3.2,USE:900,UT:.1,UTK:10,VEN:2,WAN:.7,WAX:8,WPR:80,WTC:.5,XAS:.5,XLM:.01,XLR:.1,XRB:.05,ZIL:50,ZINC:30,ZPT:1,ZRX:2,ePRX:1e3},deposit:{}}},options:{fetchOrderBookWarning:!0,timeDifference:0,adjustForTimeDifference:!1,limits:{amount:{min:{ABT:1,ACAT:1,ACT:1,ADB:1,AGI:10,AION:1,AIX:1,AMB:1,AOA:1,APH:1,ARN:1,ARY:1,AXPR:1,BAX:1,BCD:.001,BCH:1e-5,BCPT:1,BNTY:1,BOS:1,BPT:1,BRD:1,BTC:1e-5,BTG:.001,BTM:1,CAG:1,CanYaCoin:1,CAPP:1,CAT:1,CBC:1,CHP:1,CHSB:1,COFI:1,COV:1,CPC:1,CS:1,CV:10,CVC:.1,CXO:1,DACC:1,DADI:1,DAG:1,DASH:.01,DAT:1,DATX:1,DBC:1,DCC:1,DEB:1,DENT:1,DGB:1,DNA:1,DOCK:1,DRGN:1,DTA:1,EBTC:1,EDR:1,EGT:1,ELA:1,ELEC:1,ELF:1,ELIX:1,ENJ:1,EOS:.1,ETC:.1,ETH:1e-5,ETN:1,EXY:1,FLIXX:.1,FOTA:1,GAS:.1,GAT:1,GLA:1,GO:1,GVT:.1,HAV:1,HKN:1,HPB:1,HSR:1e-4,HST:.1,IHT:1,ING:1,INS:1,IOST:1,IOTX:1,ITC:1,J8T:1,JNT:1,KCS:1,KEY:1,KICK:1,KNC:.001,LA:1,LALA:1,LEND:1,LOCI:1,LOOM:1,LTC:1,LYM:1,MAN:1,MANA:1,MOBI:1,MOD:.1,MTH:1,MTN:1,MWAT:1,NANO:.1,NEBL:.1,NEO:.01,NULS:.1,NUSD:1,OCN:10,OLT:1,OMG:.1,OMX:1,ONION:1,ONT:1,OPEN:1,PARETO:1,PAY:.1,PBL:1,PHX:1,PLAY:1,POLL:1,POLY:1,POWR:.1,PPT:.1,PRL:1,PURA:.1,QKC:1,QLC:1,QSP:.1,QTUM:.1,R:1,RDN:1,REQ:1,RHOC:1,RPX:1,SHL:1,SNC:1,SNM:1,SNOV:1,SNT:.1,SOUL:1,SPF:1,SPHTX:1,SRN:1,STK:1,SUB:.1,TEL:10,TFD:1,TFL:1,TIME:1,TIO:1,TKY:1,TMT:1,TNC:1,TOMO:1,TRAC:1,UKG:1,UTK:1,WAN:1,WAX:1,WPR:1,WTC:.1,XAS:.1,XLM:1,XLR:1,ZIL:1,ZINC:1,ZPT:1}}}},commonCurrencies:{CAN:"CanYaCoin",XRB:"NANO"}})}},{key:"nonce",value:function(){return this.milliseconds()-this.options.timeDifference}},{key:"loadTimeDifference",value:function(){var e=i(n.mark(function e(){var t,r;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOpenTick();case 2:return t=e.sent,r=this.milliseconds(),this.options.timeDifference=parseInt(r-t.timestamp),e.abrupt("return",this.options.timeDifference);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",c=a[s],u=parseFloat(this.costToPrecision(e,n*c));return"sell"===r?u*=i:o="base",{type:s,currency:a[o],rate:c,cost:parseFloat(this.feeToPrecision(e,u))}}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.publicGetMarketOpenSymbols();case 3:if(t=e.sent,!this.options.adjustForTimeDifference){e.next=7;break}return e.next=7,this.loadTimeDifference();case 7:for(r=t.data,i=[],s=0;s<r.length;s++)a=r[s],o=a.symbol,c=a.coinType,u=a.coinTypePair,d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,p={amount:8,price:8},f=Math.pow(10,-p.amount),v=this.safeFloat(this.options.limits.amount.min,d,f),m=a.trading,i.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:m,taker:this.safeFloat(a,"feeRate"),maker:this.safeFloat(a,"feeRate"),info:a,precision:p,limits:{amount:{min:v,max:void 0},price:{min:void 0,max:void 0}}});return e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privateGetAccountCoinWalletAddress(this.extend({coin:i.id},r));case 6:return s=e.sent,a=s.data,o=this.safeString(a,"address"),this.checkAddress(o),c=this.safeString(a,"userOid"),e.abrupt("return",{currency:t,address:o,tag:c,info:s});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchDeposits requires a currency code argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.currency(t),o={coin:a.id},e.next=12,this.privateGetAccountCoinWalletRecords(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c.data.datas,a,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"oid"),n=this.safeString(e,"outerWalletTxid");if(void 0!==n&&n.indexOf("@")>=0){var i=n.split("@");n=i[0]}var s=this.safeInteger(e,"createdAt"),a=void 0,o=this.safeString(e,"coinType");a=void 0!==(t=this.safeValue(this.currencies_by_id,o))?t.code:this.commonCurrencyCode(o);var c=this.safeString(e,"address"),u=this.safeString(e,"remark"),d=this.safeFloat(e,"amount"),h=this.safeString(e,"status"),l=this.safeString(e,"type");void 0!==l&&(l="DEPOSIT"===l?"deposit":"withdrawal");var p=this.safeFloat(e,"fee");return{info:e,id:r,currency:a,amount:d,address:c,tag:u,status:h,type:l,updated:this.safeInteger(e,"updatedAt"),txid:n,timestamp:s,datetime:this.iso8601(s),fee:{currency:a,cost:p}}}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetMarketOpenCoins(t);case 3:for(r=e.sent,i=r.data,s={},a=0;a<i.length;a++)o=i[a],c=o.coin,u=this.commonCurrencyCode(c),d=o.tradePrecision,h=o.enableDeposit,l=o.enableWithdraw,p=h&&l,f=Math.pow(10,-d),v=this.safeFloat(this.options.limits.amount.min,u,f),s[u]={id:c,code:u,info:o,name:o.name,active:p,fee:o.withdrawMinFee,precision:d,limits:{amount:{min:v,max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:void 0,max:void 0},withdraw:{min:o.withdrawMinAmount,max:Math.pow(10,d)}}};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccountBalance(this.extend({},t));case 5:for(r=e.sent,i=r.data,s={info:i},a=this.indexBy(i,"coinType"),o=Object.keys(a),c=0;c<o.length;c++)u=o[c],d=this.commonCurrencyCode(u),h=this.account(),l=a[u],p=parseFloat(l.freezeBalance),f=parseFloat(l.balance),v=this.sum(f,p),h.free=f,h.used=p,h.total=v,s[d]=h;return e.abrupt("return",this.parseBalance(s));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={symbol:s.id},void 0!==r&&(a.limit=r),e.next=9,this.publicGetOpenOrders(this.extend(a,i));case 9:if(o=e.sent,c=void 0,u=void 0,"data"in o&&o.data){e.next=18;break}if(!this.options.fetchOrderBookWarning){e.next=15;break}throw new p(this.id+" fetchOrderBook returned an null reply. Set exchange.options['fetchOrderBookWarning'] = false to silence this warning");case 15:c={BUY:[],SELL:[]},e.next=21;break;case 18:c=o.data,u=this.safeInteger(o,"timestamp"),u=this.safeInteger(o.data,"timestamp",u);case 21:return e.abrupt("return",this.parseOrderBook(c,u,"BUY","SELL"));case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"direction");void 0===r&&(r=e.type),void 0!==r&&(r=r.toLowerCase());var n=this.safeString2(e,"orderOid","oid"),i=void 0;if("dealOrders"in e&&(i=this.safeValue(e.dealOrders,"datas")),void 0!==i){i=this.parseTrades(i,t);for(var s=0;s<i.length;s++)i[s].side=r,i[s].order=n}var a=void 0;a=void 0!==t?t.symbol:e.coinType+"/"+e.coinTypePair;var o=this.safeValue(e,"createdAt"),c=this.safeFloat(e,"pendingAmount"),u=void 0;u="status"in e?e.status:this.safeValue(e,"isActive",!0)?"open":"closed";var d=this.safeFloat(e,"dealAmount"),h=this.safeFloat(e,"amount"),l=this.safeFloat(e,"dealValue");if(void 0===l&&(l=this.safeFloat(e,"dealValueTotal")),void 0===u&&void 0!==c&&(u=c>0?"open":"closed"),void 0===d)void 0!==u&&"closed"===u&&(d=this.safeFloat(e,"amount"));else if(0===d&&void 0!==i){l=0;for(var p=0;p<i.length;p++)d+=i[p].amount,l+=i[p].cost}var f=void 0;void 0!==d&&(d>0?(void 0===(f=this.safeFloat(e,"price"))&&(f=this.safeFloat(e,"dealPrice")),void 0===f&&(f=this.safeFloat(e,"dealPriceAverage"))):void 0===(f=this.safeFloat(e,"orderPrice"))&&(f=this.safeFloat(e,"price")),void 0!==f&&void 0===l&&(l=f*d),void 0===h?void 0!==c&&(h=this.sum(d,c)):void 0===c&&(c=h-d)),"open"===u&&(void 0!==l&&0!==l||void 0!==f&&void 0!==h&&(l=h*f));var v=void 0;if(void 0!==t)v="sell"===r?t.quote:t.base;else{var m="sell"===r?"coinTypePair":"coinType",y=this.safeString(e,m);void 0!==y&&y in this.currencies_by_id&&(y=this.currencies_by_id[y].code)}var g=this.safeFloat(e,"fee"),b={cost:this.safeFloat(e,"feeTotal",g),rate:this.safeFloat(e,"feeRate"),currency:v};return{info:e,id:n,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:a,type:"limit",side:r,price:f,amount:h,cost:l,filled:d,remaining:c,status:u,fee:b,trades:i}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" fetchOrder requires a symbol argument");case 4:if(void 0!==(s=this.safeValue(i,"type"))){e.next=7;break}throw new p(this.id+' fetchOrder requires a type parameter ("BUY" or "SELL")');case 7:return e.next=9,this.loadMarkets();case 9:return a=this.market(r),o={symbol:a.id,type:s,orderOid:t},e.next=13,this.privateGetOrderDetail(this.extend(o,i));case 13:if((c=e.sent).data){e.next=16;break}throw new b(this.id+" "+this.json(c));case 16:return e.abrupt("return",this.parseOrder(c.data,a));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrdersByStatus",value:function(e,t,r,n,i){for(var s=[],a=0;a<e.length;a++){var o=this.parseOrder(this.extend(e[a],{status:i}),t);s.push(o)}var c=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(s,c,r,n)}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,i=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o=void 0,void 0!==t?(o=this.market(t),a=o.id):a="",c={symbol:a},e.next=12,this.privateGetOrderActiveMap(this.extend(c,s));case 12:return u=e.sent,void 0===(d=this.safeValue(u.data,"SELL"))&&(d=[]),void 0===(h=this.safeValue(u.data,"BUY"))&&(h=[]),l=this.arrayConcat(d,h),e.abrupt("return",this.parseOrdersByStatus(l,o,r,i,"open"));case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:20,s=d.length>3&&void 0!==d[3]?d[3]:{},a={},e.next=7,this.loadMarkets();case 7:return o=void 0,void 0!==t&&(o=this.market(t),a.symbol=o.id),void 0!==r&&(a.since=r),void 0!==i&&(a.limit=i),e.next=13,this.privateGetOrderDealt(this.extend(a,s));case 13:return c=e.sent,u=c.data.datas,e.abrupt("return",this.parseOrdersByStatus(u,o,r,i,"closed"));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"priceToPrecision",value:function(e,t){var r=this.market(e).quote;return this.decimalToPrecision(t,x,this.currencies[r].precision,this.precisionMode)}},{key:"amountToPrecision",value:function(e,t){var r=this.market(e).base;return this.decimalToPrecision(t,w,this.currencies[r].precision,this.precisionMode)}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},"limit"===r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c=this.market(t),u={symbol:c.id,type:i.toUpperCase(),price:this.priceToPrecision(t,a),amount:this.amountToPrecision(t,s)},a=parseFloat(a),s=parseFloat(s),d=a*s,e.next=13,this.privatePostOrder(this.extend(u,o));case 13:return h=e.sent,l=this.safeString(h.data,"orderOid"),f=this.safeInteger(h,"timestamp"),v={info:h,id:l,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,symbol:c.symbol,type:r,side:i,amount:s,filled:void 0,remaining:void 0,price:a,cost:d,status:"open",fee:void 0,trades:void 0},this.orders[l]=v,e.abrupt("return",v);case 19:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:{},i={},void 0===t){e.next=8;break}return e.next=6,this.loadMarkets();case 6:s=this.market(t),i.symbol=s.id;case 8:return"type"in r&&(i.type=r.type.toUpperCase(),r=this.omit(r,"type")),e.next=11,this.privatePostOrderCancelAll(this.extend(i,r));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new p(this.id+" cancelOrder requires a symbol");case 4:return e.next=6,this.loadMarkets();case 6:if(s=this.market(r),a={symbol:s.id,orderOid:t},!("type"in i)){e.next=13;break}a.type=i.type.toUpperCase(),i=this.omit(i,"type"),e.next=14;break;case 13:throw new p(this.id+' cancelOrder requires parameter type=["BUY"|"SELL"]');case 14:return e.next=16,this.privatePostCancelOrder(this.extend(a,i));case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.datetime,n=void 0;if(void 0===t){var i=e.coinType+"-"+e.coinTypePair;i in this.markets_by_id&&(t=this.markets_by_id[i])}var s=this.safeFloat(e,"change"),a=this.safeFloat(e,"lastDealPrice"),o=void 0;void 0!==a&&void 0!==s&&(o=a-s);var c=this.safeFloat(e,"changeRate");return void 0!==t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:o,close:a,last:a,previousClose:void 0,change:s,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volValue"),info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketOpenSymbols(t);case 6:for(r=e.sent,i=r.data,s={},a=0;a<i.length;a++)o=this.parseTicker(i[a]),c=o.symbol,s[c]=o;return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetOpenTick(this.extend({symbol:i.id},r));case 6:return s=e.sent,a=s.data,e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=void 0,i=e,s=void 0,a=void 0,o=void 0,c=void 0,u=void 0,d=void 0,h=void 0;if(Array.isArray(e))s=e[0],a="limit","BUY"===e[1]?o="buy":"SELL"===e[1]&&(o="sell"),c=this.safeFloat(e,2),d=this.safeFloat(e,3),r=e[5];else{s=this.safeValue(e,"createdAt"),n=this.safeString(e,"orderOid"),r=this.safeString(e,"oid"),void 0!==(o=this.safeString(e,"direction"))&&(o=o.toLowerCase()),c=this.safeFloat(e,"dealPrice"),d=this.safeFloat(e,"amount"),u=this.safeFloat(e,"dealValue");var l=void 0;if(void 0!==o)if(void 0!==t)l="sell"===o?t.quote:t.base;else{var p="sell"===o?"coinTypePair":"coinType",f=this.safeString(n,p);void 0!==f&&f in this.currencies_by_id&&(f=this.currencies_by_id[f].code)}h={rate:this.safeFloat(e,"feeRate"),cost:this.safeFloat(e,"fee"),currency:l}}var v=void 0;return void 0!==t&&(v=t.symbol),{id:r,order:n,info:i,timestamp:s,datetime:this.iso8601(s),symbol:v,type:a,side:o,price:c,cost:u,amount:d,fee:h}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return void 0===i&&(i=100),a=this.market(t),e.next=9,this.publicGetOpenDealOrders(this.extend({symbol:a.id,limit:i},s));case 9:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades is deprecated and requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.limit=i),e.next=13,this.privateGetDealOrders(this.extend(o,s));case 13:return c=e.sent,e.abrupt("return",this.parseTrades(c.data.datas,a,r,i));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:"1m",i=f.length>2&&void 0!==f[2]?f[2]:void 0,s=f.length>3&&void 0!==f[3]?f[3]:void 0,a=f.length>4&&void 0!==f[4]?f[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c=this.seconds(),u=this.timeframes[r],"D"===(d=u)?(void 0===s&&(s=30),d=1440):"W"===d?(void 0===s&&(s=52),d=10080):void 0===s&&(s=1440),h=c-s*d*60,void 0!==i&&(h=parseInt(i/1e3),c=Math.min(c,this.sum(h,s*d*60))),l={symbol:o.id,resolution:u,from:h,to:c},e.next=16,this.publicGetOpenChartHistory(this.extend(l,a));case 16:return p=e.sent,e.abrupt("return",this.parseTradingViewOHLCV(p,o,r,i,s));case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),this.checkAddress(i),c={coin:o.id,amount:r,address:i},void 0!==s&&(c.address+="@"+s),e.next=11,this.privatePostAccountCoinWithdrawApply(this.extend(c,a));case 11:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/"+this.version+"/"+this.implodeParams(e,n),o=this.urls.api[t]+a,c=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce(),d="";u=u.toString(),Object.keys(c).length&&(o+="?"+(d=this.rawencode(this.keysort(c))),"GET"!==r&&(s=d));var h=a+"/"+u+"/"+d,l=this.stringToBase64(this.encode(h)),p=this.hmac(l,this.encode(this.secret),"sha256");i={"KC-API-KEY":this.apiKey,"KC-API-NONCE":u,"KC-API-SIGNATURE":p}}else Object.keys(c).length&&(o+="?"+this.urlencode(c));return{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("success"in a&&!0!==a.success){if(!("code"in a)||!("msg"in a))throw new p(this.id+": malformed response: "+s);var o=this.safeString(a,"code"),c=this.safeString(a,"msg"),u=this.id+" "+s;if("UNAUTH"===o){if("Invalid nonce"===c)throw new v(u);throw new y(u)}if("ERROR"===o){if(c.indexOf("The precision of amount")>=0)throw new m(u);if(c.indexOf("Min amount each order")>=0)throw new m(u);if(c.indexOf("Min price:")>=0)throw new m(u);if(c.indexOf("Max price:")>=0)throw new m(u);if(c.indexOf("The precision of price")>=0)throw new m(u)}else if("NO_BALANCE"===o&&c.indexOf("Insufficient balance")>=0)throw new g(u);throw new p(this.id+": unknown response: "+s)}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.ExchangeNotAvailable,y=p.InsufficientFunds,g=p.OrderNotFound,b=p.InvalidOrder,k=p.AccountSuspended,w=p.InvalidNonce,x=p.DDoSProtection,T=p.NotSupported,_=p.BadRequest,C=p.AuthenticationError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"kucoin2",name:"KuCoin",countries:["SC"],rateLimit:334,version:"v2",certified:!0,comment:"Platform 2.0",has:{fetchMarkets:!0,fetchCurrencies:!0,fetchTicker:!0,fetchOrderBook:!0,fetchOrder:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchBalance:!0,fetchTrades:!0,fetchMyTrades:!0,createOrder:!0,cancelOrder:!0,fetchAccounts:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/51909432-b0a72780-23dd-11e9-99ba-73d23c8d4eed.jpg",referral:"https://www.kucoin.com/?r=E5wkqe",api:{public:"https://openapi-v2.kucoin.com",private:"https://openapi-v2.kucoin.com"},test:{public:"https://openapi-sandbox.kucoin.com",private:"https://openapi-sandbox.kucoin.com"},www:"https://www.kucoin.com",doc:["https://docs.kucoin.com"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["timestamp","symbols","market/orderbook/level{level}","market/histories","market/candles","market/stats","currencies","currencies/{currency}"],post:["bullet-public"]},private:{get:["accounts","accounts/{accountId}","accounts/{accountId}/ledgers","accounts/{accountId}/holds","deposit-addresses","deposits","withdrawals","withdrawals/quotas","orders","orders/{orderId}","fills"],post:["accounts","accounts/inner-transfer","deposit-addresses","withdrawals","orders","bullet-private"],delete:["withdrawals/{withdrawalId}","orders/{orderId}"]}},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},exceptions:{400:_,401:C,403:T,404:T,405:T,429:x,500:f,503:m,200004:y,300000:b,400001:C,400002:w,400003:C,400004:C,400005:C,400006:C,400007:C,400008:T,400100:v,411100:k,500000:f,order_not_exist:g},options:{version:"v1",symbolSeparator:"-"}})}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"loadTimeDifference",value:function(){var e=s(i.mark(function e(){var t,r,n;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTimestamp();case 2:return t=e.sent,r=this.milliseconds(),n=this.safeInteger(t,"data"),this.options.timeDifference=parseInt(r-n),e.abrupt("return",this.options.timeDifference);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.length>0&&void 0!==x[0]?x[0]:{},e.next=3,this.publicGetSymbols(t);case 3:for(r=e.sent,n=r.data,s={},a=0;a<n.length;a++)o=n[a],c=o.name,u=o.baseCurrency,d=o.quoteCurrency,h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f=o.enableTrading,v=this.safeFloat(o,"baseMaxSize"),m=this.safeFloat(o,"baseMinSize"),y=this.safeFloat(o,"quoteMaxSize"),g=this.safeFloat(o,"quoteMinSize"),b=this.safeFloat(o,"priceIncrement"),k={amount:-Math.log10(this.safeFloat(o,"quoteIncrement")),price:-Math.log10(b)},w={amount:{min:g,max:y},price:{min:Math.max(m/y,b),max:v/g}},s[p]={id:c,symbol:p,baseId:u,quoteId:d,base:h,quote:l,active:f,precision:k,limits:w,info:o};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetCurrencies(t);case 3:for(r=e.sent,n=r.data,s={},a=0;a<n.length;a++)o=n[a],c=this.safeString(o,"name"),u=o.fullName,d=this.commonCurrencyCode(c),h=this.safeInteger(o,"precision"),s[d]={id:c,name:u,code:d,precision:h,info:o};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAccounts",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privateGetAccounts(t);case 3:for(r=e.sent,n=r.data,s={},a=0;a<n.length;a++)o=n[a],c=o.type,s[c]={accountId:c,type:c,currency:void 0,info:o};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeFloat(e,"changePrice"),n=this.safeFloat(e,"changeRate"),i=this.safeFloat(e,"open"),s=this.safeFloat(e,"close"),a=this.safeFloat(e,"high"),o=this.safeFloat(e,"low"),c=this.safeFloat(e,"vol"),u=this.safeFloat(e,"volValue"),d=void 0;return t&&(d=t.symbol),{symbol:d,timestamp:void 0,datetime:void 0,high:a,low:o,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:i,close:s,last:s,previousClose:void 0,change:r,percentage:n,average:void 0,baseVolume:c,quoteVolume:u,info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),s={symbol:n.id},e.next=7,this.publicGetMarketStats(this.extend(s,r));case 7:return a=e.sent,e.abrupt("return",this.parseTicker(a.data,n));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];var t=this.safeInteger(e,0),r=this.safeFloat(e,1),n=this.safeFloat(e,2);return[t,r,this.safeFloat(e,3),this.safeFloat(e,4),n,this.safeFloat(e,6)]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"15m",n=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c=o.id,u={symbol:c,endAt:this.seconds(),type:this.timeframes[r]},void 0!==n&&(u.startAt=Math.floor(n/1e3)),e.next=12,this.publicGetMarketCandles(this.extend(u,a));case 12:return d=e.sent,h=d.data,e.abrupt("return",this.parseOHLCVs(h,o,r,n,s));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currencyId(t),s={currency:n},e.next=7,this.privateGetDepositAddresses(this.extend(s,r));case 7:return a=e.sent,o=this.safeString(a,"address"),c=this.safeString(a,"memo"),e.abrupt("return",{address:o,tag:c});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return n=this.marketId(t),s={symbol:n,level:3},e.next=8,this.publicGetMarketOrderbookLevelLevel(this.extend(s,r));case 8:return a=e.sent,o=a.data,c=this.safeInteger(o,"sequence"),e.abrupt("return",this.parseOrderBook(o,c,"bids","asks",1,2));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.marketId(t),u=this.uuid(),d={clientOid:u,price:a,side:n,size:s,symbol:c,type:r},e.next=9,this.privatePostOrders(this.extend(d,o));case 9:return h=e.sent,l=h.data,e.abrupt("return",{id:l.orderId,symbol:t,type:r,side:n,status:"open",clientOid:u,info:l});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},n={orderId:t},s=this.privateDeleteOrdersOrderId(this.extend(n,r)),e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersByStatus",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:void 0,n=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(r),c={symbol:o.id,status:t},void 0!==n&&(c.startAt=n),void 0!==s&&(c.pageSize=s),e.next=12,this.privateGetOrders(this.extend(c,a));case 12:return u=e.sent,d=u.data,h=d.items,e.abrupt("return",this.parseOrders(h,o,n,s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrdersByStatus("done",t,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrdersByStatus("active",t,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},s={orderId:t},a=void 0,void 0!==r&&(a=this.market(r)),e.next=7,this.privateGetOrdersOrderId(this.extend(s,n));case 7:return o=e.sent,c=o.data,e.abrupt("return",this.parseOrder(c,a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseSymbol",value:function(e){var t=e.split(this.options.symbolSeparator),r=n(t,2),i=r[0],s=r[1];return(s=this.commonCurrencyCode(s))+"/"+(i=this.commonCurrencyCode(i))}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0!==t)r=t.symbol;else{var n=this.safeString(e,"symbol");void 0!==n&&(r=this.parseSymbol(n))}var i=this.safeString(e,"id"),s=this.safeString(e,"type"),a=this.safeString(e,"createdAt"),o=this.iso8601(a),c=this.safeFloat(e,"price"),u=this.safeString(e,"side"),d=this.safeString(e,"feeCurrency"),h=this.safeFloat(e,"fee"),l=this.safeFloat(e,"size"),p=this.safeFloat(e,"dealSize");return{id:i,symbol:r,type:s,side:u,amount:l,price:c,filled:p,remaining:l-p,timestamp:a,datetime:o,fee:{currency:d,cost:h},status:e.isActive?"open":"closed",info:e}}},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:void 0,n=l.length>2&&void 0!==l[2]?l[2]:void 0,s=l.length>3&&void 0!==l[3]?l[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o=a.id,c={symbol:o},void 0!==r&&(c.startAt=r),void 0!==n&&(c.pageSize=n),e.next=13,this.privateGetFills(this.extend(c,s));case 13:return u=e.sent,d=this.safeValue(u,"data",{}),h=this.safeValue(d,"items",[]),e.abrupt("return",this.parseTrades(h,a,r,n));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id},void 0!==r&&(o.startAt=Math.floor(r/1e3)),void 0!==n&&(o.pageSize=n),e.next=11,this.publicGetMarketHistories(this.extend(o,s));case 11:return c=e.sent,u=this.safeValue(c,"data",[]),e.abrupt("return",this.parseTrades(u,a,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=this.safeString(e,"symbol");void 0!==(t=this.safeValue(this.markets_by_id,n,t))&&(r=t.symbol);var i=this.safeString(e,"tradeId");void 0!==i&&(i=i.toString());var s=this.safeString(e,"orderId"),a=this.safeFloat(e,"size"),o=this.safeInteger(e,"time");o=void 0!==o?parseInt(o/1e6):this.safeInteger(e,"createdAt");var c=this.safeFloat(e,"price"),u=this.safeString(e,"side"),d={cost:this.safeFloat(e,"fee"),rate:this.safeFloat(e,"feeRate"),feeCurrency:this.safeString(e,"feeCurrency")},h=this.safeString(e,"type"),l=this.safeFloat(e,"funds");return void 0!==a&&void 0!==c&&(l=a*c),{info:e,id:i,order:s,timestamp:o,datetime:this.iso8601(o),symbol:r,type:h,side:u,price:c,amount:a,cost:l,fee:d}}},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=4,this.loadMarkets();case 4:return this.checkAddress(n),o=this.currencyId(t),c={currency:o,address:n},void 0!==s&&(c.memo=s),e.next=10,this.privatePostWithdrawal(this.extend(c,a));case 10:return u=e.sent,d=u.data,e.abrupt("return",{id:this.safeString(d,"withdrawalId"),info:d});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({SUCCESS:"ok",PROCESSING:"ok",FAILURE:"failed"},e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=void 0,n=this.safeString(e,"currency");r=void 0!==(t=this.safeValue(this.currencies_by_id,n))?t.code:this.commonCurrencyCode(n);var i=this.safeString(e,"address"),s=this.safeFloat(e,"amount"),a=this.safeString(e,"walletTxId"),o=void 0===a?"withdrawal":"deposit",c=this.safeString(e,"status"),u=this.parseTransactionStatus(c),d={cost:this.safeFloat(e,"fee")};void 0!==d.cost&&void 0!==s&&(d.rate=d.cost/s);var h=this.safeString(e,"memo"),l=this.safeInteger2(e,"updatedAt","createdAt");return{address:i,tag:h,currency:r,amount:s,txid:a,type:o,status:u,fee:d,timestamp:l,datetime:this.iso8601(l),info:e}}},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.currency(t),a.currency=o.id),void 0!==r&&(a.startAt=r),void 0!==n&&(a.pageSize=n),e.next=13,this.privateGetDeposits(this.extend(a,s));case 13:return c=e.sent,u=c.data.items,e.abrupt("return",this.parseTransactions(u,o,r,n));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.currency(t),a.currency=o.id),void 0!==r&&(a.startAt=r),void 0!==n&&(a.pageSize=n),e.next=13,this.privateGetWithdrawals(this.extend(a,s));case 13:return c=e.sent,u=c.data.items,e.abrupt("return",this.parseTransactions(u,o,r,n));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return r={type:"main"},e.next=6,this.privateGetAccounts(this.extend(r,t));case 6:for(n=e.sent,s=n.data,a={info:s},o=0;o<s.length;o++)c=s[o],u=c.currency,d=this.commonCurrencyCode(u),(h={}).total=this.safeFloat(c,"balance",0),h.free=this.safeFloat(c,"available",0),h.used=this.safeFloat(c,"holds",0),a[d]=h;return e.abrupt("return",this.parseBalance(a));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(this.urls.api[t]!==this.urls.test[t])throw new f("KuCoin Platform 2.0 API currently works in preflight sandbox test mode. To proceed with KuCoin Platform 2.0 API in sandbox test mode and acknowledge this warning, please, set .urls['api'] = .urls['test'] after instantiating the exchange class. To trade with the exchange in live mode, please, use "+this.name+" API v1 as you would normally do. The official launch of KuCoin Platform 2.0 will be announced soon.");var a="/api/"+this.options.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e)),c="";i=void 0!==i?i:{},Object.keys(o).length&&("GET"!==r?(c=s=this.json(o),i["Content-Type"]="application/json"):a+="?"+this.urlencode(o));var u=this.urls.api[t]+a;if("private"===t){this.checkRequiredCredentials();var d=this.nonce().toString(),h=d+r+a+c;(i=this.extend({"KC-API-KEY":this.apiKey,"KC-API-TIMESTAMP":d,"KC-API-PASSPHRASE":this.password},i))["KC-API-SIGN"]=this.hmac(this.encode(h),this.encode(this.secret),"sha256","base64")}return{url:u,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(a){var o=this.safeString(a,"code");if(o in this.exceptions){var c=this.exceptions[o],u=this.safeString(a,"msg","");throw new c(this.id+" "+u)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(49),l=r(10).ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"kuna",name:"Kuna",countries:["UA"],rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/31697638-912824fa-b3c1-11e7-8c36-cf9606eb94ac.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},fees:{trading:{taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},t=["btc","eth","eurs","gbg","uah"],r={UAH:0},i=[],e.next=6,this.publicGetTickers();case 6:s=e.sent,a=Object.keys(s),o=0;case 9:if(!(o<a.length)){e.next=30;break}c=a[o],u=0;case 12:if(!(u<t.length)){e.next=27;break}if(d=t[u],!(c.indexOf(d)>0)){e.next=24;break}return h=c.replace(d,""),l=h.toUpperCase(),p=d.toUpperCase(),l=this.commonCurrencyCode(l),p=this.commonCurrencyCode(p),f=l+"/"+p,v={amount:6,price:this.safeInteger(r,p,6)},i.push({id:c,symbol:f,base:l,quote:p,baseId:h,quoteId:d,precision:v,limits:{amount:{min:Math.pow(10,-v.amount),max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:Math.pow(10,v.price)},cost:{min:void 0,max:void 0}}}),e.abrupt("break",27);case 24:u++,e.next=12;break;case 27:o++,e.next=9;break;case 30:return e.abrupt("return",i);case 31:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchL3OrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,i=s.length>2&&void 0!==s[2]?s[2]:{},e.abrupt("return",this.fetchOrderBook(t,r,i));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},void 0!==t){e.next=6;break}throw new l(this.id+" fetchOpenOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),e.next=11,this.privateGetOrders(this.extend({market:a.id},s));case 11:return o=e.sent,e.abrupt("return",this.parseOrders(o,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),n=void 0;t&&(n=t.symbol);var i=this.safeString(e,"side");if(void 0!==i){i=this.safeString({ask:"sell",bid:"buy"},i)}var s=this.safeFloat(e,"funds"),a=this.safeString(e,"order_id");return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:n,type:void 0,side:i,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:s,order:a,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({market:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,o.length>3&&void 0!==o[3]?o[3]:{},void 0!==t){e.next=6;break}throw new l(this.id+" fetchOpenOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return s=this.market(t),e.next=11,this.privateGetTradesMy({market:s.id});case 11:return a=e.sent,e.abrupt("return",this.parseTrades(a,s,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"lakebtc",name:"LakeBTC",countries:["US"],version:"api_v2",has:{CORS:!0,createMarketOrder:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28074120-72b7c38a-6660-11e7-92d9-d9027502281d.jpg",api:"https://api.lakebtc.com",www:"https://www.lakebtc.com",doc:["https://www.lakebtc.com/s/api_v2","https://www.lakebtc.com/s/api"]},api:{public:{get:["bcorderbook","bctrades","ticker"]},private:{post:["buyOrder","cancelOrders","getAccountInfo","getExternalAccounts","getOrders","getTrades","openOrders","sellOrder"]}},fees:{trading:{maker:.0015,taker:.002}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.publicGetTicker();case 3:for(t=e.sent,r=[],i=Object.keys(t),s=0;s<i.length;s++)a=i[s],o=t[a],c=a.slice(0,3),u=a.slice(3,6),d=c.toUpperCase(),h=u.toUpperCase(),l=d+"/"+h,r.push({id:a,symbol:l,base:d,quote:h,baseId:c,quoteId:u,info:o});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetAccountInfo();case 5:for(t=e.sent,r=t.balance,i={info:t},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=o,o in this.currencies_by_id&&(u=this.currencies_by_id[o],c=u.code),d=parseFloat(r[o]),h={free:d,used:0,total:d},i[c]=h;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBcorderbook(this.extend({symbol:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=r[o],u=void 0,o in this.markets_by_id&&(u=this.markets_by_id[o],o=u.symbol),s[o]=this.parseTicker(c,u);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTicker(r);case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s[i.id],i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetBctrades(this.extend({symbol:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new l(this.id+" allows limit orders only");case 6:return c="privatePost"+this.capitalize(i)+"Order",u=this.market(t),d={params:[a,s,u.id]},e.next=11,this[c](this.extend(d,o));case 11:return h=e.sent,e.abrupt("return",{info:h,id:h.id.toString()});case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder({params:[t]});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version;if("public"===t)a+="/"+e,Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce(),c="";if("params"in n)c=n.params.join(",");var u=this.urlencode({tonce:o,accesskey:this.apiKey,requestmethod:r.toLowerCase(),id:o,method:e,params:c});s=this.json({method:e,params:c,id:o});var d=this.hmac(this.encode(u),this.encode(this.secret),"sha1"),h=this.encode(this.apiKey+":"+d);i={"Json-Rpc-Tonce":o.toString(),Authorization:"Basic "+this.decode(this.stringToBase64(h)),"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("error"in(c=e.sent))){e.next=10;break}throw new l(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.DDoSProtection,v=l.AuthenticationError,m=l.InvalidOrder;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"lbank",name:"LBank",countries:["CN"],version:"v1",has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!1,fetchClosedOrders:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://github.com/LBank-exchange/lbank-official-api-docs",fees:"https://lbankinfo.zendesk.com/hc/zh-cn/articles/115002295114--%E8%B4%B9%E7%8E%87%E8%AF%B4%E6%98%8E"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline","accuracy"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history","withdraw","withdrawCancel","withdraws","withdrawConfigs"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}},commonCurrencies:{VET_ERC20:"VEN"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetAccuracy();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.symbol,o=a.split("_"),c=void 0,u=void 0,o.length>2?(c=o[0]+"_"+o[1],u=o[2]):(c=o[0],u=o[1]),d=this.commonCurrencyCode(c.toUpperCase()),h=this.commonCurrencyCode(u.toUpperCase()),l=d+"/"+h,p={amount:this.safeInteger(s,"quantityAccuracy"),price:this.safeInteger(s,"priceAccuracy")},r.push({id:a,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:!0,precision:p,limits:{amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:Math.pow(10,-p.price),max:Math.pow(10,p.price)},cost:{min:void 0,max:void 0}},info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0===t){var n=this.safeString(e,"symbol");if(n in this.markets_by_id){r=this.marketsById[n].symbol}else{var i=n.split("_"),s=void 0,a=void 0;i.length>2?(s=i[0]+"_"+i[1],a=i[2]):(s=i[0],a=i[1]),r=this.commonCurrencyCode(s.toUpperCase())+"/"+this.commonCurrencyCode(a.toUpperCase())}}var o=this.safeInteger(e,"timestamp"),c=e;e=c.ticker;var u=this.safeFloat(e,"latest"),d=this.safeFloat(e,"change"),h=d/100,l=u/this.sum(1,h),p=u-l,f=this.sum(u,l)/2;return void 0!==t&&(r=t.symbol),{symbol:r,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:p,percentage:d,average:f,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"turnover"),info:c}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTicker(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(this.extend({symbol:"all"},t));case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=this.parseTicker(r[s]),o=a.symbol,i[o]=a;return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:60,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=60,void 0!==r&&(s=Math.min(r,s)),e.next=8,this.publicGetDepth(this.extend({symbol:this.marketId(t),size:s},i));case 8:return a=e.sent,e.abrupt("return",this.parseOrderBook(a));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=parseInt(e.date_ms),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=this.costToPrecision(t,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:t,id:this.safeString(e,"tid"),order:void 0,type:void 0,side:e.type,price:n,amount:i,cost:parseFloat(s),fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={symbol:a.id,size:100},void 0!==r&&(o.time=parseInt(r)),void 0!==i&&(o.size=i),e.next=11,this.publicGetTrades(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"5m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:1e3,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:if(o=this.market(t),void 0!==i){e.next=9;break}throw new p(this.id+" fetchOHLCV requires a since argument");case 9:if(void 0!==s){e.next=11;break}throw new p(this.id+" fetchOHLCV requires a limit argument");case 11:return c={symbol:o.id,type:this.timeframes[r],size:s,time:parseInt(i/1e3)},e.next=14,this.publicGetKline(this.extend(c,a));case 14:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostUserInfo(t);case 5:for(r=e.sent,i={info:r},s=Object.keys(this.extend(r.info.free,r.info.freeze)),a=0;a<s.length;a++)o=s[a],c=o,o in this.currencies_by_id&&(c=this.currencies_by_id[o].code),u=this.safeFloat(r.info.free,o,0),d=this.safeFloat(r.info.freeze,o,0),(h={free:u,used:d,total:0}).total=this.sum(h.free,h.used),i[c]=h;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"},e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,n=this.safeValue(this.marketsById,e.symbol);void 0!==n?r=n.symbol:void 0!==t&&(r=t.symbol);var i=this.safeInteger(e,"create_time"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount",0),o=this.safeFloat(e,"deal_amount",0),c=this.safeFloat(e,"avg_price"),u=void 0;void 0!==c&&(u=o*c);var d=this.parseOrderStatus(this.safeString(e,"status"));return{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:d,symbol:r,type:this.safeString(e,"order_type"),side:e.type,price:s,cost:u,amount:a,filled:o,remaining:a-o,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={symbol:c.id,type:i,amount:s},"market"===r?u.type+="_market":u.price=a,e.next=9,this.privatePostCreateOrder(this.extend(u,o));case 9:return d=e.sent,(u=this.omit(u,"type")).order_id=d.order_id,u.type=i,u.order_type=r,u.create_time=this.milliseconds(),u.info=d,u=this.parseOrder(u,c),h=u.id,this.orders[h]=u,e.abrupt("return",u);case 20:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostCancelOrder(this.extend({symbol:s.id,order_id:t},i));case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),e.next=7,this.privatePostOrdersInfo(this.extend({symbol:s.id,order_id:t},i));case 7:if(a=e.sent,1!==(o=this.parseOrders(a.orders,s)).length){e.next=13;break}return e.abrupt("return",o[0]);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=6,this.loadMarkets();case 6:return void 0===i&&(i=100),a=this.market(t),e.next=10,this.privatePostOrdersInfoHistory(this.extend({symbol:a.id,current_page:1,page_length:i},s));case 10:return o=e.sent,e.abrupt("return",this.parseOrders(o.orders,void 0,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.fetchOrders(t,r,i,s);case 6:return a=e.sent,o=this.filterBy(a,"status","closed"),c=this.filterBy(a,"status","cancelled"),e.abrupt("return",o+c);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={assetCode:o.id,amount:r,account:i},void 0!==s&&(c.memo=s),u=this.privatePostWithdraw(this.extend(c,a)),e.abrupt("return",{id:u.id,info:u});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.omit(n,this.extractParams(e)),o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n);if(o+=".do","public"===t)Object.keys(a).length&&(o+="?"+this.urlencode(a));else{this.checkRequiredCredentials();var c=this.keysort(this.extend({api_key:this.apiKey},n)),u=this.rawencode(c)+"&secret_key="+this.secret;c.sign=this.hash(this.encode(u)).toUpperCase(),s=this.urlencode(c),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:"public",i=h.length>2&&void 0!==h[2]?h[2]:"GET",s=h.length>3&&void 0!==h[3]?h[3]:{},a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(c=e.sent,"false"!==this.safeString(c,"result")){e.next=14;break}throw u=this.safeString(c,"error_code"),d=this.safeString({10000:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001",10022:"Insufficient key authority"},u,this.json(c)),new(this.safeValue({10002:v,10004:f,10005:v,10006:v,10007:v,10009:m,10010:m,10011:m,10012:m,10013:m,10014:m,10015:m,10016:m,10022:v},u,p))(d);case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ArgumentsRequired,m=p.AuthenticationError,y=p.NotSupported,g=p.InvalidOrder,b=p.OrderNotFound,k=p.ExchangeNotAvailable,w=p.DDoSProtection,x=p.InsufficientFunds,T=r(19),_=T.TRUNCATE,C=T.DECIMAL_PLACES;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"livecoin",name:"LiveCoin",countries:["US","UK","RU"],rateLimit:1e3,userAgent:this.userAgents.chrome,has:{fetchDepositAddress:!0,CORS:!1,fetchTickers:!0,fetchCurrencies:!0,fetchTradingFees:!0,fetchOrders:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27980768-f22fc424-638a-11e7-89c9-6010a54ff9be.jpg",api:"https://api.livecoin.net",www:"https://www.livecoin.net",doc:"https://www.livecoin.net/api?lang=en",referral:"https://livecoin.net/?from=Livecoin-CQ1hfx44"},api:{public:{get:["exchange/all/order_book","exchange/last_trades","exchange/maxbid_minask","exchange/order_book","exchange/restrictions","exchange/ticker","info/coinInfo"]},private:{get:["exchange/client_orders","exchange/order","exchange/trades","exchange/commission","exchange/commissionCommonInfo","payment/balances","payment/balance","payment/get/address","payment/history/size","payment/history/transactions"],post:["exchange/buylimit","exchange/buymarket","exchange/cancellimit","exchange/selllimit","exchange/sellmarket","payment/out/capitalist","payment/out/card","payment/out/coin","payment/out/okpay","payment/out/payeer","payment/out/perfectmoney","payment/voucher/amount","payment/voucher/make","payment/voucher/redeem"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0018,taker:.0018}},commonCurrencies:{BTCH:"Bithash",CPC:"CapriCoin",EDR:"E-Dinar Coin",eETT:"EETT",FirstBlood:"1ST",FORTYTWO:"42",ORE:"Orectic",RUR:"RUB",SCT:"SpaceCoin",TPI:"ThaneCoin",wETT:"WETT",XBT:"Bricktox"},exceptions:{1:f,10:m,100:f,101:m,102:m,103:g,104:g,105:g,11:m,12:m,2:m,20:m,30:m,31:y,32:f,429:w,503:k}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.length>0&&void 0!==k[0]?k[0]:{},e.next=3,this.publicGetExchangeTicker();case 3:return t=e.sent,e.next=6,this.publicGetExchangeRestrictions();case 6:for(r=e.sent,s=this.indexBy(r.restrictions,"currencyPair"),a=[],o=0;o<t.length;o++)c=t[o],u=c.symbol,d=u.split("/"),h=i(d,2),l=h[0],p=h[1],f=this.commonCurrencyCode(l),v=this.commonCurrencyCode(p),m=f+"/"+v,y=this.safeValue(s,m),g={price:5,amount:8,cost:8},b={amount:{min:Math.pow(10,-g.amount),max:Math.pow(10,g.amount)}},y&&(g.price=this.safeInteger(y,"priceScale",5),b.amount.min=this.safeFloat(y,"minLimitQuantity",b.amount.min)),b.price={min:Math.pow(10,-g.price),max:Math.pow(10,g.price)},a.push({id:u,symbol:m,base:f,quote:v,baseId:l,quoteId:p,active:!0,precision:g,limits:b,info:c});return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetInfoCoinInfo(t);case 3:for(r=e.sent,i=r.info,s={},a=0;a<i.length;a++)o=i[a],c=o.symbol,u=this.commonCurrencyCode(c),8,d="normal"===o.walletStatus,s[u]={id:c,code:u,info:o,name:o.name,active:d,fee:o.withdrawFee,precision:8,limits:{amount:{min:o.minOrderAmount,max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:o.minOrderAmount,max:void 0},withdraw:{min:o.minWithdrawAmount,max:Math.pow(10,8)},deposit:{min:o.minDepositAmount,max:void 0}}};return s=this.appendFiatCurrencies(s),e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"appendFiatCurrencies",value:function(e){var t={info:void 0,active:!0,fee:void 0,precision:8,limits:{withdraw:{min:void 0,max:void 0},deposit:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},price:{min:Math.pow(10,-8),max:Math.pow(10,8)}}},r=[{id:"USD",code:"USD",name:"US Dollar"},{id:"EUR",code:"EUR",name:"Euro"}];r.push({id:"RUR",code:this.commonCurrencyCode("RUR"),name:"Russian ruble"});for(var n=0;n<r.length;n++){var i=r[n];e[i.code]=this.extend(t,i)}return e}},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetPaymentBalances();case 5:for(t=e.sent,r={info:t},i=0;i<t.length;i++)s=t[i],a=s.currency,o=void 0,o=a in r?r[a]:this.account(),"total"===s.type&&(o.total=parseFloat(s.value)),"available"===s.type&&(o.free=parseFloat(s.value)),"trade"===s.type&&(o.used=parseFloat(s.value)),r[a]=o;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingFees",value:function(){var e=s(n.mark(function e(){var t,r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetExchangeCommissionCommonInfo(t);case 5:return r=e.sent,i=this.safeFloat(r,"commission"),e.abrupt("return",{info:r,maker:i,taker:i});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={currencyPair:this.marketId(t),groupByPrice:"false"},void 0!==r&&(s.depth=r),e.next=8,this.publicGetExchangeOrderBook(this.extend(s,i));case 8:return a=e.sent,o=a.timestamp,e.abrupt("return",this.parseOrderBook(a,o));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"vwap"),s=this.safeFloat(e,"volume"),a=void 0;void 0!==s&&void 0!==i&&(a=s*i);var o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"best_bid"),bidVolume:void 0,ask:this.safeFloat(e,"best_ask"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:a,info:e}}},{key:"fetchTickers",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetExchangeTicker(t);case 6:for(r=e.sent,i=this.indexBy(r,"symbol"),s=Object.keys(i),a={},o=0;o<s.length;o++)c=s[o],u=this.markets_by_id[c],d=u.symbol,h=i[c],a[d]=this.parseTicker(h,u);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetExchangeTicker(this.extend({currencyPair:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.time;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.id.toString(),order:void 0,type:void 0,side:e.type.toLowerCase(),price:e.price,amount:e.quantity}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetExchangeLastTrades(this.extend({currencyPair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={orderId:t},e.next=7,this.privateGetExchangeOrder(this.extend(i,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={OPEN:"open",PARTIALLY_FILLED:"open",EXECUTED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED_AND_CANCELLED:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"lastModificationTime"in e&&void 0!==(r=this.safeString(e,"lastModificationTime"))&&(r=r.indexOf("T")>=0?this.parse8601(r):this.safeInteger(e,"lastModificationTime"));var n=this.parseOrderStatus(this.safeString2(e,"status","orderStatus")),i=void 0;if(void 0===t){var s=this.safeString(e,"currencyPair");(s=this.safeString(e,"symbol",s))in this.markets_by_id&&(t=this.markets_by_id[s])}var a=void 0,o=void 0;if("type"in e){var c=e.type.toLowerCase().split("_");a=c[0],o=c[1]}var u=this.safeFloat(e,"price"),d=this.safeFloat(e,"remainingQuantity");d=this.safeFloat(e,"remaining_quantity",d);var h=this.safeFloat(e,"quantity",d),l=void 0;void 0!==d&&(l=h-d);var p=void 0;void 0!==l&&void 0!==u&&(p=l*u);var f=this.safeFloat(e,"commission_rate"),v=void 0;void 0!==p&&void 0!==f&&(v=p*f);var m=void 0;return void 0!==t&&(i=t.symbol,m=t.quote),{info:e,id:e.id,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:n,symbol:i,type:a,side:o,price:u,amount:h,cost:p,filled:l,remaining:d,trades:void 0,fee:{cost:v,currency:m,rate:f}}}},{key:"fetchOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,i=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.currencyPair=a.id),void 0!==r&&(o.issuedFrom=parseInt(r)),void 0!==i&&(o.endRow=i-1),e.next=13,this.privateGetExchangeClientOrders(this.extend(o,s));case 13:for(c=e.sent,u=[],d=[],c.data&&(d=c.data),h=0;h<d.length;h++)l=d[h],u.push(this.parseOrder(l,a));return e.abrupt("return",this.sortBy(u,"timestamp"));case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({openClosed:"OPEN"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({openClosed:"CLOSED"},s));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>4&&void 0!==p[4]?p[4]:void 0,o=p.length>5&&void 0!==p[5]?p[5]:{},e.next=4,this.loadMarkets();case 4:return c="privatePostExchange"+this.capitalize(i)+r,u=this.market(t),d={quantity:this.amountToPrecision(t,s),currencyPair:u.id},"limit"===r&&(d.price=this.priceToPrecision(t,a)),e.next=10,this[c](this.extend(d,o));case 10:return h=e.sent,l={info:h,id:h.orderId.toString()},this.safeValue(h,"success")&&(l.status="open"),e.abrupt("return",l);case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},void 0!==r){e.next=4;break}throw new v(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a=s.id,e.next=10,this.privatePostExchangeCancellimit(this.extend({orderId:t,currencyPair:a},i));case 10:if(o=e.sent,c=this.safeString(o,"message",this.json(o)),!("success"in o)){e.next=23;break}if(o.success){e.next=17;break}throw new g(c);case 17:if(!("cancelled"in o)){e.next=23;break}if(!o.cancelled){e.next=22;break}return e.abrupt("return",{status:"canceled",info:o});case 22:throw new b(c);case 23:throw new f(this.id+" cancelOrder() failed: "+this.json(o));case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:void 0,a=l.length>4&&void 0!==l[4]?l[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c=i,void 0!==s&&(c+="::"+s),u={amount:this.decimalToPrecision(r,_,o.precision,C),currency:o.id,wallet:c},e.next=11,this.privatePostPaymentOutCoin(this.extend(u,a));case 11:if(d=e.sent,void 0!==(h=this.safeInteger(d,"id"))){e.next=15;break}throw new x(this.id+" insufficient funds to cover requested withdrawal amount post fees "+this.json(d));case 15:return e.abrupt("return",{info:d,id:h});case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},i={currency:t},e.next=4,this.privateGetPaymentGetAddress(this.extend(i,r));case 4:return s=e.sent,a=this.safeString(s,"wallet"),o=void 0,a.indexOf(":")>=0&&(c=a.split(":"),a=c[0],o=c[2]),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:o,info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+e,o=this.urlencode(this.keysort(n));if("GET"===r&&Object.keys(n).length&&(a+="?"+o),"private"===t){this.checkRequiredCredentials(),"POST"===r&&(s=o);var c=this.hmac(this.encode(o),this.encode(this.secret),"sha256");i={"Api-Key":this.apiKey,Sign:c.toUpperCase(),"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&"{"===s[0]){if(e>=300){var o=this.safeString(a,"errorCode");if(o in this.exceptions)throw new(0,this.exceptions[o])(this.id+" "+s);throw new f(this.id+" "+s)}if(!this.safeValue(a,"success",!0)){var c=this.safeString(a,"message");if(void 0!==c&&c.indexOf("Cannot find order")>=0)throw new b(this.id+" "+s);var u=this.safeString(a,"exception");if(void 0!==u&&u.indexOf("Minimal amount is")>=0)throw new g(this.id+" "+s);throw new f(this.id+" "+s)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e3,version:"1",has:{CORS:!1,fetchTickers:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchTradingFees:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:"https://api.mybitx.com/api",www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{public:{get:["orderbook","orderbook_top","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}"],post:["accounts","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.publicGetTickers();case 3:for(t=e.sent,r=[],i=0;i<t.tickers.length;i++)s=t.tickers[i],a=s.pair,o=a.slice(0,3),c=a.slice(3,6),o=this.commonCurrencyCode(o),c=this.commonCurrencyCode(c),u=o+"/"+c,r.push({id:a,symbol:u,base:o,quote:c,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance();case 5:for(t=e.sent,r=t.balance,i={info:t},s=0;s<r.length;s++)a=r[s],o=this.commonCurrencyCode(a.asset),c=parseFloat(a.reserved),u=parseFloat(a.unconfirmed),d=parseFloat(a.balance),(h={free:0,used:this.sum(c,u),total:this.sum(d,u)}).free=h.total-h.used,i[o]=h;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s="publicGetOrderbook",void 0!==r&&r<=100&&(s+="Top"),e.next=8,this[s](this.extend({pair:this.marketId(t)},i));case 8:return a=e.sent,o=a.timestamp,e.abrupt("return",this.parseOrderBook(a,o,"bids","asks","price","volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.creation_timestamp,n="PENDING"===e.state?"open":"closed",i="ASK"===e.type?"sell":"buy";void 0===t&&(t=this.findMarket(e.pair));var s=t.symbol,a=this.safeFloat(e,"limit_price"),o=this.safeFloat(e,"limit_volume"),c=this.safeFloat(e,"fee_counter"),u=this.safeFloat(e,"fee_base"),d=this.safeFloat(e,"base"),h=this.safeFloat(e,"counter"),l=void 0;void 0!==o&&void 0!==d&&(l=Math.max(0,o-d));var p={currency:void 0};return c?(p.side="quote",p.cost=c):(p.side="base",p.cost=u),{id:e.order_id,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:n,symbol:s,type:void 0,side:i,price:a,amount:o,filled:d,cost:h,remaining:l,trades:void 0,fee:p,info:e}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrdersByState",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:void 0,r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=7,this.loadMarkets();case 7:return o={},c=void 0,void 0!==t&&(o.state=t),void 0!==r&&(c=this.market(r),o.pair=c.id),e.next=13,this.privateGetListorders(this.extend(o,a));case 13:return u=e.sent,d=this.safeValue(u,"orders",[]),e.abrupt("return",this.parseOrders(d,c,i,s));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByState(void 0,t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByState("PENDING",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByState("COMPLETE",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last_trade");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i=this.indexBy(r.tickers,"pair"),s=Object.keys(i),a={},o=0;o<s.length;o++)c=s[o],u=this.markets_by_id[c],d=u.symbol,h=i[c],a[d]=this.parseTicker(h,u);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTicker(this.extend({pair:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=this.safeString(e,"order_id"),n=void 0,i=void 0;void 0!==r?n="sell"===(i="ASK"===e.type?"sell":"buy")&&e.is_buy?"maker":"buy"!==i||e.is_buy?"taker":"maker":i=e.is_buy?"buy":"sell";var s=this.safeFloat(e,"fee_base"),a=this.safeFloat(e,"fee_counter"),o=void 0,c=void 0;return void 0!==s?0!==s&&(o=t.base,c=s):void 0!==a&&0!==a&&(o=t.quote,c=a),{info:e,id:void 0,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,order:r,type:void 0,side:i,takerOrMaker:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"counter"),fee:{cost:c,currency:o}}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={pair:a.id},void 0!==r&&(o.since=r),e.next=10,this.publicGetTrades(this.extend(o,s));case 10:return c=e.sent,u=this.safeValue(c,"trades",[]),e.abrupt("return",this.parseTrades(u,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={pair:a.id},void 0!==r&&(o.since=r),void 0!==i&&(o.limit=i),e.next=14,this.privateGetListtrades(this.extend(o,s));case 14:return c=e.sent,u=this.safeValue(c,"trades",[]),e.abrupt("return",this.parseTrades(u,a,r,i));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingFees",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetFeeInfo(t);case 5:return r=e.sent,e.abrupt("return",{info:r,maker:this.safeFloat(r,"maker_fee"),taker:this.safeFloat(r,"taker_fee")});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c="privatePost",u={pair:this.marketId(t)},"market"===r?(c+="Marketorder",u.type=i.toUpperCase(),"buy"===i?u.counter_volume=s:u.base_volume=s):(c+="Postorder",u.volume=s,u.price=a,u.type="buy"===i?"BID":"ASK"),e.next=9,this[c](this.extend(u,o));case 9:return d=e.sent,e.abrupt("return",{info:d,id:d.order_id});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostStoporder({order_id:t});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if(Object.keys(o).length&&(a+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var c=this.encode(this.apiKey+":"+this.secret);c=this.stringToBase64(c),i={Authorization:"Basic "+this.decode(c)}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("error"in(c=e.sent))){e.next=10;break}throw new p(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11);e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"lykke",name:"Lykke",countries:["CH"],version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchTrades:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api",test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"}},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["Market/{market}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}}})}},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetWallets();case 5:for(t=e.sent,r={info:t},n=0;n<t.length;n++)s=t[n],a=s.AssetId,o=s.Balance,c=s.Reserved,u=o-c,r[a]={free:u,used:c,total:o};return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostOrdersIdCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={AssetPairId:c.id,OrderAction:this.capitalize(n),Volume:s},"market"===r?u.Asset="buy"===n?c.base:c.quote:"limit"===r&&(u.Price=a),d="privatePostOrders"+this.capitalize(r),e.next=10,this[d](this.extend(u,o));case 10:return h=e.sent,e.abrupt("return",{id:void 0,info:h});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:{},e.next=3,this.publicGetAssetPairs();case 3:for(t=e.sent,r=[],s=0;s<t.length;s++)a=t[s],o=a.Id,c=a.Name,u=c.split("/"),d=n(u,2),h=d[0],l=d[1],p=this.commonCurrencyCode(h),f=this.commonCurrencyCode(l),v=p+"/"+f,m={amount:a.Accuracy,price:a.InvertedAccuracy},r.push({id:o,symbol:v,base:p,quote:f,active:!0,info:a,precision:m,limits:{amount:{min:Math.pow(10,-m.amount),max:Math.pow(10,m.amount)},price:{min:Math.pow(10,-m.price),max:Math.pow(10,m.price)},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=parseFloat(e.lastPrice);return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.bid),bidVolume:void 0,ask:parseFloat(e.ask),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:parseFloat(e.volume24H),info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.mobileGetMarketMarket(this.extend({market:n.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({Pending:"open",InOrderBook:"open",Processing:"open",Matched:"closed",Cancelled:"canceled"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseOrderStatus(this.safeString(e,"Status")),n=void 0;if(void 0===t){var i=this.safeString(e,"AssetPairId");t=this.safeValue(this.markets_by_id,i)}t&&(n=t.symbol);var s=this.parse8601(this.safeString(e,"LastMatchTime")),a=void 0;"Registered"in e&&e.Registered?a=this.parse8601(e.Registered):"CreatedAt"in e&&e.CreatedAt&&(a=this.parse8601(e.CreatedAt));var o=this.safeFloat(e,"Price"),c=this.safeFloat(e,"Volume"),u=this.safeFloat(e,"RemainingVolume"),d=c-u,h=d*o;return{info:e,id:e.Id,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:s,symbol:n,type:void 0,side:void 0,price:o,cost:h,average:void 0,amount:c,filled:d,remaining:u,status:r,fee:void 0}}},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetOrdersId(this.extend({id:t},r));case 6:return n=e.sent,e.abrupt("return",this.parseOrder(n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>0&&void 0!==s[0]?s[0]:void 0,t=s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrders();case 8:return n=e.sent,e.abrupt("return",this.parseOrders(n,void 0,t,r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:void 0,t=a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:void 0,n=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrders(this.extend({status:"InOrderBook"},n));case 8:return s=e.sent,e.abrupt("return",this.parseOrders(s,void 0,t,r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>0&&void 0!==a[0]?a[0]:void 0,t=a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:void 0,n=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privateGetOrders(this.extend({status:"Matched"},n));case 8:return s=e.sent,e.abrupt("return",this.parseOrders(s,void 0,t,r));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>1&&void 0!==d[1]?d[1]:void 0,r=d.length>2&&void 0!==d[2]?d[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(t)},r));case 6:for(n=e.sent,s={timestamp:void 0,bids:[],asks:[]},a=void 0,o=0;o<n.length;o++)(c=n[o]).IsBuy?s.bids=this.arrayConcat(s.bids,c.Prices):s.asks=this.arrayConcat(s.asks,c.Prices),u=this.parse8601(c.Timestamp),a=void 0===a?u:Math.max(a,u);return e.abrupt("return",this.parseOrderBook(s,a,"bids","asks","Price","Volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e[t]),i=parseFloat(e[r]);return i<0&&(i=-i),[n,i]}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));return"public"===t?Object.keys(o).length&&(a+="?"+this.urlencode(o)):"private"===t&&("GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o)),this.checkRequiredCredentials(),i={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===r&&Object.keys(n).length&&(s=this.json(n))),{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"mercado",name:"Mercado Bitcoin",countries:["BR"],rateLimit:1e3,version:"v3",has:{CORS:!0,createMarketOrder:!1,fetchOrder:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","withdraw_coin"]}},markets:{"BTC/BRL":{id:"BRLBTC",symbol:"BTC/BRL",base:"BTC",quote:"BRL",suffix:"Bitcoin"},"LTC/BRL":{id:"BRLLTC",symbol:"LTC/BRL",base:"LTC",quote:"BRL",suffix:"Litecoin"},"BCH/BRL":{id:"BRLBCH",symbol:"BCH/BRL",base:"BCH",quote:"BRL",suffix:"BCash"},"XRP/BRL":{id:"BRLXRP",symbol:"XRP/BRL",base:"XRP",quote:"BRL",suffix:"Ripple"},"ETH/BRL":{id:"BRLETH",symbol:"ETH/BRL",base:"ETH",quote:"BRL",suffix:"Ethereum"}},fees:{trading:{maker:.003,taker:.7/100}}})}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},i=this.market(t),e.next=5,this.publicGetCoinOrderbook(this.extend({coin:i.base},r));case 5:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},i=this.market(t),e.next=4,this.publicGetCoinTicker(this.extend({coin:i.base},r));case 4:return s=e.sent,a=s.ticker,o=1e3*parseInt(a.date),c=this.safeFloat(a,"last"),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(a,"high"),low:this.safeFloat(a,"low"),bid:this.safeFloat(a,"buy"),bidVolume:void 0,ask:this.safeFloat(a,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(a,"vol"),quoteVolume:void 0,info:a});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},a=this.market(t),o="publicGetCoinTrades",c={coin:a.base},void 0!==r&&(o+="From",c.from=parseInt(r/1e3)),void 0!==this.safeInteger(s,"to")&&(o+="To"),e.next=11,this[o](this.extend(c,s));case 11:return u=e.sent,e.abrupt("return",this.parseTrades(u,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostGetAccountInfo();case 3:for(t=e.sent,r=t.response_data.balance,i={info:t},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=o.toLowerCase(),u=this.account(),c in r&&(u.free=parseFloat(r[c].available),u.total=parseFloat(r[c].total),u.used=u.total-u.free),i[o]=u;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},"market"!==r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return c="privatePostPlace"+this.capitalize(i)+"Order",u={coin_pair:this.marketId(t),quantity:s,limit_price:a},e.next=8,this[c](this.extend(u,o));case 8:return d=e.sent,e.abrupt("return",{info:d,id:d.response_data.order.order_id.toString()});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),e.next=9,this.privatePostCancelOrder(this.extend({coin_pair:s.id,order_id:t},i));case 9:return a=e.sent,e.abrupt("return",this.parseOrder(a.response_data.order,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({2:"open",3:"canceled",4:"closed"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"order_id"),n=void 0;"order_type"in e&&(n=1===e.order_type?"buy":"sell");var i=this.parseOrderStatus(this.safeString(e,"status")),s=void 0;if(void 0===t){var a=this.safeString(e,"coin_pair");t=this.safeValue(this.markets_by_id,a)}void 0!==t&&(s=t.symbol);var o=this.safeInteger(e,"created_timestamp");void 0!==o&&(o*=1e3);var c={cost:this.safeFloat(e,"fee"),currency:t.quote},u=this.safeFloat(e,"limit_price"),d=this.safeFloat(e,"executed_price_avg"),h=this.safeFloat(e,"quantity"),l=this.safeFloat(e,"executed_quantity"),p=h-l,f=h*d,v=this.safeInteger(e,"updated_timestamp");return void 0!==v&&(v*=1e3),{info:e,id:r,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:v,symbol:s,type:"limit",side:n,price:u,cost:f,average:d,amount:h,filled:l,remaining:p,status:i,fee:c,trades:void 0}}},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new f(this.id+" cancelOrder() requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a=void 0,e.next=10,this.privatePostGetOrder(this.extend({coin_pair:s.id,order_id:parseInt(t)},i));case 10:return a=e.sent,e.abrupt("return",this.parseOrder(a.response_data.order));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),c={coin:o.id,quantity:r.toFixed(10),address:i},"BRL"!==t){e.next=13;break}if("account_ref"in a){e.next=11;break}throw new p(this.id+" requires account_ref parameter to withdraw "+t);case 11:e.next=24;break;case 13:if("LTC"===t){e.next=24;break}if("tx_fee"in a){e.next=17;break}throw new p(this.id+" requires tx_fee parameter to withdraw "+t);case 17:if("XRP"!==t){e.next=24;break}if(void 0!==s){e.next=23;break}if("destination_tag"in a){e.next=21;break}throw new p(this.id+" requires a tag argument or destination_tag parameter to withdraw "+t);case 21:e.next=24;break;case 23:c.destination_tag=s;case 24:return e.next=26,this.privatePostWithdrawCoin(this.extend(c,a));case 26:return u=e.sent,e.abrupt("return",{info:u,id:u.response_data.withdrawal.id});case 28:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/",o=this.omit(n,this.extractParams(e));if("public"===t)a+=this.implodeParams(e,n),Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),a+=this.version+"/";var c=this.nonce();s=this.urlencode(this.extend({tapi_method:e,tapi_nonce:c},n));var u="/tapi/"+this.version+"/?"+s;i={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(u),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("error_message"in(c=e.sent))){e.next=10;break}throw new p(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30237212-ed29303c-9535-11e7-8af8-fcd381cfa20c.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker","trades","depth"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USD":{id:"btc_usd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",maker:.0015,taker:.0025},"BCH/USD":{id:"bch_usd",symbol:"BCH/USD",base:"BCH",quote:"USD",maker:.001,taker:.0015},"ETH/USD":{id:"eth_usd",symbol:"ETH/USD",base:"ETH",quote:"USD",maker:.001,taker:.0015}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privatePostInfo();case 3:for(t=e.sent,r=t.result.wallet,i={info:r},s=Object.keys(this.currencies),a=0;a<s.length;a++)o=s[a],c=o.toLowerCase(),u=this.account(),c in r&&(u.free=parseFloat(r[c].avail),u.used=parseFloat(r[c].lock),u.total=this.sum(u.free,u.used)),i[o]=u;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetDepth(this.extend({market:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i.result));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.publicGetTicker(this.extend({market:this.marketId(t)},r));case 3:return i=e.sent,s=i.result,a=this.milliseconds(),o=this.safeFloat(s,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:void 0,info:s});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetTrades(this.extend({market:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o.result,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},c={market:this.marketId(t),op:i,amount:s},"market"===r?(c.order_type=1,c.price=a):c.order_type=0,e.next=6,this.privatePostTrade(this.extend(c,o));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.result.id.toString()});case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>1&&void 0!==r[1]?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=4,this.privatePostCancel({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();var o=this.nonce();s=this.urlencode(this.extend({nonce:o},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(s),this.secret,"sha512")}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("status"in(c=e.sent))){e.next=11;break}if(200!==c.status){e.next=11;break}return e.abrupt("return",c);case 11:throw new l(this.id+" "+this.json(c));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"negociecoins",name:"NegocieCoins",countries:["BR"],rateLimit:1e3,version:"v3",has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38008571-25a6246e-3258-11e8-969b-aeb691049245.jpg",api:{public:"https://broker.negociecoins.com.br/api/v3",private:"https://broker.negociecoins.com.br/tradeapi/v1"},www:"https://www.negociecoins.com.br",doc:["https://www.negociecoins.com.br/documentacao-tradeapi","https://www.negociecoins.com.br/documentacao-api"],fees:"https://www.negociecoins.com.br/comissoes"},api:{public:{get:["{PAR}/ticker","{PAR}/orderbook","{PAR}/trades","{PAR}/trades/{timestamp_inicial}","{PAR}/trades/{timestamp_inicial}/{timestamp_final}"]},private:{get:["user/balance","user/order/{orderId}"],post:["user/order","user/orders"],delete:["user/order/{orderId}"]}},markets:{"B2X/BRL":{id:"b2xbrl",symbol:"B2X/BRL",base:"B2X",quote:"BRL"},"BCH/BRL":{id:"bchbrl",symbol:"BCH/BRL",base:"BCH",quote:"BRL"},"BTC/BRL":{id:"btcbrl",symbol:"BTC/BRL",base:"BTC",quote:"BRL"},"BTG/BRL":{id:"btgbrl",symbol:"BTG/BRL",base:"BTG",quote:"BRL"},"DASH/BRL":{id:"dashbrl",symbol:"DASH/BRL",base:"DASH",quote:"BRL"},"LTC/BRL":{id:"ltcbrl",symbol:"LTC/BRL",base:"LTC",quote:"BRL"}},fees:{trading:{maker:.003,taker:.004},funding:{withdraw:{BTC:.001,BCH:3e-5,BTG:9e-5,LTC:.005}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8}})}},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=void 0!==t?t.symbol:void 0,i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPARTicker(this.extend({PAR:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPAROrderbook(this.extend({PAR:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bid","ask","price","quantity"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount"),s=t.symbol,a=parseFloat(this.costToPrecision(s,n*i));return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type.toLowerCase(),price:n,amount:i,cost:a,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),void 0===r&&(r=0),o={PAR:a.id,timestamp_inicial:parseInt(r/1e3)},e.next=10,this.publicGetPARTradesTimestampInicial(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserBalance(t);case 5:for(r=e.sent,i={info:r},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=this.commonCurrencyCode(o),(d={free:parseFloat(c.total),used:0,total:parseFloat(c.available)}).used=d.total-d.free,i[u]=d;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0===t&&(t=this.safeValue(this.marketsById,e.pair))&&(r=t.symbol);var n=this.parse8601(e.created),i=this.safeFloat(e,"price"),s=this.safeFloat(e,"quantity"),a=this.safeFloat(e,"total"),o=this.safeFloat(e,"pending_quantity"),c=this.safeFloat(e,"executed_quantity"),u=e.status;u="filled"===u?"closed":"cancelled"===u?"canceled":"open";return{id:e.id.toString(),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:u,symbol:r,type:"limit",side:e.type,price:i,cost:a,amount:s,filled:c,remaining:o,trades:void 0,fee:{currency:t.quote,cost:this.safeFloat(e,"fee")},info:e}}},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),e.next=7,this.privatePostUserOrder(this.extend({pair:c.id,price:this.priceToPrecision(t,a),volume:this.amountToPrecision(t,s),type:i},o));case 7:return u=e.sent,d=this.parseOrder(u[0],c),h=d.id,this.orders[h]=d,e.abrupt("return",d);case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.markets[r],e.next=7,this.privateDeleteUserOrderOrderId(this.extend({orderId:t},i));case 7:return a=e.sent,e.abrupt("return",this.parseOrder(a[0],s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetUserOrderOrderId(this.extend({orderId:t},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i[0]));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=this.market(t),o={pair:a.id},void 0!==r&&(o.startDate=this.ymd(r)),void 0!==i&&(o.pageSize=i),e.next=12,this.privatePostUserOrders(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c,a));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({status:"pending"},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({status:"filled"},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t]+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e)),c=this.urlencode(o);if("public"===t)c.length&&(a+="?"+c);else{this.checkRequiredCredentials();var u=this.seconds().toString(),d=this.nonce().toString(),h="";c.length?(s=this.json(o),h=this.hash(this.encode(s),"md5","base64")):s="";var l=this.encodeURIComponent(a).toLowerCase(),p=[this.apiKey,r,l,u,d,h].join(""),f=this.base64ToBinary(this.secret),v=this.hmac(this.encode(p),this.encode(f),"sha256","base64");v=this.binaryToString(v),i={Authorization:"amx "+[this.apiKey,v,d,u].join(":")},"POST"===r?(i["Content-Type"]="application/json; charset=UTF-8",i["Content-Length"]=s.length):c.length&&(a+="?"+c,s=void 0)}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10).ExchangeError;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"nova",name:"Novaexchange",countries:["TZ"],rateLimit:2e3,version:"v2",has:{CORS:!1,createMarketOrder:!1,createDepositAddress:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30518571-78ca0bca-9b8a-11e7-8840-64b83a4a94b2.jpg",api:"https://novaexchange.com/remote",www:"https://novaexchange.com",doc:"https://novaexchange.com/remote/faq"},api:{public:{get:["markets/","markets/{basecurrency}/","market/info/{pair}/","market/orderhistory/{pair}/","market/openorders/{pair}/buy/","market/openorders/{pair}/sell/","market/openorders/{pair}/both/","market/openorders/{pair}/{ordertype}/"]},private:{post:["getbalances/","getbalance/{currency}/","getdeposits/","getwithdrawals/","getnewdepositaddress/{currency}/","getdepositaddress/{currency}/","myopenorders/","myopenorders_market/{pair}/","cancelorder/{orderid}/","withdraw/{currency}/","trade/{pair}/","tradehistory/","getdeposithistory/","getwithdrawalhistory/","walletstatus/","walletstatus/{currency}/"]}}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=t.markets,s=[],a=0;a<r.length;a++)o=r[a],c=o.marketname,u=c.split("_"),d=i(u,2),h=d[0],l=d[1],p=l+"/"+h,f=!0,o.disabled&&(f=!1),s.push({id:c,symbol:p,base:l,quote:h,active:f,info:o});return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketOpenordersPairBoth(this.extend({pair:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"buyorders","sellorders","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetMarketInfoPair(this.extend({pair:this.marketId(t)},r));case 5:return i=e.sent,s=i.markets[0],a=this.milliseconds(),o=this.safeFloat(s,"last_price"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high24h"),low:this.safeFloat(s,"low24h"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:this.safeFloat(s,"change24h"),average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(s,"volume24h"),info:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.unix_t_datestamp;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:void 0,order:void 0,type:void 0,side:e.tradetype.toLowerCase(),price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetMarketOrderhistoryPair(this.extend({pair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.items,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetbalances();case 5:for(t=e.sent,r=t.balances,i={info:t},s=0;s<r.length;s++)a=r[s],o=a.currency,c=parseFloat(a.amount_lockbox),u=parseFloat(a.amount_trades),d={free:parseFloat(a.amount),used:this.sum(c,u),total:parseFloat(a.amount_total)},i[o]=d;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},"market"!==r){e.next=4;break}throw new p(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return s=s.toString(),a=a.toString(),c=this.market(t),u={tradetype:i.toUpperCase(),tradeamount:s,tradeprice:a,tradebase:1,pair:c.id},e.next=12,this.privatePostTradePair(this.extend(u,o));case 12:return d=e.sent,h=this.safeValue(d,"tradeitems",[]),l=this.indexBy(h,"type"),f=this.safeValue(l,"created",{}),v=this.safeString(f,"orderid"),e.abrupt("return",{info:d,id:v});case 18:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostCancelorder(this.extend({orderid:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostGetnewdepositaddressCurrency(this.extend({currency:i},r));case 6:return s=e.sent,a=this.safeString(s,"address"),this.checkAddress(a),o=this.safeString(s,"tag"),e.abrupt("return",{currency:t,address:a,tag:o,info:s});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostGetdepositaddressCurrency(this.extend({currency:i},r));case 6:return s=e.sent,a=this.safeString(s,"address"),this.checkAddress(a),o=this.safeString(s,"tag"),e.abrupt("return",{currency:t,address:a,tag:o,info:s});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/";"private"===t&&(a+=t+"/"),a+=this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString();a+="?"+this.urlencode({nonce:c});var u=this.hmac(this.encode(a),this.encode(this.secret),"sha512","base64");s=this.urlencode(this.extend({apikey:this.apiKey,signature:u},o)),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("status"in(c=e.sent))){e.next=11;break}if("success"===c.status){e.next=11;break}throw new p(this.id+" "+this.json(c));case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(50);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"okcoincny",name:"OKCoin CNY",countries:["CN"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766792-8be9157a-5ee5-11e7-926c-6d69b8d3378d.jpg",api:{web:"https://www.okcoin.cn",public:"https://www.okcoin.cn/api",private:"https://www.okcoin.cn/api"},www:"https://www.okcoin.cn",doc:"https://www.okcoin.cn/rest_getStarted.html"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",type:"spot",spot:!0,future:!1},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",type:"spot",spot:!0,future:!1},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",type:"spot",spot:!0,future:!1},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY",type:"spot",spot:!0,future:!1},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",type:"spot",spot:!0,future:!1}}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(50);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"okex",name:"OKEX",countries:["CN","US"],has:{CORS:!1,futures:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{web:"https://www.okex.com/v2",public:"https://www.okex.com/api",private:"https://www.okex.com/api"},www:"https://www.okex.com",doc:"https://github.com/okcoin-okex/API-docs-OKEx.com",fees:"https://www.okex.com/pages/products/fees.html"},commonCurrencies:{FAIR:"FairGame",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",YOYO:"YOYOW"},options:{fetchTickersMethod:"fetch_tickers_from_api"}})}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",c=a[s],u=parseFloat(this.costToPrecision(e,n*c));return"sell"===r?u*=i:o="base",{type:s,currency:a[o],rate:c,cost:parseFloat(this.feeToPrecision(e,u))}}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,u(c(t.prototype),"fetchMarkets",this).call(this,r);case 3:for(i=e.sent,s=0;s<i.length;s++)i[s].spot?(i[s].maker=.0015,i[s].taker=.002):(i[s].maker=3e-4,i[s].taker=5e-4);return e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTickersFromApi",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return r={},e.next=7,this.publicGetTickers(this.extend(r,t));case 7:for(i=e.sent,s=i.tickers,a=1e3*parseInt(i.date),o={},c=0;c<s.length;c++)s[c],u=this.parseTicker(this.extend(s[c],{timestamp:a})),d=u.symbol,o[d]=u;return e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTickersFromWeb",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:void 0,t=d.length>1&&void 0!==d[1]?d[1]:{},e.next=4,this.loadMarkets();case 4:return r={},e.next=7,this.webGetSpotMarketsTickers(this.extend(r,t));case 7:for(i=e.sent,s=i.data,a={},o=0;o<s.length;o++)c=this.parseTicker(s[o]),u=c.symbol,a[u]=c;return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:{},i=this.options.fetchTickersMethod,e.next=5,this[i](t,r);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27790564-a945a9d4-5ff9-11e7-9d2d-b635763f2f24.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"]},api:{public:{get:["countries","data/{id}/ticker","data/{id}/trades","data/{id}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["merchant/get_payment/{UUID}","user","user/addresses","user/addresses/{btc_address}","user/orders","user/orders/{UUID}","user/price_alerts"],post:["user/orders","user/addresses","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{UUID}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}},fees:{trading:{maker:.0059,taker:.0059}}})}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.privateGetUser();case 3:for(t=e.sent,r={info:t},i=Object.keys(this.currencies),s=0;s<i.length;s++)a=i[s],o=a.toLowerCase(),c=this.account(),d="locked_"+o,(u="balance_"+o)in t&&(c.free=t[u]),d in t&&(c.used=t[d]),c.total=this.sum(c.free,c.used),r[a]=c;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.publicGetDataIdDepth(this.extend({id:this.marketId(t)},r));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","amount"));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.publicGetDataIdTicker(this.extend({id:this.marketId(t)},r));case 3:return i=e.sent,s=1e3*i.at,a=this.safeFloat(i,"vwap"),o=this.safeFloat(i,"volume"),c=void 0,void 0!==o&&void 0!==a&&(c=o*a),u=this.safeFloat(i,"price"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(i,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:this.safeFloat(i,"variation"),average:void 0,baseVolume:o,quoteVolume:c,info:i});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.created_at_int),n="traded_"+t.base.toLowerCase();return{info:e,id:e.uuid,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e[n]}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetDataIdTrades(this.extend({id:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>4&&void 0!==d[4]?d[4]:void 0,o=d.length>5&&void 0!==d[5]?d[5]:{},c={type:this.capitalize(r)+"Order",currency:this.marketId(t),direction:i,amount:s},"market"!==r&&(c.price=a),e.next=6,this.privatePostUserOrders(this.extend(c,o));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.uuid});case 8:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privateDeleteUserOrdersUUIDCancel(this.extend({UUID:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+a;"POST"===r&&Object.keys(o).length&&(u+=s=this.json(o)),i={"Api-Key":this.apiKey,"Api-Signature":this.hmac(this.encode(u),this.encode(this.secret)),"Api-Nonce":c,"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("errors"in(c=e.sent))){e.next=10;break}throw new l(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.ExchangeNotAvailable,m=p.RequestTimeout,y=p.AuthenticationError,g=p.PermissionDenied,b=p.DDoSProtection,k=p.InsufficientFunds,w=p.OrderNotFound,x=p.OrderNotCached,T=p.InvalidOrder,_=p.AccountSuspended,C=p.CancelPending,O=p.InvalidNonce;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"poloniex",name:"Poloniex",countries:["US"],rateLimit:1e3,has:{CORS:!1,createDepositAddress:!0,createMarketOrder:!1,editOrder:!0,fetchClosedOrders:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:"emulated",fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBooks:!0,fetchOrders:"emulated",fetchOrderStatus:"emulated",fetchOrderTrades:!0,fetchTickers:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:"emulated",withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://poloniex.com",doc:"https://docs.poloniex.com",fees:"https://poloniex.com/fees"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{maker:.001,taker:.002},funding:{}},limits:{amount:{min:1e-8,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",PLX:"ParallaxCoin",KEY:"KEYCoin",STR:"XLM",SOC:"SOCC",XAP:"API Coin"},options:{limits:{cost:{min:{BTC:1e-4,ETH:1e-4,XMR:1e-4,USDT:1}}}},exceptions:{exact:{"You may only place orders that reduce your position.":T,"Invalid order number, or you are not the person who placed the order.":w,"Permission denied":g,"Connection timed out. Please try again.":m,"Internal error. Please try again.":v,"Order not found, or you are not the person who placed it.":w,"Invalid API key/secret pair.":y,"Please do not make more than 8 API calls per second.":b,"Rate must be greater than zero.":T},broad:{"Total must be at least":T,"This account is frozen.":_,"Not enough":k,"Nonce must be greater":O,"You have already called cancelOrder or moveOrder on this order.":C,"Amount must be at least":T}}})}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",c=a[s],u=parseFloat(this.costToPrecision(e,n*c));return"sell"===r?u*=i:o="base",{type:s,currency:a[o],rate:c,cost:parseFloat(this.feeToPrecision(e,u))}}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.date,e.open,e.high,e.low,e.close,e.quoteVolume]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"5m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),void 0===n&&(n=0),(c={currencyPair:o.id,period:this.timeframes[r],start:parseInt(n/1e3)}).end=void 0!==s?this.sum(c.start,s*this.timeframes[r]):this.sum(this.seconds(),1),e.next=12,this.publicGetReturnChartData(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,n,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.publicGetReturnTicker();case 3:for(t=e.sent,r=Object.keys(t),s=[],a=0;a<r.length;a++)o=r[a],c=t[o],u=o.split("_"),d=n(u,2),h=d[0],l=d[1],p=this.commonCurrencyCode(l),f=this.commonCurrencyCode(h),v=p+"/"+f,m=this.safeFloat(this.options.limits.cost.min,f,0),y={amount:6,price:8},s.push(this.extend(this.fees.trading,{id:o,symbol:v,baseId:l,quoteId:h,base:p,quote:f,active:"1"!==c.isFrozen,precision:y,limits:{amount:{min:Math.pow(10,-y.amount),max:void 0},price:{min:Math.pow(10,-y.price),max:void 0},cost:{min:m,max:void 0}},info:c}));return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostReturnCompleteBalances(this.extend({account:"all"},t));case 5:for(r=e.sent,n={info:r},s=Object.keys(r),a=0;a<s.length;a++)o=s[a],c=r[o],u=this.commonCurrencyCode(o),(d={free:parseFloat(c.available),used:parseFloat(c.onOrders),total:0}).total=this.sum(d.free,d.used),n[u]=d;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTradingFees",value:function(){var e=s(i.mark(function e(){var t,r=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostReturnFeeInfo();case 5:return t=e.sent,e.abrupt("return",{info:t,maker:this.safeFloat(t,"makerFee"),taker:this.safeFloat(t,"takerFee"),withdraw:{},deposit:{}});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={currencyPair:this.marketId(t)},void 0!==r&&(s.depth=r),e.next=8,this.publicGetReturnOrderBook(this.extend(s,n));case 8:return a=e.sent,(o=this.parseOrderBook(a)).nonce=this.safeInteger(a,"seq"),e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBooks",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:void 0,t=g.length>1&&void 0!==g[1]?g[1]:{},e.next=4,this.loadMarkets();case 4:return r={currencyPair:"all"},e.next=7,this.publicGetReturnOrderBook(this.extend(r,t));case 7:for(s=e.sent,a=Object.keys(s),o={},c=0;c<a.length;c++)u=a[c],d=void 0,u in this.markets_by_id?d=this.markets_by_id[u].symbol:(h=u.split("_"),l=n(h,2),p=l[0],f=l[1],v=this.commonCurrencyCode(f),m=this.commonCurrencyCode(p),d=v+"/"+m),(y=this.parseOrderBook(s[u])).nonce=this.safeInteger(s[u],"seq"),o[d]=y;return e.abrupt("return",o);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=void 0,s=void 0,a=void 0,o=this.safeFloat(e,"last"),c=this.safeFloat(e,"percentChange");return-1!==c&&(s=o-(i=o/this.sum(1,c)),a=this.sum(o,i)/2),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:i,close:o,last:o,previousClose:void 0,change:s,percentage:100*c,average:a,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:void 0,t=g.length>1&&void 0!==g[1]?g[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetReturnTicker(t);case 6:for(r=e.sent,s=Object.keys(r),a={},o=0;o<s.length;o++)c=s[o],u=void 0,d=void 0,c in this.markets_by_id?(d=this.markets_by_id[c],u=d.symbol):(h=c.split("_"),l=n(h,2),p=l[0],f=l[1],v=this.commonCurrencyCode(f),m=this.commonCurrencyCode(p),d={symbol:u=v+"/"+m}),y=r[c],a[u]=this.parseTicker(y,d);return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCurrencies",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetReturnCurrencies(t);case 3:for(r=e.sent,n=Object.keys(r),s={},a=0;a<n.length;a++)o=n[a],c=r[o],8,u=this.commonCurrencyCode(o),d=0===c.delisted&&!c.disabled,s[u]={id:o,code:u,info:c,name:c.name,active:d,fee:this.safeFloat(c,"txFee"),precision:8,limits:{amount:{min:Math.pow(10,-8),max:Math.pow(10,8)},price:{min:Math.pow(10,-8),max:Math.pow(10,8)},cost:{min:void 0,max:void 0},withdraw:{min:c.txFee,max:Math.pow(10,8)}}};return e.abrupt("return",s);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetReturnTicker(r);case 6:return s=e.sent,a=s[n.id],e.abrupt("return",this.parseTicker(a,n));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.date),n=void 0,i=void 0,s=void 0;if(!t&&"currencyPair"in e){var a=e.currencyPair;if(a in this.markets_by_id)t=this.markets_by_id[a];else{var o=a.split("_");s=o[0],n=(i=o[1])+"/"+s}}void 0!==t&&(n=t.symbol,i=t.base,s=t.quote);var c=e.type,u=void 0,d=this.safeFloat(e,"total"),h=this.safeFloat(e,"amount");if("fee"in e){var l=this.safeFloat(e,"fee"),p=void 0,f=void 0;"buy"===c?(f=i,p=h*l):(f=s,void 0!==d&&(p=d*l)),u={type:void 0,rate:l,cost:p,currency:f}}return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,id:this.safeString(e,"tradeID"),order:this.safeString(e,"orderNumber"),type:"limit",side:c,price:this.safeFloat(e,"rate"),amount:h,cost:d,fee:u}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={currencyPair:a.id},void 0!==r&&(o.start=parseInt(r/1e3),o.end=this.seconds()),e.next=10,this.publicGetReturnTradeHistory(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,n));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x,T,_,C,O,S=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=S.length>0&&void 0!==S[0]?S[0]:void 0,r=S.length>1&&void 0!==S[1]?S[1]:void 0,s=S.length>2&&void 0!==S[2]?S[2]:void 0,a=S.length>3&&void 0!==S[3]?S[3]:{},e.next=6,this.loadMarkets();case 6:return o=void 0,void 0!==t&&(o=this.market(t)),c=o?o.id:"all",u={currencyPair:c},void 0!==r&&(u.start=parseInt(r/1e3),u.end=this.seconds()+1),void 0!==s&&(u.limit=parseInt(s)),e.next=14,this.privatePostReturnTradeHistory(this.extend(u,a));case 14:if(d=e.sent,h=[],void 0!==o)h=this.parseTrades(d,o);else if(d)for(l=Object.keys(d),p=0;p<l.length;p++)if(f=l[p],v=void 0,f in this.markets_by_id)for(v=this.markets_by_id[f],m=this.parseTrades(d[f],v),y=0;y<m.length;y++)h.push(m[y]);else for(g=f.split("_"),b=n(g,2),k=b[0],w=b[1],x=this.commonCurrencyCode(k),T=this.commonCurrencyCode(w),_=x+"/"+T,C=d[f],O=0;O<C.length;O++)h.push(this.extend(this.parseTrade(C[O]),{symbol:_}));return e.abrupt("return",this.filterBySinceLimit(h,r,s));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({Open:"open","Partially filled":"open"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp");r||(r=this.parse8601(e.date));var n=void 0;"resultingTrades"in e&&(n=this.parseTrades(e.resultingTrades,t));var i=void 0,s=this.safeString(e,"currencyPair");void 0!==(t=this.safeValue(this.markets_by_id,s,t))&&(i=t.symbol);var a=this.safeFloat2(e,"price","rate"),o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"startingAmount",o),u=void 0,d=0;if(void 0!==c&&void 0!==o&&(u=c-o,void 0!==a&&(d=u*a)),void 0===u&&void 0!==n){u=0,d=0;for(var h=0;h<n.length;h++){var l=n[h],p=l.amount,f=l.price;u=this.sum(u,p),d+=f*p}}var v=this.parseOrderStatus(this.safeString(e,"status")),m=this.safeString(e,"type"),y=this.safeString(e,"side",m);return m===y&&(m=void 0),{info:e,id:e.orderNumber,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:v,symbol:i,type:m,side:y,price:a,cost:d,amount:c,filled:u,remaining:o,trades:n,fee:void 0}}},{key:"parseOpenOrders",value:function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],s=this.extend(i,{status:"open",type:"limit",side:i.type,price:i.rate});r.push(this.parseOrder(s,t))}return r}},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w,x=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.length>0&&void 0!==x[0]?x[0]:void 0,r=x.length>1&&void 0!==x[1]?x[1]:void 0,n=x.length>2&&void 0!==x[2]?x[2]:void 0,x.length>3&&void 0!==x[3]?x[3]:{},e.next=6,this.loadMarkets();case 6:return s=void 0,void 0!==t&&(s=this.market(t)),a=s?s.id:"all",e.next=11,this.privatePostReturnOpenOrders(this.extend({currencyPair:a}));case 11:if(o=e.sent,c=[],void 0!==s)c=this.parseOpenOrders(o,s,c);else for(u=Object.keys(o),d=0;d<u.length;d++)h=u[d],l=o[h],p=this.markets_by_id[h],c=this.parseOpenOrders(l,p,c);for(f=0;f<c.length;f++)this.orders[c[f].id]=c[f];for(v=this.indexBy(c,"id"),m=Object.keys(this.orders),y=[],g=0;g<m.length;g++)(b=m[g])in v?this.orders[b]=this.extend(this.orders[b],v[b]):"open"===(k=this.orders[b]).status&&(void 0===(k=this.extend(k,{status:"closed",cost:void 0,filled:k.amount,remaining:0})).cost&&void 0!==k.filled&&(k.cost=k.filled*k.price),this.orders[b]=k),w=this.orders[b],void 0!==s?w.symbol===t&&y.push(w):y.push(w);return e.abrupt("return",this.filterBySinceLimit(y,r,n));case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:{},s=this.safeValue(n,"since"),a=this.safeValue(n,"limit"),o=this.omit(n,["since","limit"]),e.next=7,this.fetchOrders(r,s,a,o);case 7:c=e.sent,u=0;case 9:if(!(u<c.length)){e.next=15;break}if(c[u].id!==t){e.next=12;break}return e.abrupt("return",c[u]);case 12:u++,e.next=9;break;case 15:throw new x(this.id+" order id "+t.toString()+' is not in "open" state and not found in cache');case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"filterOrdersByStatus",value:function(e,t){for(var r=[],n=0;n<e.length;n++)e[n].status===t&&r.push(e[n]);return r}},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,s);case 6:return a=e.sent,e.abrupt("return",this.filterOrdersByStatus(a,"open"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.fetchOrders(t,r,n,s);case 6:return a=e.sent,e.abrupt("return",this.filterOrdersByStatus(a,"closed"));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l,p,v,m=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},"market"!==r){e.next=4;break}throw new f(this.id+" allows limit orders only");case 4:return e.next=6,this.loadMarkets();case 6:return c="privatePost"+this.capitalize(n),u=this.market(t),d={currencyPair:u.id,rate:this.priceToPrecision(t,a),amount:this.amountToPrecision(t,s)},e.next=11,this[c](this.extend(d,o));case 11:return h=e.sent,l=this.milliseconds(),p=this.parseOrder(this.extend({timestamp:l,status:"open",type:r,side:n,price:a,amount:s},h),u),v=p.id,this.orders[v]=p,e.abrupt("return",this.extend({info:h},p));case 17:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"editOrder",value:function(){var e=s(i.mark(function e(t,r,n,s,a){var o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=f.length>5&&void 0!==f[5]?f[5]:void 0,c=f.length>6&&void 0!==f[6]?f[6]:{},e.next=4,this.loadMarkets();case 4:return o=parseFloat(o),u={orderNumber:t,rate:this.priceToPrecision(r,o)},void 0!==a&&(u.amount=this.amountToPrecision(r,a)),e.next=9,this.privatePostMoveOrder(this.extend(u,c));case 9:return d=e.sent,h=void 0,t in this.orders?(this.orders[t].status="canceled",l=d.orderNumber,this.orders[l]=this.extend(this.orders[t],{id:l,price:o,status:"open"}),void 0!==a&&(this.orders[l].amount=a),h=this.extend(this.orders[l],{info:d})):(p=void 0,void 0!==r&&(p=this.market(r)),h=this.parseOrder(d,p),this.orders[h.id]=h),e.abrupt("return",h);case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n,i,s){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return n=void 0,e.prev=5,e.next=8,this.privatePostCancelOrder(this.extend({orderNumber:t},r));case 8:n=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),e.t0 instanceof C&&t in this.orders&&(this.orders[t].status="canceled"),e.t0;case 15:return t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return t=t.toString(),e.next=7,this.privatePostReturnOrderStatus(this.extend({orderNumber:t},r));case 7:if(n=e.sent,void 0!==(s=this.safeValue(n.result,t))){e.next=11;break}throw new w(this.id+" order id "+t+" not found");case 11:return(a=this.parseOrder(s)).id=t,this.orders[t]=a,e.abrupt("return",a);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderStatus",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.fetchOpenOrders(r,void 0,void 0,n);case 6:return s=e.sent,a=this.indexBy(s,"id"),e.abrupt("return",t in a?"open":"closed");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,s.length>2&&void 0!==s[2]?s[2]:void 0,s.length>3&&void 0!==s[3]?s[3]:void 0,r=s.length>4&&void 0!==s[4]?s[4]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.privatePostReturnOrderTrades(this.extend({orderNumber:t},r));case 8:return n=e.sent,e.abrupt("return",this.parseTrades(n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privatePostGenerateNewAddress({currency:r.id});case 6:return n=e.sent,s=void 0,a=void 0,1===n.success&&(s=this.safeString(n,"response")),this.checkAddress(s),void 0!==(o=this.safeString(r.info,"depositAddress"))&&(a=s,s=o),e.abrupt("return",{currency:t,address:s,tag:a,info:n});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>1&&void 0!==u[1]?u[1]:{},e.next=3,this.loadMarkets();case 3:return r=this.currency(t),e.next=6,this.privatePostReturnDepositAddresses();case 6:return n=e.sent,s=r.id,a=this.safeString(n,s),o=void 0,this.checkAddress(a),void 0!==(c=this.safeString(r.info,"depositAddress"))&&(o=a,a=c),e.abrupt("return",{currency:t,address:a,tag:o,info:n});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={currency:o.id,amount:r,address:n},s&&(c.paymentId=s),e.next=10,this.privatePostWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:u.response});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fetchTransactionsHelper",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:void 0,t=u.length>1&&void 0!==u[1]?u[1]:void 0,r=u.length>2&&void 0!==u[2]?u[2]:void 0,n=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return 31104e3,s=this.seconds(),a=void 0!==t?parseInt(t/1e3):s-31104e4,o={start:a,end:s},void 0!==r&&(o.limit=r),e.next=13,this.privatePostReturnDepositsWithdrawals(this.extend(o,n));case 13:return c=e.sent,e.abrupt("return",c);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:void 0,n=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:{},e.next=6,this.loadMarkets();case 6:return e.next=8,this.fetchTransactionsHelper(t,r,n,s);case 8:for(a=e.sent,o=0;o<a.deposits.length;o++)a.deposits[o].type="deposit";for(c=0;c<a.withdrawals.length;c++)a.withdrawals[c].type="withdrawal";return u=void 0,void 0!==t&&(u=this.currency(t)),d=this.parseTransactions(a.withdrawals,u,r,n),h=this.parseTransactions(a.deposits,u,r,n),l=this.arrayConcat(h,d),e.abrupt("return",this.filterByCurrencySinceLimit(this.sortBy(l,"timestamp"),t,r,n));case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.fetchTransactionsHelper(t,r,n,s);case 6:for(a=e.sent,o=0;o<a.withdrawals.length;o++)a.withdrawals[o].type="withdrawal";return c=void 0,void 0!==t&&(c=this.currency(t)),u=this.parseTransactions(a.withdrawals,c,r,n),e.abrupt("return",this.filterByCurrencySinceLimit(u,t,r,n));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},e.next=6,this.fetchTransactionsHelper(t,r,n,s);case 6:for(a=e.sent,o=0;o<a.deposits.length;o++)a.deposits[o].type="deposit";return c=void 0,void 0!==t&&(c=this.currency(t)),u=this.parseTransactions(a.deposits,c,r,n),e.abrupt("return",this.filterByCurrencySinceLimit(u,t,r,n));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({COMPLETE:"ok"},e,e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeInteger(e,"timestamp");void 0!==r&&(r*=1e3);var n=void 0,i=this.safeString(e,"currency");void 0===(t=this.safeValue(this.currencies_by_id,i))&&(n=this.commonCurrencyCode(i)),void 0!==t&&(n=t.code);var s=this.safeString(e,"status","pending"),a=this.safeString(e,"txid");if(void 0!==s){var o=s.split(": "),c=o.length;s=o[0],c>1&&void 0===a&&(a=o[1]),s=this.parseTransactionStatus(s)}var u=this.safeString(e,"withdrawalNumber"),d=void 0!==u?"withdrawal":"deposit",h=this.safeFloat(e,"amount"),l=this.safeString(e,"address"),p=this.safeFloat(e,"fee");return void 0===p&&(p=0),"withdrawal"===d&&(h-=p),{info:e,id:u,currency:n,amount:h,address:l,tag:void 0,status:s,type:d,updated:void 0,txid:a,timestamp:r,datetime:this.iso8601(r),fee:{currency:n,cost:p}}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],o=this.extend({command:e},n);return"public"===t?a+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o.nonce=this.nonce(),s=this.urlencode(o),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}),{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(void 0!==a&&"error"in a){var o=a.error,c=this.id+" "+this.json(a),u=this.exceptions.exact;if(o in u)throw new u[o](c);var d=this.exceptions.broad,h=this.findBroadlyMatchedKey(d,o);if(void 0!==h)throw new d[h](c);throw new f(c)}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(67);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"qryptos",name:"QRYPTOS"})}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.AuthenticationError,m=p.OrderNotFound;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"quadrigacx",name:"QuadrigaCX",countries:["CA"],rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,fetchTickers:!0,fetchOrder:!0,fetchMyTrades:!0,fetchTransactions:!0,CORS:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766825-98a6d0de-5ee7-11e7-9fa4-38e11a2c6f52.jpg",api:"https://api.quadrigacx.com",www:"https://www.quadrigacx.com",doc:"https://www.quadrigacx.com/api_info",referral:"https://www.quadrigacx.com/?ref=laiqgbp6juewva44finhtmrk"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book","ticker","transactions"]},private:{post:["balance","bitcoin_deposit_address","bitcoin_withdrawal","bitcoincash_deposit_address","bitcoincash_withdrawal","bitcoingold_deposit_address","bitcoingold_withdrawal","buy","cancel_order","ether_deposit_address","ether_withdrawal","litecoin_deposit_address","litecoin_withdrawal","lookup_order","open_orders","sell","user_transactions"]}},markets:{"BTC/CAD":{id:"btc_cad",symbol:"BTC/CAD",base:"BTC",quote:"CAD",baseId:"btc",quoteId:"cad",maker:.005,taker:.005},"BTC/USD":{id:"btc_usd",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"btc",quoteId:"usd",maker:.005,taker:.005},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.002,taker:.002},"ETH/CAD":{id:"eth_cad",symbol:"ETH/CAD",base:"ETH",quote:"CAD",baseId:"eth",quoteId:"cad",maker:.005,taker:.005},"LTC/CAD":{id:"ltc_cad",symbol:"LTC/CAD",base:"LTC",quote:"CAD",baseId:"ltc",quoteId:"cad",maker:.005,taker:.005},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",maker:.005,taker:.005},"BCH/CAD":{id:"bch_cad",symbol:"BCH/CAD",base:"BCH",quote:"CAD",baseId:"bch",quoteId:"cad",maker:.005,taker:.005},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",maker:.005,taker:.005},"BSV/CAD":{id:"bsv_cad",symbol:"BSV/CAD",base:"BSV",quote:"CAD",baseId:"bsv",quoteId:"cad",maker:.005,taker:.005},"BTG/CAD":{id:"btg_cad",symbol:"BTG/CAD",base:"BTG",quote:"CAD",baseId:"btg",quoteId:"cad",maker:.005,taker:.005},"BTG/BTC":{id:"btg_btc",symbol:"BTG/BTC",base:"BTG",quote:"BTC",baseId:"btg",quoteId:"btc",maker:.005,taker:.005}},exceptions:{101:v,106:m}})}},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.privatePostBalance();case 3:for(t=e.sent,r={info:t},n=Object.keys(this.currencies_by_id),s=0;s<n.length;s++)a=n[s],o=this.currencies_by_id[a],c=o.code,r[c]={free:this.safeFloat(t,a+"_available"),used:this.safeFloat(t,a+"_reserved"),total:this.safeFloat(t,a+"_balance")};return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},a=void 0,o={},void 0!==t&&(a=this.market(t),o.book=a.id),void 0!==n&&(o.limit=n),e.next=10,this.privatePostUserTransactions(this.extend(o,s));case 10:return c=e.sent,u=this.filterBy(c,"type",2),e.abrupt("return",this.parseTrades(u,a,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTransactions",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},a=void 0,o={},void 0!==t&&(a=this.market(t),o.book=a.id),void 0!==n&&(o.limit=n),e.next=10,this.privatePostUserTransactions(this.extend(o,s));case 10:return c=e.sent,u=this.filterByArray(c,"type",[0,1],!1),e.abrupt("return",this.parseTransactions(u,a,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransaction",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var t=void 0,r=void 0,n=this.omit(e,["datetime","type","method","fee"]),i=Object.keys(n),s=0;s<i.length;s++)i[s]in this.currencies_by_id&&(t=i[s]);void 0!==t&&(r=this.safeString(e,t));var a=this.parse8601(this.safeString(e,"datetime")),o=this.safeFloat(e,"fee"),c=this.safeInteger(e,"type");return c=1===c?"withdrawal":"deposit",{info:e,id:void 0,txid:void 0,timestamp:a,datetime:this.iso8601(a),address:void 0,tag:void 0,type:c,amount:r,currency:t,status:"ok",updated:void 0,fee:{currency:t,cost:o}}}},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},n={id:t},e.next=5,this.privatePostLookupOrder(this.extend(n,r));case 5:return s=e.sent,e.abrupt("return",this.parseOrders(s));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({"-1":"canceled",0:"open",1:"open",2:"closed"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),i=this.safeFloat(e,"price"),s=void 0,a=void 0,o=this.safeFloat(e,"amount"),c=void 0,u=void 0,d=this.safeString(e,"book");if(d in this.markets_by_id)t=this.markets_by_id[d];else{var h=d.split("_"),l=n(h,2),p=l[0],f=l[1],v=p.toUpperCase(),m=f.toUpperCase();u=(v=this.commonCurrencyCode(v))+"/"+(m=this.commonCurrencyCode(m))}var y=this.safeString(e,"type");y="0"===y?"buy":"sell";var g=this.parseOrderStatus(this.safeString(e,"status")),b=this.parse8601(this.safeString(e,"created")),k=this.parse8601(this.safeString(e,"updated")),w=0===i?"market":"limit";return void 0!==t&&(u=t.symbol),"closed"===g&&(s=o,a=o,o=0),"limit"===w&&void 0!==i&&void 0!==a&&(c=i*a),{info:e,id:r,timestamp:b,datetime:this.iso8601(b),lastTradeTimestamp:k,symbol:u,type:w,side:y,price:i,cost:c,average:void 0,amount:s,filled:a,remaining:o,status:g,fee:void 0}}},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.publicGetOrderBook(this.extend({book:this.marketId(t)},r));case 4:return n=e.sent,s=1e3*parseInt(n.timestamp),e.abrupt("return",this.parseOrderBook(n,s));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.length>0&&void 0!==y[0]?y[0]:void 0,t=y.length>1&&void 0!==y[1]?y[1]:{},e.next=4,this.publicGetTicker(this.extend({book:"all"},t));case 4:for(r=e.sent,s=Object.keys(r),a={},o=0;o<s.length;o++)c=s[o],u=c,d=void 0,c in this.markets_by_id?(d=this.markets_by_id[c],u=d.symbol):(h=c.split("_"),l=n(h,2),p=l[0],f=l[1],v=p.toUpperCase(),f.toUpperCase(),v=this.commonCurrencyCode(v),m=this.commonCurrencyCode(v),d={symbol:u=v+"/"+m}),a[u]=this.parseTicker(r[c],d);return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTicker(this.extend({book:n.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;void 0!==t&&(r=t.symbol);var n=1e3*parseInt(e.timestamp),i=this.safeFloat(e,"vwap"),s=this.safeFloat(e,"volume"),a=void 0;void 0!==s&&void 0!==i&&(a=s*i);var o=this.safeFloat(e,"last");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:i,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:a,info:e}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString2(e,"tid","id"),n=this.parse8601(this.safeString(e,"datetime"));void 0===n&&void 0!==(n=this.safeInteger(e,"date"))&&(n*=1e3);for(var i=void 0,s=this.omit(e,["datetime","id","type","method","order_id","fee","rate"]),a=Object.keys(s),o=this.safeFloat(e,"rate"),c=0;c<a.length;c++){var u=a[c];if(this.safeFloat(e,u)===o)if(u in this.markets_by_id)t=this.markets_by_id[u];else{var d=u.split("_");if(2===d.length){var h=d[0],l=d[1],p=h.toUpperCase();l.toUpperCase();i=(p=this.commonCurrencyCode(p))+"/"+this.commonCurrencyCode(p)}}}var f=this.safeString(e,"order_id"),v=this.safeString(e,"side"),m=this.safeFloat(e,"price",o),y=this.safeFloat(e,"amount"),g=void 0;if(void 0!==t){i=t.symbol;var b=t.baseId,k=t.quoteId;if(void 0===y&&void 0!==(y=this.safeFloat(e,b))&&(y=Math.abs(y)),void 0!==(g=this.safeFloat(e,k))&&(g=Math.abs(g)),void 0===v){var w=this.safeFloat(e,t.baseId);v=void 0!==w&&w>0?"buy":"sell"}}void 0===g&&void 0!==m&&void 0!==y&&(g=y*m);var x=void 0,T=this.safeFloat(e,"fee");if(void 0!==T){var _=void 0;void 0!==t&&(_="buy"===v?t.base:t.quote),x={cost:T,currency:_}}return{info:e,id:r,timestamp:n,datetime:this.iso8601(n),symbol:i,order:f,type:void 0,side:v,takerOrMaker:void 0,price:m,amount:y,cost:g,fee:x}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},a=this.market(t),e.next=6,this.publicGetTransactions(this.extend({book:a.id},s));case 6:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},c="privatePost"+this.capitalize(n),u={amount:s,book:this.marketId(t)},"limit"===r&&(u.price=a),e.next=7,this[c](this.extend(u,o));case 7:return d=e.sent,e.abrupt("return",{info:d,id:d.id.toString()});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:void 0,r=n.length>2&&void 0!==n[2]?n[2]:{},e.next=4,this.privatePostCancelOrder(this.extend({id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n="privatePost"+this.getCurrencyName(t)+"DepositAddress",e.next=4,this[n](r);case 4:if(!((s=e.sent).indexOf("rror")>=0)){e.next=7;break}throw new f(this.id+" "+s);case 7:return this.checkAddress(s),e.abrupt("return",{currency:t,address:s,tag:void 0,info:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrencyName",value:function(e){return{ETH:"Ether",BTC:"Bitcoin",LTC:"Litecoin",BCH:"Bitcoincash",BTG:"Bitcoingold"}[e]}},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>3&&void 0!==u[3]?u[3]:void 0,s=u.length>4&&void 0!==u[4]?u[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return a={amount:r,address:n},o="privatePost"+this.getCurrencyName(t)+"Withdrawal",e.next=9,this[o](this.extend(a,s));case 9:return c=e.sent,e.abrupt("return",{info:c,id:void 0});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+e;if("public"===t)a+="?"+this.urlencode(n);else{this.checkRequiredCredentials();var o=this.nonce(),c=[o.toString(),this.uid,this.apiKey].join(""),u=this.hmac(this.encode(c),this.encode(this.secret)),d=this.extend({key:this.apiKey,nonce:o,signature:u},n);s=this.json(d),i={"Content-Type":"application/json"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeValue(a,"error");if(void 0!==o){var c=this.safeString(o,"code"),u=this.id+" "+this.json(a),d=this.exceptions;throw c in d?new d[c](u):new f(this.id+' unknown "error" value: '+this.json(a))}}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(67);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"quoinex",name:"QUOINEX"})}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(19).ROUND,f=r(10),v=f.ExchangeError,m=f.ArgumentsRequired,y=f.AuthenticationError,g=f.InsufficientFunds,b=f.InvalidOrder,k=f.OrderNotFound;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"rightbtc",name:"RightBTC",countries:["AE"],has:{privateAPI:!1,fetchTickers:!0,fetchOHLCV:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!1,fetchOrder:"emulated",fetchMyTrades:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hr1","1d":"day1","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42633917-7d20757e-85ea-11e8-9f53-fffe9fbb7695.jpg",api:"https://www.rightbtc.com/api",www:"https://www.rightbtc.com",doc:["https://52.53.159.206/api/trader/","https://support.rightbtc.com/hc/en-us/articles/360012809412"]},api:{public:{get:["trading_pairs","ticker/{trading_pair}","tickers","depth/{trading_pair}","depth/{trading_pair}/{count}","trades/{trading_pair}","trades/{trading_pair}/{count}","candlestick/latest/{trading_pair}","candlestick/{timeSymbol}/{trading_pair}","candlestick/{timeSymbol}/{trading_pair}/{count}"]},trader:{get:["balance/{symbol}","balances","deposits/{asset}/{page}","withdrawals/{asset}/{page}","orderpage/{trading_pair}/{cursor}","orders/{trading_pair}/{ids}","history/{trading_pair}/{ids}","historys/{trading_pair}/{page}","trading_pairs"],post:["order"],delete:["order/{trading_pair}/{ids}"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{ETP:.01,BTC:.001,ETH:.01,ETC:.01,STORJ:3,LTC:.001,ZEC:.001,BCC:.001,XRB:0,NXS:.1}}},commonCurrencies:{XRB:"NANO"},exceptions:{ERR_USERTOKEN_NOT_FOUND:y,ERR_ASSET_NOT_EXISTS:v,ERR_ASSET_NOT_AVAILABLE:v,ERR_BALANCE_NOT_ENOUGH:g,ERR_CREATE_ORDER:b,ERR_CANDLESTICK_DATA:v}})}},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetTradingPairs();case 3:for(t=e.sent,r=this.extend(t.status.message),n=Object.keys(r),s=[],a=0;a<n.length;a++)o=n[a],c=r[o],u=c.bid_asset_symbol,d=c.ask_asset_symbol,h=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),p=h+"/"+l,f={amount:parseInt(c.bid_asset_decimals),price:parseInt(c.ask_asset_decimals)},s.push({id:o,symbol:p,base:h,quote:l,baseId:u,quoteId:d,active:!0,precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:Math.pow(10,f.price)},price:{min:Math.pow(10,-f.price),max:Math.pow(10,f.price)},cost:{min:void 0,max:void 0}},info:c});return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"divideSafeFloat",value:function(e,t,r){var n=this.safeFloat(e,t);return void 0!==n?n/r:n}},{key:"parseTicker",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0).symbol,r=e.date,n=this.divideSafeFloat(e,"last",1e8),i=this.divideSafeFloat(e,"high",1e8),s=this.divideSafeFloat(e,"low",1e8),a=this.divideSafeFloat(e,"buy",1e8),o=this.divideSafeFloat(e,"sell",1e8),c=this.divideSafeFloat(e,"vol24h",1e8);return{symbol:t,timestamp:r,datetime:this.iso8601(r),high:i,low:s,bid:a,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickerTradingPair(this.extend({trading_pair:n.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.result,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:void 0,t=h.length>1&&void 0!==h[1]?h[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:r=e.sent,n=r.result,s={},a=0;case 10:if(!(a<n.length)){e.next=21;break}if(o=n[a],(c=o.market)in this.marketsById){e.next=15;break}return e.abrupt("continue",18);case 15:u=this.marketsById[c],d=u.symbol,s[d]=this.parseTicker(o,u);case 18:a++,e.next=10;break;case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,s,a,o,c,u,d,h,l,p,f,v,m,y,g=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:void 0,s=g.length>2&&void 0!==g[2]?g[2]:{},e.next=4,this.loadMarkets();case 4:return a={trading_pair:this.marketId(t)},o="publicGetDepthTradingPair",void 0!==r&&(o+="Count",a.count=r),e.next=9,this[o](this.extend(a,s));case 9:for(c=e.sent,u={},d=["bid","ask"],h=0;h<d.length;h++)for(u[l=d[h]]=[],p=0;p<c.result[l].length;p++)f=n(c.result[l][p],3),v=f[0],m=f[1],y=f[2],u[l].push([v/1e8,m/1e8,y/1e8]);return e.abrupt("return",this.parseOrderBook(u,void 0,"bid","ask"));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"date");void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));var n=this.safeString(e,"tid");n=this.safeString(e,"trade_id",n);var i=this.safeString(e,"order_id"),s=this.divideSafeFloat(e,"price",1e8),a=this.safeFloat(e,"amount");void 0!==(a=this.safeFloat(e,"quantity",a))&&(a/=1e8);var o=void 0;if(void 0===t){var c=this.safeString(e,"trading_pair");c in this.markets_by_id&&(t=this.markets_by_id[c])}void 0!==t&&(o=t.symbol);var u=this.costToPrecision(o,s*a);u=parseFloat(u);var d=this.safeString(e,"side");return"b"===(d=d.toLowerCase())?d="buy":"s"===d&&(d="sell"),{timestamp:r,datetime:this.iso8601(r),symbol:o,id:n,order:i,type:"limit",side:d,price:s,amount:a,cost:u,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradesTradingPair(this.extend({trading_pair:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.result,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],e[2]/1e8,e[3]/1e8,e[4]/1e8,e[5]/1e8,e[1]/1e8]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"5m",n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:void 0,a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),e.next=9,this.publicGetCandlestickTimeSymbolTradingPair(this.extend({trading_pair:o.id,timeSymbol:this.timeframes[r]},a));case 9:return c=e.sent,e.abrupt("return",this.parseOHLCVs(c.result,o,r,n,s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.traderGetBalances(t);case 5:for(r=e.sent,n={info:r},s=r.result,a=0;a<s.length;a++)o=s[a],c=o.asset,u=this.commonCurrencyCode(c),c in this.currencies_by_id&&(u=this.currencies_by_id[c].code),d=this.divideSafeFloat(o,"balance",1e8),h=this.divideSafeFloat(o,"frozen",1e8),l=this.sum(d,h),p={free:d,used:h,total:l},n[u]=p;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={trading_pair:c.id,quantity:parseInt(this.decimalToPrecision(1e8*s,p,0,this.precisionMode)),limit:parseInt(this.decimalToPrecision(1e8*a,p,0,this.precisionMode)),type:r.toUpperCase(),side:n.toUpperCase()},e.next=8,this.traderPostOrder(this.extend(u,o));case 8:return d=e.sent,e.abrupt("return",this.parseOrder(d));case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:{},void 0!==r){e.next=4;break}throw new m(this.id+" cancelOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),e.next=9,this.traderDeleteOrderTradingPairIds(this.extend({trading_pair:s.id,ids:t},n));case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={NEW:"open",TRADE:"closed",CANCEL:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),n=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeString(e,"trading_pair");void 0===t&&i in this.markets_by_id&&(t=this.markets_by_id[i]);var s=i;void 0!==t&&(s=t.symbol);var a=this.safeInteger(e,"created");void 0===a&&(a=this.parse8601(this.safeString(e,"created_at"))),"time"in e?a=e.time:"transactTime"in e&&(a=e.transactTime);var o=this.safeFloat(e,"limit");void 0!==(o=this.safeFloat(e,"price",o))&&(o/=1e8);var c=this.divideSafeFloat(e,"quantity",1e8),u=this.divideSafeFloat(e,"filled_quantity",1e8),d=this.divideSafeFloat(e,"rest",1e8),h=this.divideSafeFloat(e,"cost",1e8);void 0!==c&&(void 0===d&&void 0!==u&&(d=Math.max(0,c-u)),void 0===u&&void 0!==d&&(u=Math.max(0,c-d)));var l=this.safeString(e,"side");void 0!==l&&(l=l.toLowerCase());var p=this.divideSafeFloat(e,"min_fee",1e8),f=void 0;if(void 0!==p){var v=void 0;void 0!==t&&(v=t.quote),f={rate:this.safeFloat(e,"fee"),cost:p,currency:v}}return{info:e,id:r,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:"limit",side:l,price:o,amount:c,cost:h,filled:u,remaining:d,status:n,fee:f,trades:void 0}}},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:{},void 0!==r){e.next=4;break}throw new m(this.id+" fetchOrder requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return s=this.market(r),a={trading_pair:s.id,ids:t},e.next=10,this.traderGetOrdersTradingPairIds(this.extend(a,n));case 10:if(o=e.sent,c=this.parseOrders(o.result,s),u=this.indexBy(c,"id"),t in u){e.next=15;break}throw new k(this.id+" fetchOrder could not find order "+t.toString()+" in open orders.");case 15:return e.abrupt("return",u[t]);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new m(this.id+" fetchOpenOrders requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={trading_pair:a.id,cursor:0},e.next=12,this.traderGetOrderpageTradingPairCursor(this.extend(o,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c.result.orders,a,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},a=this.safeString(s,"ids"),void 0!==t&&void 0!==a){e.next=7;break}throw new m(this.id+" fetchOrders requires a 'symbol' argument and an extra 'ids' parameter. The 'ids' should be an array or a string of one or more order ids separated with slashes.");case 7:return Array.isArray(a)&&(a=a.join("/")),e.next=10,this.loadMarkets();case 10:return o=this.market(t),c={trading_pair:o.id,ids:a},e.next=14,this.traderGetHistoryTradingPairIds(this.extend(c,s));case 14:return u=e.sent,e.abrupt("return",this.parseOrders(u.result,void 0,r,n));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:void 0,r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},void 0!==t){e.next=6;break}throw new m(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),e.next=11,this.traderGetHistorysTradingPairPage(this.extend({trading_pair:a.id,page:0},s));case 11:return o=e.sent,e.abrupt("return",this.parseTrades(o.result,void 0,r,n));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.omit(n,this.extractParams(e)),o=this.urls.api+"/"+t+"/"+this.implodeParams(e,n);return"public"===t?Object.keys(a).length&&(o+="?"+this.urlencode(a)):(this.checkRequiredCredentials(),i={apikey:this.apiKey,signature:this.secret},"GET"===r?Object.keys(a).length&&(o+="?"+this.urlencode(a)):(s=this.json(a),i["Content-Type"]="application/json")),{url:o,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeValue(a,"status");if(void 0!==o)if("1"!==this.safeString(o,"success")){var c=this.safeString(o,"message"),u=this.id+" "+this.json(a),d=this.exceptions;if(c in d)throw new d[c](u);throw new v(u)}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"southxchange",name:"SouthXchange",countries:["AR"],rateLimit:1e3,has:{CORS:!0,createDepositAddress:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg",api:"https://www.southxchange.com/api",www:"https://www.southxchange.com",doc:"https://www.southxchange.com/Home/Api"},api:{public:{get:["markets","price/{symbol}","prices","book/{symbol}","trades/{symbol}"]},private:{post:["cancelMarketOrders","cancelOrder","generatenewaddress","listOrders","listBalances","placeOrder","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},commonCurrencies:{SMT:"SmartNode",MTC:"Marinecoin"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s[0],o=s[1],c=this.commonCurrencyCode(a),u=this.commonCurrencyCode(o),h=d=c+"/"+u,r.push({id:h,symbol:d,base:c,quote:u,baseId:a,quoteId:o,active:void 0,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostListBalances();case 5:if(t=e.sent){e.next=8;break}throw new l(this.id+" fetchBalance got an unrecognized response");case 8:for(r={info:t},i=0;i<t.length;i++)s=t[i],a=s.Currency,o=a.toUpperCase(),c=this.currencies_by_id[o],u=c.code,d=parseFloat(s.Available),h=parseFloat(s.Deposited),p=parseFloat(s.Unconfirmed),f=this.sum(h,p),v={free:d,used:f-d,total:f},r[u]=v;return e.abrupt("return",this.parseBalance(r));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetBookSymbol(this.extend({symbol:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"BuyOrders","SellOrders","Price","Amount"));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"Last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"Variation24Hr"),average:void 0,baseVolume:this.safeFloat(e,"Volume24Hr"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetPrices(t);case 6:for(r=e.sent,i=this.indexBy(r,"Market"),s=Object.keys(i),a={},o=0;o<s.length;o++)c=s[o],u=c,d=void 0,c in this.markets_by_id&&(d=this.markets_by_id[c],u=d.symbol),h=i[c],a[u]=this.parseTicker(h,d);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetPriceSymbol(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.At;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:void 0,order:void 0,type:void 0,side:e.Type,price:e.Price,amount:e.Amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradesSymbol(this.extend({symbol:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.ListingCurrency+"/"+e.ReferenceCurrency,r=this.safeFloat(e,"LimitPrice"),n=this.safeFloat(e,"OriginalAmount"),i=this.safeFloat(e,"Amount"),s=void 0,a=void 0;void 0!==n&&(a=r*n,void 0!==i&&(s=n-i));var o=e.Type.toLowerCase();return{info:e,id:e.Code.toString(),timestamp:void 0,datetime:this.iso8601(void 0),lastTradeTimestamp:void 0,symbol:t,type:"limit",side:o,price:r,amount:n,cost:a,filled:s,remaining:i,status:"open",fee:void 0}}},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:void 0,r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:void 0,o.length>3&&void 0!==o[3]?o[3]:{},e.next=6,this.loadMarkets();case 6:return s=void 0,void 0!==t&&(s=this.market(t)),e.next=10,this.privatePostListOrders();case 10:return a=e.sent,e.abrupt("return",this.parseOrders(a,s,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={listingCurrency:c.base,referenceCurrency:c.quote,type:i,amount:s},"limit"===r&&(u.limitPrice=a),e.next=9,this.privatePostPlaceOrder(this.extend(u,o));case 9:return d=e.sent,e.abrupt("return",{info:d,id:d.toString()});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelOrder(this.extend({orderCode:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),e.next=6,this.privatePostGeneratenewaddress(this.extend({currency:i.id},r));case 6:return s=e.sent,a=s.split("|"),o=a.length,c=a[0],this.checkAddress(c),u=void 0,o>1&&(u=a[1]),e.abrupt("return",{currency:t,address:c,tag:u,info:s});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={currency:o.id,address:i,amount:r},void 0!==s&&(c.address=i+"|"+s),e.next=10,this.privatePostWithdraw(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 12:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce();o=this.extend({key:this.apiKey,nonce:c},o),s=this.json(o),i={"Content-Type":"application/json",Hash:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(39);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"surbitcoin",name:"SurBitcoin",countries:["VE"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991511-f0a50194-6481-11e7-99b5-8f02932424cc.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://surbitcoin.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"1"}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ExchangeNotAvailable,v=l.ArgumentsRequired,m=l.BadRequest,y=l.AuthenticationError,g=l.InvalidOrder,b=l.OrderNotFound,k=l.NotSupported,w=l.OrderNotFillable,x=l.InvalidAddress,T=l.InsufficientFunds;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.checkRequiredDependencies(),this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"theocean",name:"The Ocean",countries:["US"],rateLimit:3e3,version:"v1",certified:!0,requiresWeb3:!0,timeframes:{"5m":"300","15m":"900","1h":"3600","6h":"21600","1d":"86400"},has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/43103756-d56613ce-8ed7-11e8-924e-68f9d4bcacab.jpg",api:"https://api.theocean.trade",www:"https://theocean.trade",doc:"https://docs.theocean.trade",fees:"https://theocean.trade/fees"},api:{public:{get:["fee_components","token_pairs","ticker","tickers","candlesticks","candlesticks/intervals","trade_history","order_book","order/{orderHash}","version"]},private:{get:["balance","available_balance","order_history","order/unsigned","order/unsigned/market"],post:["order"],delete:["order/{orderHash}","order"]}},exceptions:{exact:{"Order not found":b},broad:{"Price can't exceed 8 digits in precision.":g,"Order cannot be canceled":g,"Greater than available wallet balance.":T,"Fillable amount under minimum":g,"Fillable amount over maximum":g,"Schema validation failed for 'params'":m,"Service Temporarily Unavailable":f}},options:{decimals:{},fetchOrderMethod:"fetch_order_from_history"}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.length>0&&void 0!==w[0]?w[0]:{},e.next=3,this.publicGetTokenPairs();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.baseToken,o=s.quoteToken,c=a.address,u=o.address,d=a.symbol,h=o.symbol,d=this.commonCurrencyCode(d),h=this.commonCurrencyCode(h),l=d+"/"+h,p=c+"/"+u,f=this.safeInteger(a,"decimals"),v=this.safeInteger(o,"decimals"),this.options.decimals[d]=f,this.options.decimals[h]=v,m={amount:-parseInt(a.precision),price:-parseInt(o.precision)},y={min:this.fromWei(this.safeString(a,"minAmount"),"ether",f),max:this.fromWei(this.safeString(a,"maxAmount"),"ether",f)},g={min:void 0,max:void 0},b={min:this.fromWei(this.safeString(o,"minAmount"),"ether",v),max:this.fromWei(this.safeString(o,"maxAmount"),"ether",v)},k={amount:y,price:g,cost:b},!0,r.push({id:p,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:!0,precision:m,limits:k,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],this.safeInteger(this.options.decimals,t.base,18));return[1e3*this.safeInteger(e,"startTime"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.fromWei(this.safeString(e,"baseVolume"),"ether",r)]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"5m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:if(o=this.market(t),c={baseTokenAddress:o.baseId,quoteTokenAddress:o.quoteId,interval:this.timeframes[r]},void 0!==i){e.next=10;break}throw new p(this.id+" fetchOHLCV requires a since argument");case 10:return i=parseInt(i),c.startTime=i,e.next=14,this.publicGetCandlesticks(this.extend(c,a));case 14:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,i,s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalanceByCode",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:{},this.walletAddress&&0===this.walletAddress.indexOf("0x")){e.next=3;break}throw new x(this.id+' fetchBalanceByCode() requires the .walletAddress to be a "0x"-prefixed hexstring like "0xbF2d65B3b2907214EEA3562f21B80f6Ed7220377"');case 3:return e.next=5,this.loadMarkets();case 5:return i=this.currency(t),s={walletAddress:this.walletAddress.toLowerCase(),tokenAddress:i.id},e.next=9,this.privateGetBalance(this.extend(s,r));case 9:return a=e.sent,o=this.safeInteger(this.options.decimals,t,18),c=this.fromWei(this.safeString(a,"available"),"ether",o),u=this.fromWei(this.safeString(a,"committed"),"ether",o),d=this.fromWei(this.safeString(a,"total"),"ether",o),e.abrupt("return",{free:c,used:u,total:d});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},this.walletAddress&&0===this.walletAddress.indexOf("0x")){e.next=3;break}throw new x(this.id+' fetchBalance() requires the .walletAddress to be a "0x"-prefixed hexstring like "0xbF2d65B3b2907214EEA3562f21B80f6Ed7220377"');case 3:if(void 0===(r=this.safeValue(this.options,"fetchBalanceCurrencies"))&&(r=this.safeValue(t,"codes")),void 0!==r&&Array.isArray(r)){e.next=7;break}throw new p(this.id+" fetchBalance() requires a `codes` parameter (an array of currency codes)");case 7:return e.next=9,this.loadMarkets();case 9:i={},s=0;case 11:if(!(s<r.length)){e.next=19;break}return a=r[s],e.next=15,this.fetchBalanceByCode(a);case 15:i[a]=e.sent;case 16:s++,e.next=11;break;case 19:return e.abrupt("return",this.parseBalance(i));case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(void 0===n)throw new v(this.id+" parseBidAsk requires a market argument");var i=parseFloat(e[t]),s=this.safeInteger(this.options.decimals,n.base,18);return[i,this.fromWei(e[r],"ether",s)]}},{key:"parseOrderBook",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bids",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asks",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,o={timestamp:t,datetime:this.iso8601(t),nonce:void 0},c=[r,n],u=0;u<c.length;u++){for(var d=c[u],h=[],l=this.safeValue(e,d),p=0;p<l.length;p++)h.push(this.parseBidAsk(l[p],i,s,a));o[d]=h}return o[r]=this.sortBy(o[r],0,!0),o[n]=this.sortBy(o[n],0),o}},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={baseTokenAddress:s.baseId,quoteTokenAddress:s.quoteId},void 0!==r&&(a.depth=r),e.next=9,this.publicGetOrderBook(this.extend(a,i));case 9:return o=e.sent,e.abrupt("return",this.parseOrderBook(o,void 0,"bids","asks","price","availableAmount",s));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=parseInt(this.safeInteger(e,"timestamp")/1e3),n=void 0,i=void 0;void 0!==t&&(n=t.symbol,i=t.base);var s=this.safeInteger(this.options.decimals,i,18),a=this.fromWei(this.safeString(e,"volume"),"ether",s),o=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"priceChange"),average:void 0,baseVolume:a,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=this.safeString(a,"baseTokenAddress"),c=this.safeString(a,"quoteTokenAddress"),d=void 0,h=u=o+"/"+c,u in this.markets_by_id&&(d=this.markets_by_id[u],h=d.symbol),i[h]=this.parseTicker(a.ticker,d);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),s={baseTokenAddress:i.baseId,quoteTokenAddress:i.quoteId},e.next=7,this.publicGetTicker(this.extend(s,r));case 7:return a=e.sent,e.abrupt("return",this.parseTicker(a,i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"lastUpdated"),n=this.safeFloat(e,"price"),i=this.safeString(e,"id"),s=this.safeString(e,"side"),a=void 0,o=void 0;void 0!==t&&(a=t.symbol,o=t.base);var c=this.safeInteger(this.options.decimals,o,18),u=this.fromWei(this.safeString(e,"amount"),"ether",c),d=void 0;void 0!==u&&void 0!==n&&(d=u*n);return{id:i,order:i,timestamp:r,datetime:this.iso8601(r),symbol:a,type:void 0,side:s,takerOrMaker:"taker",price:n,amount:u,cost:d,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={baseTokenAddress:a.baseId,quoteTokenAddress:a.quoteId},e.next=9,this.publicGetTradeHistory(this.extend(o,s));case 9:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,i));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>4&&void 0!==f[4]?f[4]:void 0,o=f.length>5&&void 0!==f[5]?f[5]:{},c=this.id+' createOrder() requires `exchange.walletAddress` and `exchange.privateKey`. The .walletAddress should be a "0x"-prefixed hexstring like "0xbF2d65B3b2907214EEA3562f21B80f6Ed7220377". The .privateKey for that wallet should be a "0x"-prefixed hexstring like "0xe4f40d465efa94c98aec1a51f574329344c772c1bce33be07fa20a56795fdd09".',this.walletAddress&&0===this.walletAddress.indexOf("0x")){e.next=5;break}throw new x(c);case 5:if(this.privateKey&&0===this.privateKey.indexOf("0x")){e.next=7;break}throw new x(c);case 7:return e.next=9,this.fetchOrderParamsToSign(t,r,i,s,a,o);case 9:if(u=e.sent,void 0!==(d=u.unsignedZeroExOrder)){e.next=13;break}throw new w(this.id+" "+r+" order to "+i+" "+t+" is not fillable at the moment");case 13:return e.next=15,this.signZeroExOrderV2(d,this.privateKey);case 15:return h=e.sent,l=this.safeString(h,"orderHash"),e.next=19,this.postSignedOrder(h,u,o);case 19:return e.next=21,this.fetchOrder(l);case 21:return(p=e.sent).type=r,e.abrupt("return",p);case 24:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"fetchOrderParamsToSign",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>4&&void 0!==f[4]?f[4]:void 0,o=f.length>5&&void 0!==f[5]?f[5]:{},"buy"===i||"sell"===i){e.next=4;break}throw new p(i+" is not valid side param. Use 'buy' or 'sell'");case 4:if("market"===r||"limit"===r){e.next=6;break}throw new p(r+" is not valid type param. Use 'market' or 'limit'");case 6:if("limit"!==r||void 0!==a){e.next=8;break}throw new p("Price is not provided for limit order");case 8:return e.next=10,this.loadMarkets();case 10:if(c=this.market(t),u=this.safeInteger(this.options.decimals,c.base,18),d={walletAddress:this.walletAddress.toLowerCase(),baseTokenAddress:c.baseId,quoteTokenAddress:c.quoteId,side:i,amount:this.toWei(this.amountToPrecision(t,s),"ether",u)},h=void 0,"limit"!==r){e.next=19;break}h="privateGetOrderUnsigned",d.price=this.priceToPrecision(t,a),e.next=24;break;case 19:if("market"!==r){e.next=23;break}h="privateGetOrderUnsignedMarket",e.next=24;break;case 23:throw new p("Unsupported order type: "+r);case 24:return e.next=26,this[h](this.extend(d,o));case 26:return l=e.sent,e.abrupt("return",l);case 28:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"postSignedOrder",value:function(){var e=i(n.mark(function e(t,r){var i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>2&&void 0!==o[2]?o[2]:{},(s=r).signedZeroExOrder=t,s=this.omit(s,"unsignedZeroExOrder"),e.next=6,this.privatePostOrder(this.extend(s,i));case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={orderHash:t},e.next=7,this.privateDeleteOrderOrderHash(this.extend(s,i));case 7:return a=e.sent,o=void 0,void 0!==r&&(o=this.market(r)),e.abrupt("return",this.extend(this.parseOrder(a.canceledOrder,o),{status:"canceled"}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllOrders",value:function(){var e=i(n.mark(function e(){var t,r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.privateDeleteOrder(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"zeroExOrder"),n=this.safeString(e,"orderHash");void 0===n&&void 0!==r&&(n=this.safeString(r,"orderHash"));var i=this.safeString(e,"side"),s=this.safeString(e,"type"),a=this.safeInteger(e,"creationTimestamp");"undefined"!==a&&(a=parseInt(a/1e3));var o=void 0,c=this.safeString(e,"baseTokenAddress"),u=this.safeString(e,"quoteTokenAddress"),d=void 0;void 0!==c&&void 0!==u&&(d=c+"/"+u);var h=void 0;void 0!==(t=this.safeValue(this.markets_by_id,d,t))&&(o=t.symbol,h=t.base);var l=this.safeInteger(this.options.decimals,h,18),p=this.safeFloat(e,"price"),f=this.fromWei(this.safeString(e,"filledAmount"),"ether",l),v=this.fromWei(this.safeString(e,"settledAmount"),"ether",l),m=this.fromWei(this.safeString(e,"confirmedAmount"),"ether",l),y=this.fromWei(this.safeString(e,"failedAmount"),"ether",l),g=this.fromWei(this.safeString(e,"deadAmount"),"ether",l),b=this.fromWei(this.safeString(e,"prunedAmount"),"ether",l),w=this.fromWei(this.safeString(e,"initialAmount"),"ether",l),x=this.sum(f,v,m),T=void 0,_=void 0,C=this.safeValue(e,"timeline"),O=void 0,S=void 0;if(void 0!==C&&C.length>0){var E=this.groupBy(C,"action");if("error"in E&&(S="failed"),"filled"in E){var B=this.safeValue(E,"filled"),I=B.length;_=_=this.safeInteger(B[I-1],"timestamp"),O=[];for(var A=0;A<I;A++){var M=this.parseTrade(this.extend(B[A],{price:p}),t);O.push(this.extend(M,{order:n,type:s,side:i}))}}}var P=void 0;void 0!==x&&(void 0===T&&void 0!==w&&(T=w-x),void 0!==p&&(P=x*p));var F=void 0,R=this.safeString(e,"feeAmount");if(void 0!==R){var D=this.safeString(e,"feeOption"),L=void 0;if("feeInNative"===D)void 0!==t&&(L=t.base);else{if("feeInZRX"!==D)throw new k(this.id+" encountered an unsupported order fee option: "+D);L="ZRX"}var N=this.safeInteger(this.options.decimals,L,18);F={cost:this.fromWei(R,"ether",N),currency:L}}var q=t?t.precision.amount:8;void 0!==T&&(void 0===S&&(S="open",T-y-g-b<Math.pow(10,-q)&&(S=x<w?"canceled":"closed")));return{info:e,id:n,symbol:o,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:_,type:s,side:i,price:p,cost:P,amount:w,remaining:T,filled:x,status:S,fee:F,trades:O}}},{key:"fetchOpenOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},s=this.options.fetchOrderMethod,e.next=5,this[s](t,r,this.extend({openAmount:1},i));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchClosedOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:{},s=this.options.fetchOrderMethod,e.next=5,this[s](t,r,this.extend(i));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderFromHistory",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.fetchOrders(r,void 0,void 0,this.extend({orderHash:t},i));case 4:if(s=e.sent,a=this.indexBy(s,"id"),!(t in a)){e.next=8;break}return e.abrupt("return",a[t]);case 8:throw new b(this.id+" could not find order "+t+" in order history");case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderById",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return i={orderHash:t},e.next=7,this.publicGetOrderOrderHash(this.extend(i,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:void 0,i=o.length>2&&void 0!==o[2]?o[2]:{},s={orderHash:t},e.next=5,this.fetchOrders(r,void 0,void 0,this.extend(s,i));case 5:if(a=e.sent,1===a.length){e.next=9;break}throw new b(this.id+" order "+t+" not found");case 9:return e.abrupt("return",a[0]);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.market(t),a.baseTokenAddress=o.baseId,a.quoteTokenAddress=o.quoteId),void 0!==i&&(a.limit=i),e.next=12,this.privateGetOrderHistory(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseOrders(c,void 0,r,i));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({openAmount:1},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrders(t,r,i,this.extend({openAmount:0},s));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.seconds().toString(),u=this.apiKey+c+r;"POST"===r?u+=s=this.json(o):(Object.keys(o).length&&(a+="?"+this.urlencode(o)),u+=this.json({}));var d=this.hmac(this.encode(u),this.encode(this.secret),"sha256","base64");i={"TOX-ACCESS-KEY":this.apiKey,"TOX-ACCESS-SIGN":d,"TOX-ACCESS-TIMESTAMP":c,"Content-Type":"application/json"}}else"public"===t&&Object.keys(o).length&&(a+="?"+this.urlencode(o));return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)){if("'Authentication failed'"===s)throw new y(this.id+" "+s);if("{"===s[0]||"["===s[0]){var o=this.safeString(a,"message");if(void 0!==o){var c=this.id+" "+this.json(a),u=this.exceptions.exact;if(o in u)throw new u[o](c);var d=this.exceptions.broad,h=this.findBroadlyMatchedKey(d,s);if(void 0!==h)throw new d[h](c);throw new p(c)}}}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"therock",name:"TheRockTrading",countries:["MT"],rateLimit:1e3,version:"v1",has:{CORS:!1,fetchTickers:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds","funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,f,v,m,y,g=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>0&&void 0!==g[0]?g[0]:{},e.next=3,this.publicGetFunds();case 3:if(t=e.sent,r=this.safeValue(t,"funds"),i=[],void 0!==r){e.next=10;break}throw new p(this.id+" fetchMarkets got an unexpected response");case 10:for(s=0;s<r.length;s++)a=r[s],o=this.safeString(a,"id"),c=this.safeString(a,"trade_currency"),u=this.safeString(a,"base_currency"),d=this.commonCurrencyCode(c),h=this.commonCurrencyCode(u),l=d+"/"+h,f=this.safeFloat(a,"buy_fee"),v=this.safeFloat(a,"sell_fee"),m=Math.max(f,v),y=m/=100,i.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,info:a,active:!0,maker:y,taker:m,precision:{amount:this.safeInteger(a,"trade_currency_decimals"),price:this.safeInteger(a,"base_currency_decimals")},limits:{amount:{min:this.safeFloat(a,"minimum_quantity_offer"),max:void 0},price:{min:this.safeFloat(a,"minimum_price_offer"),max:void 0},cost:{min:void 0,max:void 0}}});case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalances();case 5:for(t=e.sent,r=t.balances,i={info:t},s=0;s<r.length;s++)a=r[s],o=a.currency,c=a.trading_balance,u=a.balance,d={free:c,used:u-c,total:u},i[o]=d;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetFundsIdOrderbook(this.extend({id:this.marketId(t)},r));case 6:return i=e.sent,s=this.parse8601(i.date),e.abrupt("return",this.parseOrderBook(i,s,"bids","asks","price","amount"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.date),n=void 0;t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:i,last:i,previousClose:this.safeFloat(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_traded"),quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>0&&void 0!==l[0]?l[0]:void 0,t=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetFundsTickers(t);case 6:for(r=e.sent,i=this.indexBy(r.tickers,"fund_id"),s=Object.keys(i),a={},o=0;o<s.length;o++)c=s[o],u=this.markets_by_id[c],d=u.symbol,h=i[c],a[d]=this.parseTicker(h,u);return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetFundsIdTicker(this.extend({id:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t||(t=this.markets_by_id[e.fund_id]);var r=this.parse8601(this.safeString(e,"date")),n=this.safeString(e,"id"),i=this.safeString(e,"order_id"),s=this.safeString(e,"side"),a=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),c=void 0;void 0!==a&&void 0!==o&&(c=a*o);for(var u=void 0,d=void 0,h=this.safeValue(e,"transactions",[]),l=this.groupBy(h,"type"),p=this.safeValue(l,"paid_commission",[]),f=0;f<p.length;f++)void 0===d&&(d=0),d=this.sum(d,this.safeFloat(p[f],"price"));return void 0!==d&&(u={cost:d,currency:t.quote}),{info:e,id:n,order:i,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:s,price:a,amount:o,cost:c,fee:u}}},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={id:a.id},void 0!==i&&(o.per_page=i),void 0!==r&&(o.after=this.iso8601(r)),e.next=14,this.privateGetFundsIdTrades(this.extend(o,s));case 14:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades,a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),o={id:a.id},void 0!==i&&(o.per_page=i),void 0!==r&&(o.after=this.iso8601(r)),e.next=11,this.publicGetFundsIdTrades(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseTrades(c.trades,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:return"market"===r&&(a=0),e.next=7,this.privatePostFundsFundIdOrders(this.extend({fund_id:this.marketId(t),side:i,amount:s,price:a},o));case 7:return c=e.sent,e.abrupt("return",{info:c,id:c.id.toString()});case 9:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:void 0,i=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateDeleteFundsFundIdOrdersId(this.extend({id:t,fund_id:this.marketId(r)},i));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){return this.safeString({active:"open",executed:"closed",deleted:"canceled"},e,e)}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),u=c+a;i={"X-TRT-KEY":this.apiKey,"X-TRT-NONCE":c,"X-TRT-SIGN":this.hmac(this.encode(u),this.encode(this.secret),"sha512")},Object.keys(o).length&&(s=this.json(o),i["Content-Type"]="application/json")}else"public"===t&&Object.keys(o).length&&(a+="?"+this.rawencode(o));return{url:a,method:r,body:s,headers:i}}},{key:"request",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"public",i=u.length>2&&void 0!==u[2]?u[2]:"GET",s=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:void 0,e.next=7,this.fetch2(t,r,i,s,a,o);case 7:if(!("errors"in(c=e.sent))){e.next=10;break}throw new p(this.id+" "+this.json(c));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.InsufficientFunds,m=p.OrderNotFound;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"tidebit",name:"TideBit",countries:["HK"],rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39034921-e3acf016-4480-11e8-9945-a6086a1082fe.jpg",api:"https://www.tidebit.com",www:"https://www.tidebit.com",doc:["https://www.tidebit.com/documents/api/guide","https://www.tidebit.com/swagger/#/default"]},api:{public:{get:["markets","tickers","tickers/{market}","timestamp","trades","trades/{market}","order_book","order","k_with_pending_trades","k","depth"],post:[]},private:{get:["addresses/{address}","deposits/history","deposits/get_deposit","deposits/deposit_address","historys/orders","historys/vouchers","historys/accounts","historys/snapshots","linkage/get_status","members/me","order","orders","partners/orders/{id}/trades","referral_commissions/get_undeposited","referral_commissions/get_graph_data","trades/my","withdraws/bind_account_list","withdraws/get_withdraw_account","withdraws/fetch_bind_info"],post:["deposits/deposit_cash","favorite_markets/update","order/delete","orders","orders/multi","orders/clear","referral_commissions/deposit","withdraws/apply","withdraws/bind_bank","withdraws/bind_address"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:v,2003:m}})}},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetDepositAddress(this.extend({currency:n.id},r));case 6:if(!("success"in(s=e.sent))){e.next=12;break}if(!s.success){e.next=12;break}return a=this.safeString(s,"address"),o=this.safeString(s,"addressTag"),e.abrupt("return",{currency:t,address:this.checkAddress(a),tag:o,info:s});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.publicGetMarkets();case 3:for(t=e.sent,r=[],s=0;s<t.length;s++)a=t[s],o=a.id,c=a.name,u=c.split("/"),d=n(u,2),h=d[0],l=d[1],p=this.commonCurrencyCode(h),f=this.commonCurrencyCode(l),r.push({id:o,symbol:c,base:p,quote:f,baseId:h,quoteId:l,info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetMembersMe();case 5:for(t=e.sent,r=t.accounts,n={info:r},s=0;s<r.length;s++)a=r[s],o=a.currency,c=o.toUpperCase(),o in this.currencies_by_id&&(c=this.currencies_by_id[o].code),(u={free:parseFloat(a.balance),used:parseFloat(a.locked),total:0}).total=this.sum(u.free,u.used),n[c]=u;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(t),a={market:s.id},void 0===r&&(a.limit=r),a.market=s.id,e.next=10,this.publicGetDepth(this.extend(a,n));case 10:return o=e.sent,c=1e3*o.timestamp,e.abrupt("return",this.parseOrderBook(o,c));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.at;e=e.ticker;var n=void 0;void 0!==t&&(n=t.symbol);var i=this.safeFloat(e,"last");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:void 0,t=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTickers(t);case 6:for(r=e.sent,n=Object.keys(r),s={},a=0;a<n.length;a++)o=n[a],c=void 0,u=o,o in this.markets_by_id?(c=this.markets_by_id[o],u=c.symbol):(d=o.slice(0,3),h=o.slice(3,6),d=d.toUpperCase(),h=h.toUpperCase(),d=this.commonCurrencyCode(d),h=this.commonCurrencyCode(h),u=d+"/"+h),l=r[o],s[u]=this.parseTicker(l,c);return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.publicGetTickersMarket(this.extend({market:n.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s,n));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),info:e}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,n=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTrades(this.extend({market:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,n));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),void 0===s&&(s=30),(c={market:o.id,period:this.timeframes[r],limit:s}).timestamp=void 0!==n?n:18e5,e.next=12,this.publicGetK(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u,o,r,n,s));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(void 0!==t)r=t.symbol;else{var n=e.market;r=this.markets_by_id[n].symbol}var i=this.parse8601(e.created_at),s=e.state,a=void 0;return"done"===s?a="closed":"wait"===s?a="open":"cancel"===s&&(a="canceled"),{id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:a,symbol:r,type:e.ord_type,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c={market:this.marketId(t),side:n,volume:s.toString(),ord_type:r},"limit"===r&&(c.price=a.toString()),e.next=8,this.privatePostOrders(this.extend(c,o));case 8:return u=e.sent,d=this.markets_by_id[u.market],e.abrupt("return",this.parseOrder(u,d));case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostOrderDelete({id:t});case 6:if(r=e.sent,n=this.parseOrder(r),"closed"!==(s=n.status)&&"canceled"!==s){e.next=11;break}throw new m(this.id+" "+this.json(n));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),void 0!==(c=this.safeString(a,"id"))){e.next=9;break}throw new f(this.id+" withdraw() requires an extra id param (withdraw account id according to withdraws/bind_account_list endpoint");case 9:return u={id:c,currency_type:"coin",currency:o.toLowerCase(),body:r},void 0!==s&&(u.memo=s),e.next=13,this.privatePostWithdrawsApply(this.extend(u,a));case 13:return d=e.sent,e.abrupt("return",{info:d,id:void 0});case 15:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"encodeParams",value:function(e){return this.urlencode(this.keysort(e))}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a="/api/"+this.version+"/"+this.implodeParams(e,n)+".json",o=this.omit(n,this.extractParams(e)),c=this.urls.api+a;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.keysort(this.extend({access_key:this.apiKey,tonce:u},n)),h=this.urlencode(d),l=r+"|"+a+"|"+h,p=h+"&signature="+this.hmac(this.encode(l),this.encode(this.secret));"GET"===r?c+="?"+p:(s=p,i={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(400===e){var o=this.safeValue(a,"error"),c=this.safeString(o,"code"),u=this.id+" "+this.json(a),d=this.exceptions;if(c in d)throw new d[c](u)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(51);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"tidex",name:"Tidex",countries:["UK"],rateLimit:2e3,version:"3",has:{fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://gate.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{MGO:"WMGO",EMGO:"MGO"}})}},{key:"fetchCurrencies",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.webGetCurrency(t);case 3:for(r=e.sent,i={},s=0;s<r.length;s++)a=r[s],o=a.symbol,c=a.amountPoint,u=o.toUpperCase(),u=this.commonCurrencyCode(u),d=!0===a.visible,h=!0===a.withdrawEnable,l=!0===a.depositEnable,h&&l||(d=!1),i[u]={id:o,code:u,name:a.name,active:d,precision:c,funding:{withdraw:{active:h,fee:a.withdrawFee},deposit:{active:l,fee:0}},limits:{amount:{min:void 0,max:Math.pow(10,c)},price:{min:Math.pow(10,-c),max:Math.pow(10,c)},cost:{min:void 0,max:void 0},withdraw:{min:a.withdrawMinAmout,max:void 0},deposit:{min:a.depositMinAmount,max:void 0}},info:a};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getVersionString",value:function(){return""}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],o=this.omit(n,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce();s=this.urlencode(this.extend({nonce:c,method:e},o));var u=this.signBodyWithSecret(s);i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:u}}else"public"===t?(a+=this.getVersionString()+"/"+this.implodeParams(e,n),Object.keys(o).length&&(a+="?"+this.urlencode(o))):(a+="/"+this.implodeParams(e,n),"GET"===r?Object.keys(o).length&&(a+="?"+this.urlencode(o)):Object.keys(o).length&&(s=this.urlencode(o),i={"Content-Type":"application/x-www-form-urlencoded"}));return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.ArgumentsRequired,v=l.ExchangeNotAvailable,m=l.AuthenticationError,y=l.InvalidOrder,g=l.InvalidAddress,b=l.InsufficientFunds,k=l.OrderNotFound,w=l.PermissionDenied;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"uex",name:"UEX",countries:["SG","US"],version:"v1.0.3",rateLimit:1e3,certified:!1,has:{CORS:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","3h":"180","4h":"240","6h":"360","12h":"720","1d":"1440"},urls:{logo:"https://user-images.githubusercontent.com/1294454/43999923-051d9884-9e1f-11e8-965a-76948cb17678.jpg",api:"https://open-api.uex.com/open/api",www:"https://www.uex.com",doc:"https://download.uex.com/doc/UEX-API-English-1.0.3.pdf",fees:"https://www.uex.com/footer/ufees.html",referral:"https://www.uex.com/signup.html?code=VAGQLL"},api:{public:{get:["common/coins","common/symbols","get_records","get_ticker","get_trades","market_dept"]},private:{get:["deposit_address_list","withdraw_address_list","deposit_history","withdraw_history","user/account","market","order_info","new_order","all_order","all_trade"],post:["create_order","cancel_order","create_withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},exceptions:{4:b,5:y,6:y,7:y,8:y,9:p,13:p,19:b,22:k,23:y,24:y,100001:p,100002:v,100004:p,100005:m,100007:w,110002:p,110003:m,110004:m,110005:b,110020:m,110023:m,110024:m,110025:w,110032:w,110033:p,110034:p,"-100":p,"-1000":v},requiredCredentials:{apiKey:!0,secret:!0},options:{createMarketBuyOrderRequiresPrice:!0,limits:{"BTC/USDT":{amount:{min:.001},price:{min:.01}},"ETH/USDT":{amount:{min:.001},price:{min:.01}},"BCH/USDT":{amount:{min:.001},price:{min:.01}},"ETH/BTC":{amount:{min:.001},price:{min:1e-6}},"BCH/BTC":{amount:{min:.001},price:{min:1e-6}},"LEEK/ETH":{amount:{min:10},price:{min:10}},"CTXC/ETH":{amount:{min:10},price:{min:10}},"COSM/ETH":{amount:{min:10},price:{min:10}},"MANA/ETH":{amount:{min:10},price:{min:10}},"LBA/BTC":{amount:{min:10},price:{min:10}},"OLT/ETH":{amount:{min:10},price:{min:10}},"DTA/ETH":{amount:{min:10},price:{min:10}},"KNT/ETH":{amount:{min:10},price:{min:10}},"REN/ETH":{amount:{min:10},price:{min:10}},"LBA/ETH":{amount:{min:10},price:{min:10}},"EXC/ETH":{amount:{min:10},price:{min:10}},"ZIL/ETH":{amount:{min:10},price:{min:10}},"RATING/ETH":{amount:{min:100},price:{min:100}},"CENNZ/ETH":{amount:{min:10},price:{min:10}},"TTC/ETH":{amount:{min:10},price:{min:10}}}}})}},{key:"calculateFee",value:function(e,t,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",a=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",c=a[s],u=parseFloat(this.costToPrecision(e,n*c));return"sell"===r?u*=i:o="base",{type:s,currency:a[o],rate:c,cost:parseFloat(this.currencyToPrecision(a[o],u))}}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.publicGetCommonSymbols();case 3:for(t=e.sent,r=[],i=t.data,s=0;s<i.length;s++)a=i[s],o=a.symbol,c=a.base_coin,u=a.count_coin,d=c.toUpperCase(),h=u.toUpperCase(),d=this.commonCurrencyCode(d),h=this.commonCurrencyCode(h),l=d+"/"+h,p={amount:a.amount_precision,price:a.price_precision},!0,f=this.safeValue(this.options.limits,l,{}),v=this.deepExtend({amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},f),r.push({id:o,symbol:l,base:d,quote:h,baseId:c,quoteId:u,active:!0,info:a,precision:p,limits:v});return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetUserAccount(t);case 5:for(r=e.sent,i=r.data.coin_list,s={info:i},a=0;a<i.length;a++)o=i[a],c=o.coin,u=c.toUpperCase(),u=c in this.currencies_by_id?this.currencies_by_id[c].code:this.commonCurrencyCode(u),d=this.account(),h=parseFloat(o.normal),l=parseFloat(o.locked),p=this.sum(h,l),d.free=h,d.used=l,d.total=p,s[u]=d;return e.abrupt("return",this.parseBalance(s));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetMarketDept(this.extend({symbol:this.marketId(t),type:"step0"},r));case 6:return i=e.sent,s=this.safeInteger(i.data.tick,"time"),e.abrupt("return",this.parseOrderBook(i.data.tick,s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"time"),n=void 0;if(void 0===t){var i=this.safeString(e,"symbol");(i=i.toLowerCase())in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(n=t.symbol);var s=this.safeFloat(e,"last"),a=100*this.safeFloat(e,"change");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:a,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetGetTicker(this.extend({symbol:i.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseTicker(s.data,i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger2(e,"create_time","ctime");if(void 0===r){var n=this.safeString(e,"created_at");void 0!==n&&(r=this.parse8601("2018-"+n+":00Z"))}var i=this.safeString2(e,"side","type");void 0!==i&&(i=i.toLowerCase());var s=this.safeString(e,"id"),a=void 0;void 0!==t&&(a=t.symbol);var o=this.safeFloat(e,"price"),c=this.safeFloat2(e,"volume","amount"),u=this.safeFloat(e,"deal_price");void 0===u&&void 0!==c&&void 0!==o&&(u=c*o);var d=void 0,h=this.safeFloat2(e,"fee","deal_fee");if(void 0!==h){var l=this.safeString(e,"feeCoin");if(void 0!==l){var p=l.toLowerCase();p in this.currencies_by_id&&(l=this.currencies_by_id[p].code)}d={cost:h,currency:l}}var f="sell"===i?"ask_id":"bid_id",v=this.safeString(e,f);return{id:s,info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,order:v,type:void 0,side:i,price:o,amount:c,cost:u,fee:d}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetGetTrades(this.extend({symbol:a.id},s));case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o.data,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"1m",i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c={symbol:o.id,period:this.timeframes[r]},e.next=10,this.publicGetGetRecords(this.extend(c,a));case 10:return u=e.sent,e.abrupt("return",this.parseOHLCVs(u.data,o,r,i,s));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>4&&void 0!==m[4]?m[4]:void 0,o=m.length>5&&void 0!==m[5]?m[5]:{},"market"!==r){e.next=10;break}if("buy"!==i){e.next=10;break}if(!this.options.createMarketBuyOrderRequiresPrice){e.next=10;break}if(void 0!==a){e.next=9;break}throw new y(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");case 9:s*=a;case 10:return e.next=12,this.loadMarkets();case 12:return c=this.market(t),u="limit"===r?"1":"2",d=i.toUpperCase(),h=this.amountToPrecision(t,s),l={side:d,type:u,symbol:c.id,volume:h},p=void 0,"limit"===r&&(p=this.priceToPrecision(t,a),l.price=p),e.next=21,this.privatePostCreateOrder(this.extend(l,o));case 21:return f=e.sent,v=this.parseOrder(f.data,c),e.abrupt("return",this.extend(v,{info:f,symbol:t,type:r,side:i,status:"open",price:parseFloat(p),amount:parseFloat(h)}));case 24:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),a={order_id:t,symbol:s.id},e.next=8,this.privatePostCancelOrder(this.extend(a,i));case 8:return o=e.sent,c=this.safeValue(o,"data",{}),e.abrupt("return",this.extend(this.parseOrder(c),{id:t,symbol:r,status:"canceled"}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"open",2:"closed",3:"open",4:"canceled",5:"canceled",6:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"side");void 0!==r&&(r=r.toLowerCase());var n=this.parseOrderStatus(this.safeString(e,"status")),i=void 0;if(void 0===t){var s=this.safeString(e,"baseCoin"),a=this.safeString(e,"countCoin"),o=s+a;if(o in this.markets_by_id)t=this.markets_by_id[o];else if(void 0!==s&&void 0!==a){var c=s.toUpperCase(),u=a.toUpperCase();i=(c=this.commonCurrencyCode(c))+"/"+(u=this.commonCurrencyCode(u))}}void 0!==t&&(i=t.symbol);var d=this.safeInteger(e,"created_at");if(void 0===d){var h=this.safeString(e,"created_at");void 0!==h&&(d=this.parse8601("2018-"+h+":00Z"))}var l=void 0,p=void 0,f=this.safeFloat(e,"avg_price"),v=this.safeFloat(e,"price");0===v&&(v=f);for(var m=this.safeFloat(e,"volume"),y=this.safeFloat(e,"deal_volume"),g=this.safeFloat(e,"remain_volume"),b=this.safeFloat(e,"total_price"),k=this.safeString2(e,"id","order_id"),w=void 0,x=this.safeValue(e,"tradeList",[]),T={},_=void 0,C=0;C<x.length;C++){var O=this.parseTrade(x[C],t);void 0===_&&(_=0),_+=O.fee.cost,T[O.fee.currency]=O.fee.cost,void 0===w&&(w=[]),l=O.timestamp,w.push(this.extend(O,{order:k}))}if(void 0!==_){var S=void 0,E=Object.keys(T);1===E.length&&(S=E[0]),p={cost:_,currency:S}}return{info:e,id:k,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:l,symbol:i,type:"limit",side:r,price:v,cost:b,average:f,amount:m,filled:y,remaining:g,status:n,fee:p,trades:w}}},{key:"fetchOrdersWithMethod",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]?h[2]:void 0,s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},void 0!==r){e.next=6;break}throw new f(this.id+" fetchOrdersWithMethod() requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return o=this.market(r),c={symbol:o.id},void 0!==s&&(c.pageSize=s),e.next=13,this[t](this.extend(c,a));case 13:return u=e.sent,d=this.safeValue2(u.data,"orderList","resultList",[]),e.abrupt("return",this.parseOrders(d,o,i,s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrdersWithMethod("privateGetNewOrder",t,r,i,s));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.fetchOrdersWithMethod("privateGetAllOrder",t,r,i,s));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s=this.market(r),a={order_id:t,symbol:s.id},e.next=8,this.privateGetOrderInfo(this.extend(a,i));case 8:return o=e.sent,e.abrupt("return",this.parseOrder(o.data.order_info,s));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:void 0,r=d.length>1&&void 0!==d[1]?d[1]:void 0,i=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:{},void 0!==t){e.next=6;break}throw new f(this.id+" fetchMyTrades requires a symbol argument");case 6:return e.next=8,this.loadMarkets();case 8:return a=this.market(t),o={symbol:a.id},void 0!==i&&(o.pageSize=i),e.next=13,this.privateGetAllTrade(this.extend(o,s));case 13:return c=e.sent,u=this.safeValue(c.data,"resultList",[]),e.abrupt("return",this.parseTrades(u,a,r,i));case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),s={coin:i.id},e.next=7,this.privateGetDepositAddressList(this.extend(s,r));case 7:if(a=e.sent,void 0!==(o=this.safeValue(a,"data"))){e.next=11;break}throw new g(this.id+" privateGetDepositAddressList() returned no data");case 11:if(void 0!==(c=this.safeValue(o,"addressList"))){e.next=14;break}throw new g(this.id+" privateGetDepositAddressList() returned no address list");case 14:if(!(c.length<1)){e.next=17;break}throw new g(this.id+" privatePostDepositAddresses() returned no addresses");case 17:return u=c[0],d=this.safeString(u,"address"),h=this.safeString(u,"tag"),this.checkAddress(d),e.abrupt("return",{currency:t,address:d,tag:h,info:a});case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTransactionsByType",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:void 0,i=p.length>2&&void 0!==p[2]?p[2]:void 0,s=p.length>3&&void 0!==p[3]?p[3]:void 0,a=p.length>4&&void 0!==p[4]?p[4]:{},void 0!==r){e.next=6;break}throw new f(this.id+" fetchWithdrawals requires a currency code argument");case 6:return o=this.currency(r),c={coin:o.id},void 0!==s&&(c.pageSize=s),u="deposit"===t?"deposit":"withdraw",d="privateGet"+this.capitalize(u)+"History",e.next=13,this[d](this.extend(c,a));case 13:return h=e.sent,l=this.safeValue(h.data,u+"List"),e.abrupt("return",this.parseTransactionsByType(t,l,r,i,s));case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsByType("deposit",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchTransactionsByType("withdrawal",t,r,i,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionsByType",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=[],a=0;a<t.length;a++){var o=this.parseTransaction(this.extend({type:e},t[a]));s.push(o)}return this.filterByCurrencySinceLimit(s,r,n,i)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"id"),n=this.safeString(e,"txid"),i=this.safeInteger(e,"createdAt"),s=this.safeInteger(e,"updateAt"),a=void 0,o=this.safeString2(e,"symbol","coin");a=void 0!==(t=this.safeValue(this.currencies_by_id,o))?t.code:this.commonCurrencyCode(o);var c=this.safeString(e,"addressTo"),u=this.safeString(e,"tag"),d=this.safeFloat(e,"amount"),h=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeString(e,"type"),p=this.safeFloat(e,"fee");return"deposit"===l&&void 0===p&&(p=0),{info:e,id:r,currency:a,amount:d,address:c,tag:u,status:h,type:l,updated:s,txid:n,timestamp:i,datetime:this.iso8601(i),fee:{currency:a,cost:p}}}},{key:"parseTransactionStatus",value:function(e){return this.safeString({0:"pending",1:"ok",2:"failed",3:"pending",4:"failed",5:"ok",6:"canceled"},e,e)}},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},e.next=4,this.loadMarkets();case 4:if(void 0!==(o=this.safeFloat(a,"fee"))){e.next=7;break}throw new f(this.id+'requires a "fee" extra parameter in its last argument');case 7:return this.checkAddress(i),c=this.currency(t),u={coin:c.id,address:i,amount:r,fee:o},void 0!==s&&(u.tag=s),e.next=13,this.privatePostCreateWithdraw(this.extend(u,a));case 13:return d=e.sent,void 0,e.abrupt("return",{info:d,id:void 0});case 16:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.implodeParams(e,n);if("public"===t)Object.keys(n).length&&(a+="?"+this.urlencode(n));else{this.checkRequiredCredentials();for(var o=this.seconds().toString(),c="",u=this.keysort(this.extend(n,{api_key:this.apiKey,time:o})),d=Object.keys(u),h=0;h<d.length;h++){var l=d[h];c+=l,c+=u[l].toString()}var p=this.hash(this.encode(c+this.secret));Object.keys(u).length&&("GET"===r?a+="?"+this.urlencode(u)+"&sign="+p:s=this.urlencode(u)+"&sign="+p),i={"Content-Type":"application/x-www-form-urlencoded"}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("string"===typeof s&&!(s.length<2)&&("{"===s[0]||"["===s[0])){var o=this.safeString(a,"code"),c=this.id+" "+this.json(a),u=this.exceptions;if("0"!==o)throw o in u?new u[o](c):new p(c)}}}]),t}()},function(e,t,r){"use strict";var n=r(13),i=r(8),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.BadRequest,m=p.AuthenticationError,y=p.InvalidOrder,g=p.InsufficientFunds,b=p.OrderNotFound,k=p.PermissionDenied;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"upbit",name:"Upbit",countries:["KR"],version:"v1",rateLimit:1e3,certified:!0,has:{CORS:!0,fetchOrderBooks:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchOrders:!1,fetchTickers:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1},timeframes:{"1m":"minutes","3m":"minutes","5m":"minutes","15m":"minutes","30m":"minutes","1h":"minutes","4h":"minutes","1d":"days","1w":"weeks","1M":"months"},urls:{logo:"https://user-images.githubusercontent.com/1294454/49245610-eeaabe00-f423-11e8-9cba-4b0aed794799.jpg",api:"https://api.upbit.com",www:"https://upbit.com",doc:"https://docs.upbit.com/docs/%EC%9A%94%EC%B2%AD-%EC%88%98-%EC%A0%9C%ED%95%9C",fees:"https://upbit.com/service_center/guide"},api:{public:{get:["market/all","candles/{timeframe}","candles/{timeframe}/{unit}","candles/minutes/{unit}","candles/minutes/1","candles/minutes/3","candles/minutes/5","candles/minutes/15","candles/minutes/30","candles/minutes/60","candles/minutes/240","candles/days","candles/weeks","candles/months","trades/ticks","ticker","orderbook"]},private:{get:["accounts","orders/chance","order","orders","withdraws","withdraw","withdraws/chance","deposits","deposit","deposits/coin_addresses","deposits/coin_address"],post:["orders","withdraws/coin","withdraws/krw","deposits/generate_coin_address"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"Missing request parameter error. Check the required parameters!":v,"side is missing, side does not have a valid value":y},broad:{thirdparty_agreement_required:k,out_of_scope:k,order_not_found:b,insufficient_funds_ask:g,insufficient_funds_bid:g,invalid_access_key:m,jwt_verification:m}},options:{fetchTickersMaxLength:4096,fetchOrderBooksMaxLength:4096,symbolSeparator:"-",tradingFeesByQuoteCurrency:{KRW:5e-4}}})}},{key:"fetchCurrency",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.fetchCurrencyById(n.id,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchCurrencyById",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.length>1&&void 0!==k[1]?k[1]:{},n={currency:t},e.next=4,this.privateGetWithdrawsChance(this.extend(n,r));case 4:return s=e.sent,a=this.safeValue(s,"member_level",{}),o=this.safeValue(s,"currency",{}),c=this.safeValue(s,"withdraw_limit",{}),u=this.safeValue(c,"can_withdraw"),d=this.safeString(o,"wallet_state"),h=this.safeValue(a,"wallet_locked"),l=this.safeValue(a,"locked"),p=!0,void 0!==u&&u?p=!1:"working"!==d?p=!1:void 0!==h&&h?p=!1:void 0!==l&&l&&(p=!1),f=this.safeFloat(c,"onetime"),v=this.safeFloat(c,"daily",f),m=this.safeFloat(c,"remaining_daily",v),y=void 0,y=m>0?m:v,void 0,g=this.safeString(o,"code"),b=this.commonCurrencyCode(g),e.abrupt("return",{info:s,id:g,code:b,name:b,active:p,fee:this.safeFloat(o,"withdraw_fee"),precision:void 0,limits:{withdraw:{min:this.safeFloat(c,"minimum"),max:y}}});case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMarket",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.market(t),e.next=6,this.fetchMarketById(n.id,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMarketById",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b,k,w=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.length>1&&void 0!==w[1]?w[1]:{},n={market:t},e.next=4,this.privateGetOrdersChance(this.extend(n,r));case 4:return s=e.sent,a=this.safeValue(s,"market"),o=this.safeValue(a,"bid"),c=this.safeValue(a,"ask"),u=this.safeString(a,"id"),d=this.safeString(c,"currency"),h=this.safeString(o,"currency"),l=this.commonCurrencyCode(d),p=this.commonCurrencyCode(h),f=l+"/"+p,v={amount:8,price:8},m=this.safeString(a,"state"),y="active"===m,g=this.safeFloat(s,"bid_fee"),b=this.safeFloat(s,"ask_fee"),k=Math.max(g,b),e.abrupt("return",{info:s,id:u,symbol:f,base:l,quote:p,baseId:d,quoteId:h,active:y,precision:v,maker:k,taker:k,limits:{amount:{min:this.safeFloat(c,"min_total"),max:void 0},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:this.safeFloat(o,"min_total"),max:this.safeFloat(a,"max_total")}}});case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMarkets",value:function(){var e=s(i.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f,v,m,y,g,b=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.length>0&&void 0!==b[0]?b[0]:{},e.next=3,this.publicGetMarketAll(t);case 3:for(r=e.sent,s=[],a=0;a<r.length;a++)o=r[a],c=this.safeString(o,"market"),u=c.split("-"),d=n(u,2),h=d[0],l=d[1],p=this.commonCurrencyCode(l),f=this.commonCurrencyCode(h),v=p+"/"+f,m={amount:8,price:8},!0,y=this.safeFloat(this.options.tradingFeesByQuoteCurrency,f,this.fees.trading.maker),g=this.safeFloat(this.options.tradingFeesByQuoteCurrency,f,this.fees.trading.taker),s.push({id:c,symbol:v,base:p,quote:f,baseId:l,quoteId:h,active:!0,info:o,precision:m,maker:y,taker:g,limits:{amount:{min:Math.pow(10,-m.amount),max:void 0},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p,f,v=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAccounts(t);case 5:for(r=e.sent,n={info:r},s=this.indexBy(r,"currency"),a=Object.keys(s),o=0;o<a.length;o++)c=a[o],u=this.commonCurrencyCode(c),d=this.account(),h=s[c],l=this.safeFloat(h,"balance"),p=this.safeFloat(h,"locked"),f=this.sum(l,p),d.free=l,d.used=p,d.total=f,n[u]=d;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getSymbolFromMarketId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==e){if(void 0!==(t=this.safeValue(this.markets_by_id,e,t)))return t.symbol;var r=e.split(this.options.symbolSeparator),i=n(r,2),s=i[0],a=i[1];return this.commonCurrencyCode(s)+"/"+this.commonCurrencyCode(a)}}},{key:"fetchOrderBooks",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l,p=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:void 0,r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:if(n=void 0,void 0!==t){e.next=12;break}if(!((n=this.ids.join(",")).length>this.options.fetchOrderBooksMaxLength)){e.next=10;break}throw s=this.ids.length,new f(this.id+" has "+s.toString()+" symbols ("+n.length.toString()+" characters) exceeding max URL length ("+this.options.fetchOrderBooksMaxLength.toString()+" characters), you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 10:e.next=14;break;case 12:n=(n=this.marketIds(t)).join(",");case 14:return a={markets:n},e.next=17,this.publicGetOrderbook(this.extend(a,r));case 17:for(o=e.sent,c={},u=0;u<o.length;u++)d=o[u],h=this.getSymbolFromMarketId(this.safeString(d,"market")),l=this.safeInteger(d,"timestamp"),c[h]={bids:this.parseBidsAsks(d.orderbook_units,"bid_price","bid_size"),asks:this.parseBidsAsks(d.orderbook_units,"ask_price","ask_size"),timestamp:l,datetime:this.iso8601(l),nonce:void 0};return e.abrupt("return",c);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.fetchOrderBooks([t],r);case 4:return n=e.sent,e.abrupt("return",this.safeValue(n,t));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"trade_timestamp"),n=this.getSymbolFromMarketId(this.safeString(e,"market"),t),i=this.safeFloat(e,"prev_closing_price"),s=this.safeFloat(e,"trade_price"),a=this.safeFloat(e,"signed_change_price"),o=this.safeFloat(e,"signed_change_rate");return{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_price"),low:this.safeFloat(e,"low_price"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"opening_price"),close:s,last:s,previousClose:i,change:a,percentage:o,average:void 0,baseVolume:this.safeFloat(e,"acc_trade_volume_24h"),quoteVolume:this.safeFloat(e,"acc_trade_price_24h"),info:e}}},{key:"fetchTickers",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:void 0,r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=4,this.loadMarkets();case 4:if(n=void 0,void 0!==t){e.next=12;break}if(!((n=this.ids.join(",")).length>this.options.fetchTickersMaxLength)){e.next=10;break}throw s=this.ids.length,new f(this.id+" has "+s.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers");case 10:e.next=14;break;case 12:n=(n=this.marketIds(t)).join(",");case 14:return a={markets:n},e.next=17,this.publicGetTicker(this.extend(a,r));case 17:for(o=e.sent,c={},u=0;u<o.length;u++)d=this.parseTicker(o[u]),h=d.symbol,c[h]=d;return e.abrupt("return",c);case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(i.mark(function e(t){var r,n,s=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,this.fetchTickers([t],r);case 3:return n=e.sent,e.abrupt("return",this.safeValue(n,t));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString2(e,"sequential_id","uuid"),i=this.safeInteger(e,"timestamp");void 0===i&&(i=this.parse8601(this.safeString(e,"created_at")));var s=void 0,a=this.safeString2(e,"ask_bid","side");void 0!==a&&(a=a.toLowerCase()),"ask"===a?s="sell":"bid"===a&&(s="buy");var o=this.safeFloat(e,"funds"),c=this.safeFloat2(e,"trade_price","price"),u=this.safeFloat2(e,"trade_volume","volume");void 0===o&&void 0!==u&&void 0!==c&&(o=c*u);var d=this.safeString(e,"market"),h=void 0,l=void 0,p=void 0;if(void 0!==(t=this.safeValue(this.markets_by_id,d)))p=t.symbol,l=t.quote;else{var f=d.split("-"),v=n(f,2),m=v[0],y=v[1],g=this.commonCurrencyCode(m),b=this.commonCurrencyCode(y);p=g+"/"+b,l=b}var k=this.safeString(e,a+"_fee");return void 0!==k&&(h={currency:l,cost:k}),{id:r,info:e,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:p,type:"limit",side:s,price:c,amount:u,cost:o,fee:h}}},{key:"fetchTrades",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),void 0===n&&(n=200),o={market:a.id,count:n},e.next=10,this.publicGetTradesTicks(this.extend(o,s));case 10:return c=e.sent,e.abrupt("return",this.parseTrades(c,a,r,n));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(this.safeString(e,"candle_date_time_utc")),this.safeFloat(e,"opening_price"),this.safeFloat(e,"high_price"),this.safeFloat(e,"low_price"),this.safeFloat(e,"trade_price"),this.safeFloat(e,"candle_acc_trade_volume")]}},{key:"fetchOHLCV",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d,h,l,p,f=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:"1m",n=f.length>2&&void 0!==f[2]?f[2]:void 0,s=f.length>3&&void 0!==f[3]?f[3]:void 0,a=f.length>4&&void 0!==f[4]?f[4]:{},e.next=6,this.loadMarkets();case 6:return o=this.market(t),c=this.parseTimeframe(r),u=this.timeframes[r],void 0===s&&(s=200),d={market:o.id,timeframe:u,count:s},h="publicGetCandlesTimeframe","minutes"===u&&(l=Math.round(c/60),d.unit=l,h+="Unit"),e.next=15,this[h](this.extend(d,a));case 15:return p=e.sent,e.abrupt("return",this.parseOHLCVs(p,o,r,n,s));case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(i.mark(function e(t,r,n,s){var a,o,c,u,d,h,l=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>4&&void 0!==l[4]?l[4]:void 0,o=l.length>5&&void 0!==l[5]?l[5]:{},"limit"===r){e.next=4;break}throw new y(this.id+" createOrder allows limit orders only!");case 4:if(c=void 0,"buy"!==n){e.next=9;break}c="bid",e.next=14;break;case 9:if("sell"!==n){e.next=13;break}c="ask",e.next=14;break;case 13:throw new y(this.id+" createOrder allows buy or sell side only!");case 14:return e.next=16,this.loadMarkets();case 16:return u=this.market(t),d={market:u.id,side:c,volume:this.amountToPrecision(t,s),price:this.priceToPrecision(t,a),ord_type:r},e.next=20,this.privatePostOrders(this.extend(d,o));case 20:return h=e.sent,e.abrupt("return",this.parseOrder(h));case 22:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n={uuid:t},e.next=7,this.privateDeleteOrder(this.extend(n,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDeposits",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.currency(t),a.currency=o.id),void 0!==n&&(a.limit=n),e.next=12,this.privateGetDeposits(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c,o,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchWithdrawals",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c,u=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,n=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a={},o=void 0,void 0!==t&&(o=this.currency(t),a.currency=o.id),void 0!==n&&(a.limit=n),e.next=12,this.privateGetWithdraws(this.extend(a,s));case 12:return c=e.sent,e.abrupt("return",this.parseTransactions(c,o,r,n));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseTransactionStatus",value:function(e){return this.safeString({ACCEPTED:"ok",submitting:"pending",submitted:"pending",almost_accepted:"pending",rejected:"failed",accepted:"pending",processing:"pending",done:"ok",canceled:"canceled"},e,e)}},{key:"parseTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"uuid"),n=this.safeFloat(e,"amount"),i=this.safeString(e,"txid"),s=this.parse8601(this.safeString(e,"done_at")),a=this.parse8601(this.safeString(e,"created_at",s)),o=this.safeString(e,"type");"withdraw"===o&&(o="withdrawal");var c=void 0,u=this.safeString(e,"currency");c=void 0!==(t=this.safeValue(this.currencies_by_id,u))?t.code:this.commonCurrencyCode(u);var d=this.parseTransactionStatus(this.safeString(e,"state")),h=this.safeFloat(e,"fee");return{info:e,id:r,currency:c,amount:n,address:void 0,tag:void 0,status:d,type:o,updated:s,txid:i,timestamp:a,datetime:this.iso8601(a),fee:{currency:c,cost:h}}}},{key:"parseOrderStatus",value:function(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.safeString(e,"uuid"),i=this.safeString(e,"side");i="bid"===i?"buy":"sell";var s=this.safeString(e,"ord_type"),a=this.parse8601(this.safeString(e,"created_at")),o=this.parseOrderStatus(this.safeString(e,"state")),c=void 0,u=this.safeFloat(e,"price"),d=this.safeFloat(e,"volume"),h=this.safeFloat(e,"remaining_volume"),l=this.safeFloat(e,"executed_volume"),p=void 0,f=u;void 0===p&&void 0!==u&&void 0!==l&&(p=u*l);var v=this.safeValue(e,"trades"),m=void 0;void 0!==v&&(m=this.parseTrades(v));var y=void 0,g=this.safeFloat(e,"paid_fee"),b=void 0,k=this.safeString(e,"market"),w=void 0;if(void 0!==(t=this.safeValue(this.markets_by_id,k)))w=t.symbol,b=t.quote;else{var x=k.split("-"),T=n(x,2),_=T[0],C=T[1],O=this.commonCurrencyCode(_),S=this.commonCurrencyCode(C);w=O+"/"+S,b=S}if(void 0!==m){var E=m.length;if(E>0&&(void 0===c&&(c=m[E-1].timestamp),void 0===g))for(var B=0;B<E;B++){var I=this.safeValue(m[B],"fee",{}),A=this.safeFloat(I,"cost");void 0!==A&&(void 0===g&&(g=0),g=this.sum(g,A))}}return void 0!==g&&(y={currency:b,cost:g}),{info:e,id:r,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:c,symbol:w,type:s,side:i,price:u,cost:p,average:f,amount:d,filled:l,remaining:h,status:o,fee:y,trades:m}}},{key:"fetchOrdersByState",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o,c,u,d=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:void 0,n=d.length>2&&void 0!==d[2]?d[2]:void 0,s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},e.next=6,this.loadMarkets();case 6:return o={state:t},c=void 0,void 0!==r&&(c=this.market(r),o.market=c.id),e.next=11,this.privateGetOrders(this.extend(o,a));case 11:return u=e.sent,e.abrupt("return",this.parseOrders(u,c,n,s));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOpenOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByState("wait",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByState("done",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCanceledOrders",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:void 0,r=a.length>1&&void 0!==a[1]?a[1]:void 0,n=a.length>2&&void 0!==a[2]?a[2]:void 0,s=a.length>3&&void 0!==a[3]?a[3]:{},e.next=6,this.fetchOrdersByState("cancel",t,r,n,s);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrder",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return n={uuid:t},e.next=7,this.privateGetOrder(this.extend(n,r));case 7:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddresses",value:function(){var e=s(i.mark(function e(){var t,r,n,s,a,o,c=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>0&&void 0!==c[0]?c[0]:void 0,t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privateGetDepositsCoinAddresses(t);case 6:for(r=e.sent,n={},s=0;s<r.length;s++)a=this.parseDepositAddress(r[s]),o=a.currency,n[o]=a;return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"parseDepositAddress",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.safeString(e,"deposit_address"),r=this.safeString(e,"secondary_address"),n=this.commonCurrencyCode(this.safeString(e,"currency"));return this.checkAddress(t),{currency:n,address:t,tag:r,info:e}}},{key:"fetchDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privateGetDepositsCoinAddress(this.extend({currency:n.id},r));case 6:return s=e.sent,e.abrupt("return",this.parseDepositAddress(s));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=s(i.mark(function e(t){var r,n,s,a,o=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return n=this.currency(t),s={currency:n.id},e.next=7,this.fetchDepositAddress(t,this.extend(s,r));case 7:if(a=e.sent,void 0===this.safeString(a,"message")){e.next=11;break}return e.abrupt("return",{currency:t,address:void 0,tag:void 0,info:a});case 11:return e.abrupt("return",this.parseDepositAddress(a));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(i.mark(function e(t,r,n){var s,a,o,c,u,d,h=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.length>3&&void 0!==h[3]?h[3]:void 0,a=h.length>4&&void 0!==h[4]?h[4]:{},this.checkAddress(n),e.next=5,this.loadMarkets();case 5:return o=this.currency(t),c={amount:r},u="privatePostWithdraws","KRW"!==t?(u+="Coin",c.currency=o.id,c.address=n,void 0!==s&&(c.secondary_address=s)):u+="Krw",e.next=11,this[u](this.extend(c,a));case 11:return d=e.sent,e.abrupt("return",this.parseTransaction(d));case 13:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,n),o=this.omit(n,this.extractParams(e));if("GET"===r&&Object.keys(o).length&&(a+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();var c=this.nonce(),u={access_key:this.apiKey,nonce:c};Object.keys(o).length&&(u.query=this.urlencode(o)),i={Authorization:"Bearer "+this.jwt(u,this.secret)},"GET"!==r&&(s=this.json(n),i["Content-Type"]="application/json")}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(void 0!==a){var o=this.safeValue(a,"error");if(void 0!==o){var c=this.safeString(o,"message"),u=this.safeString(o,"name"),d=this.id+" "+this.json(a),h=this.exceptions.exact;if(c in h)throw new h[c](d);if(u in h)throw new h[u](d);var l=this.exceptions.broad,p=this.findBroadlyMatchedKey(l,c);if(void 0!==p)throw new l[p](d);if(void 0!==(p=this.findBroadlyMatchedKey(l,u)))throw new l[p](d);throw new f(d)}}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(39);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"urdubit",name:"UrduBit",countries:["PK"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991453-156bf3ae-6480-11e7-82eb-7295fe1b5bb4.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://urdubit.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"8"}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11);e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"vaultoro",name:"Vaultoro",countries:["CH"],rateLimit:1e3,version:"1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766880-f205e870-5ee9-11e7-8fe2-0d5b15880752.jpg",api:"https://api.vaultoro.com",www:"https://www.vaultoro.com",doc:"https://api.vaultoro.com"},commonCurrencies:{GLD:"Gold"},api:{public:{get:["bidandask","buyorders","latest","latesttrades","markets","orderbook","sellorders","transactions/day","transactions/hour","transactions/month"]},private:{get:["balance","mytrades","orders"],post:["buy/{symbol}/{type}","cancel/{id}","sell/{symbol}/{type}","withdraw"]}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},t=[],e.next=4,this.publicGetMarkets();case 4:return r=e.sent,i=r.data,s=i.MarketCurrency,a=i.BaseCurrency,o=this.commonCurrencyCode(s),c=this.commonCurrencyCode(a),u=o+"/"+c,d=i.MarketName,t.push({id:d,symbol:u,base:o,quote:c,baseId:s,quoteId:a,info:i}),e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetBalance();case 5:for(t=e.sent,r=t.data,i={info:r},s=0;s<r.length;s++)a=r[s],o=a.currency_code.toUpperCase(),c=o,o in this.currencies_by_id[o]&&(c=this.currencies_by_id[o].code),u=a.cash,d=a.reserved,h=this.sum(u,d),l={free:u,used:d,total:h},i[c]=l;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:void 0,r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetOrderbook(r);case 6:return i=e.sent,s={bids:i.data[0].b,asks:i.data[1].s},e.abrupt("return",this.parseOrderBook(s,void 0,"bids","asks","Gold_Price","Gold_Amount"));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetBidandask(r);case 5:return i=e.sent,s=i.bids.length,a=i.bids[s-1],o=i.asks[0],e.next=11,this.publicGetMarkets(r);case 11:return c=e.sent,u=c.data,d=this.milliseconds(),h=this.safeFloat(u,"LastPrice"),e.abrupt("return",{symbol:t,timestamp:d,datetime:this.iso8601(d),high:this.safeFloat(u,"24hHigh"),low:this.safeFloat(u,"24hLow"),bid:a[0],bidVolume:void 0,ask:o[0],askVolume:void 0,vwap:void 0,open:void 0,close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(u,"24hVolume"),info:u});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.Time);return{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:void 0,type:void 0,side:void 0,price:e.Gold_Price,amount:e.Gold_Amount}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:void 0,s=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTransactionsDay(s);case 8:return o=e.sent,e.abrupt("return",this.parseTrades(o,a,r,i));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u="privatePost"+this.capitalize(i)+"SymbolType",e.next=8,this[u](this.extend({symbol:c.quoteId.toLowerCase(),type:r,gld:s,price:a||1},o));case 8:return d=e.sent,e.abrupt("return",{info:d,id:d.data.Order_ID});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelId(this.extend({id:t},r));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";if("public"===t)a+=e;else{this.checkRequiredCredentials();var o=this.nonce();a+=this.version+"/"+this.implodeParams(e,n);var c=this.extend({nonce:o,apikey:this.apiKey},this.omit(n,this.extractParams(e)));a+="?"+this.urlencode(c),i={"Content-Type":"application/json","X-Signature":this.hmac(this.encode(a),this.encode(this.secret))}}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(39);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"vbtc",name:"VBTC",countries:["VN"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991481-1f53d1d8-6481-11e7-884e-21d17e7939db.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://vbtc.exchange",doc:"https://blinktrade.com/docs"},options:{brokerId:"3"}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10).ExchangeError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"virwox",name:"VirWoX",countries:["AT","EU"],rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766894-6da9d360-5eea-11e7-90aa-41f2711b7405.jpg",api:{public:"https://api.virwox.com/api/json.php",private:"https://www.virwox.com/api/trading.php"},www:"https://www.virwox.com",doc:"https://www.virwox.com/developers.php"},requiredCredentials:{apiKey:!0,secret:!1,login:!0,password:!0},api:{public:{get:["getInstruments","getBestPrices","getMarketDepth","estimateMarketOrder","getTradedPriceVolume","getRawTradeData","getStatistics","getTerminalList","getGridList","getGridStatistics"],post:["getInstruments","getBestPrices","getMarketDepth","estimateMarketOrder","getTradedPriceVolume","getRawTradeData","getStatistics","getTerminalList","getGridList","getGridStatistics"]},private:{get:["cancelOrder","getBalances","getCommissionDiscount","getOrders","getTransactions","placeOrder"],post:["cancelOrder","getBalances","getCommissionDiscount","getOrders","getTransactions","placeOrder"]}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.publicGetGetInstruments();case 3:for(t=e.sent,r=Object.keys(t.result),i=[],s=0;s<r.length;s++)a=t.result[r[s]],o=a.instrumentID,c=a.symbol,u=a.longCurrency,d=a.shortCurrency,i.push({id:o,symbol:c,base:u,quote:d,info:a});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetBalances();case 5:for(t=e.sent,r=t.result.accountList,i={info:r},s=0;s<r.length;s++)a=r[s],o=a.currency,c=a.balance,u={free:c,used:0,total:c},i[o]=u;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMarketPrice",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicPostGetBestPrices(this.extend({symbols:[t]},r));case 5:return i=e.sent,s=i.result,e.abrupt("return",{bid:this.safeFloat(s[0],"bestBuyPrice"),ask:this.safeFloat(s[0],"bestSellPrice")});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:void 0,i=c.length>2&&void 0!==c[2]?c[2]:{},e.next=4,this.loadMarkets();case 4:return s={symbols:[t]},void 0!==r&&(s.buyDepth=r,s.sellDepth=r),e.next=8,this.publicPostGetMarketDepth(this.extend(s,i));case 8:return a=e.sent,o=a.result[0],e.abrupt("return",this.parseOrderBook(o,void 0,"buy","sell","price","volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.milliseconds(),s=i-864e5,e.next=7,this.publicGetGetTradedPriceVolume(this.extend({instrument:t,endDate:this.ymdhms(i),startDate:this.ymdhms(s),HLOC:1},r));case 7:return a=e.sent,o=a.result.priceVolumeList,c=Object.keys(o),u=c.length,d=c[u-1],h=o[d],l=this.milliseconds(),p=this.safeFloat(h,"close"),e.abrupt("return",{symbol:t,timestamp:l,datetime:this.iso8601(l),high:this.safeFloat(h,"high"),low:this.safeFloat(h,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(h,"open"),close:p,last:p,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(h,"longVolume"),quoteVolume:this.safeFloat(h,"shortVolume"),info:h});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeInteger(e,"time");return{id:e.tid,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:t,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"vol"),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:void 0,c.length>2&&void 0!==c[2]?c[2]:void 0,r=c.length>3&&void 0!==c[3]?c[3]:{},e.next=5,this.loadMarkets();case 5:return i=this.market(t),e.next=8,this.publicGetGetRawTradeData(this.extend({instrument:t,timespan:3600},r));case 8:return s=e.sent,a=this.safeValue(s,"result",{}),o=this.safeValue(a,"data",[]),e.abrupt("return",this.parseTrades(o,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>4&&void 0!==h[4]?h[4]:void 0,o=h.length>5&&void 0!==h[5]?h[5]:{},e.next=4,this.loadMarkets();case 4:return c=this.market(t),u={instrument:c.symbol,orderType:i.toUpperCase(),amount:s},"limit"===r&&(u.price=a),e.next=9,this.privatePostPlaceOrder(this.extend(u,o));case 9:return d=e.sent,e.abrupt("return",{info:d,id:d.result.orderID.toString()});case 11:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostCancelOrder(this.extend({orderID:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api[t],o={};"private"===t&&(this.checkRequiredCredentials(),o.key=this.apiKey,o.user=this.login,o.pass=this.password);var c=this.nonce();return"GET"===r?a+="?"+this.urlencode(this.extend({method:e,id:c},o,n)):(i={"Content-Type":"application/json"},s=this.json({method:e,params:this.extend(o,n),id:c})),{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(200===e){if("{"!==s[0]&&"["!==s[0])throw new l(this.id+" returned a non-JSON reply: "+s);if(!("result"in a))throw new l(this.id+" malformed response: no result in response: "+s);var o=a.result;if("errorCode"in o&&"OK"!==o.errorCode)throw new l(this.id+" error returned: "+s)}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(11),l=r(10),p=l.ExchangeError,f=l.NotSupported,v=l.AuthenticationError;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"xbtce",name:"xBTCe",countries:["RU"],rateLimit:2e3,version:"v1",has:{CORS:!1,fetchTickers:!0,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28059414-e235970c-662c-11e7-8c3a-08e31f78684b.jpg",api:"https://cryptottlivewebapi.xbtce.net:8443/api",www:"https://www.xbtce.com",doc:["https://www.xbtce.com/tradeapi","https://support.xbtce.info/Knowledgebase/Article/View/52/25/xbtce-exchange-api"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency","currency/{filter}","level2","level2/{filter}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/level2","quotehistory/{symbol}/ticks","symbol","symbol/{filter}","tick","tick/{filter}","ticker","ticker/{filter}","tradesession"]},private:{get:["tradeserverinfo","tradesession","currency","currency/{filter}","level2","level2/{filter}","symbol","symbol/{filter}","tick","tick/{filter}","account","asset","asset/{id}","position","position/{id}","trade","trade/{id}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/ask/info","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/{periodicity}/bars/bid/info","quotehistory/{symbol}/level2","quotehistory/{symbol}/level2/info","quotehistory/{symbol}/periodicities","quotehistory/{symbol}/ticks","quotehistory/{symbol}/ticks/info","quotehistory/cache/{symbol}/{periodicity}/bars/ask","quotehistory/cache/{symbol}/{periodicity}/bars/bid","quotehistory/cache/{symbol}/level2","quotehistory/cache/{symbol}/ticks","quotehistory/symbols","quotehistory/version"],post:["trade","tradehistory"],put:["trade"],delete:["trade"]}}})}},{key:"fetchMarkets",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,this.privateGetSymbol();case 3:for(t=e.sent,r=[],i=0;i<t.length;i++)s=t[i],a=s.Symbol,o=s.MarginCurrency,c=s.ProfitCurrency,"DSH"===o&&(o="DASH"),u=o+"/"+c,u=s.IsTradeAllowed?u:a,r.push({id:a,symbol:u,base:o,quote:c,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privateGetAsset();case 5:for(t=e.sent,r={info:t},i=0;i<t.length;i++)s=t[i],a=s.Currency,"DSH"===(o=a.toUpperCase())&&(o="DASH"),c={free:s.FreeAmount,used:s.LockedAmount,total:s.Amount},r[o]=c;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>1&&void 0!==o[1]?o[1]:void 0,r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=4,this.loadMarkets();case 4:return i=this.market(t),e.next=7,this.privateGetLevel2Filter(this.extend({filter:i.id},r));case 7:return s=(s=e.sent)[0],a=s.Timestamp,e.abrupt("return",this.parseOrderBook(s,a,"Bids","Asks","Price","Volume"));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=0,n=void 0;"LastBuyTimestamp"in e&&r<e.LastBuyTimestamp&&(r=e.LastBuyTimestamp,n=e.LastBuyPrice),"LastSellTimestamp"in e&&r<e.LastSellTimestamp&&(r=e.LastSellTimestamp,n=e.LastSellPrice),r||(r=this.milliseconds());var i=void 0;return t&&(i=t.symbol),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:e.DailyBestBuyPrice,low:e.DailyBestSellPrice,bid:e.BestBid,bidVolume:void 0,ask:e.BestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.DailyTradedTotalVolume,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p.length>0&&void 0!==p[0]?p[0]:void 0,t=p.length>1&&void 0!==p[1]?p[1]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetTicker(t);case 6:for(r=e.sent,r=this.indexBy(r,"Symbol"),i=Object.keys(r),s={},a=0;a<i.length;a++)o=i[a],c=void 0,u=void 0,o in this.markets_by_id?(c=this.markets_by_id[o],u=c.symbol):(d=o.slice(0,3),h=o.slice(3,6),"DSH"===d&&(d="DASH"),"DSH"===h&&(h="DASH"),u=d+"/"+h),l=r[o],s[u]=this.parseTicker(l,c);return e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.market(t),e.next=6,this.publicGetTickerFilter(this.extend({filter:i.id},r));case 6:if(s=e.sent,!(s.length<1)){e.next=10;break}throw new p(this.id+" fetchTicker returned empty response, xBTCe public API error");case 10:return s=this.indexBy(s,"Symbol"),a=s[i.id],e.abrupt("return",this.parseTicker(a,i));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTrades",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,i.length>2&&void 0!==i[2]?i[2]:void 0,r=i.length>3&&void 0!==i[3]?i[3]:{},e.next=5,this.loadMarkets();case 5:return e.next=7,this.privateGetTrade(r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.Timestamp,e.Open,e.High,e.Low,e.Close,e.Volume]}},{key:"fetchOHLCV",value:function(){var e=i(n.mark(function e(t){var r=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>1&&void 0!==r[1]?r[1]:"1m",r.length>2&&void 0!==r[2]?r[2]:void 0,r.length>3&&void 0!==r[3]?r[3]:void 0,r.length>4&&void 0!==r[4]?r[4]:{},new f(this.id+" fetchOHLCV is disabled by the exchange");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=i(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new p(this.id+" allows limit orders only");case 6:return e.next=8,this.privatePostTrade(this.extend({pair:this.marketId(t),type:i,amount:s,rate:a},o));case 8:return c=e.sent,e.abrupt("return",{info:c,id:c.Id.toString()});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=i(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privateDeleteTrade(this.extend({Type:"Cancel",Id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!this.apiKey)throw new v(this.id+" requires apiKey for all requests, their public API is always busy");if(!this.uid)throw new v(this.id+" requires uid property for authentication and trading, their public API is always busy");var a=this.urls.api+"/"+this.version;"public"===t&&(a+="/"+t),a+="/"+this.implodeParams(e,n);var o=this.omit(n,this.extractParams(e));if("public"===t)Object.keys(o).length&&(a+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),i={"Accept-Encoding":"gzip, deflate"};var c=this.nonce().toString();"POST"===r&&(Object.keys(o).length?(i["Content-Type"]="application/json",s=this.json(o)):a+="?"+this.urlencode(o));var u=c+this.uid+this.apiKey+r+a;s&&(u+=s);var d=this.hmac(this.encode(u),this.encode(this.secret),"sha256","base64"),h=this.uid+":"+this.apiKey+":"+c+":"+this.binaryToString(d);i.Authorization="HMAC "+h}return{url:a,method:r,body:s,headers:i}}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(9),s=r(2),a=r(3),o=r(4),c=r(1),u=r(6),d=r(5),h=r(51),l=r(10),p=l.ExchangeError,f=l.InsufficientFunds,v=l.InvalidOrder,m=l.DDoSProtection;e.exports=function(e){function t(){return s(this,t),o(this,c(t).apply(this,arguments))}return d(t,h),a(t,[{key:"describe",value:function(){return this.deepExtend(u(c(t.prototype),"describe",this).call(this),{id:"yobit",name:"YoBit",countries:["RU"],rateLimit:3e3,version:"3",has:{createDepositAddress:!0,fetchDepositAddress:!0,fetchDeposits:!1,fetchWithdrawals:!1,fetchTransactions:!1,CORS:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BLN:"Bulleon",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BTS:"Bitshares2",CAT:"BitClave",CMT:"CometCoin",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CS:"CryptoSpots",DCT:"Discount",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ERT:"Eristica Token",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUNK:"FUNKCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",GOT:"Giotto Coin",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",MDT:"Midnight",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PUT",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",XIN:"XINCoin"},options:{fetchOrdersRequiresSymbol:!0,fetchTickersMaxLength:512}})}},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"closed",2:"canceled",3:"open"};return e in t?t[e]:e}},{key:"fetchBalance",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.length>0&&void 0!==m[0]?m[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,i={info:r},s={free:"funds",total:"funds_incl_orders"},a=Object.keys(s),o=0;o<a.length;o++)if(c=a[o],(u=s[c])in r)for(d=Object.keys(r[u]),h=0;h<d.length;h++)l=d[h],p=l.toUpperCase(),f=this.commonCurrencyCode(p),v=void 0,(v=f in i?i[f]:this.account())[c]=r[u][l],void 0!==v.total&&void 0!==v.free&&(v.used=v.total-v.free),i[f]=v;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.fetchDepositAddress(t,this.extend({need_new:1},r));case 3:return i=e.sent,s=this.safeString(i,"address"),this.checkAddress(s),e.abrupt("return",{currency:t,address:s,tag:void 0,info:i.info});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchDepositAddress",value:function(){var e=i(n.mark(function e(t){var r,i,s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,this.loadMarkets();case 3:return i=this.currency(t),s={coinName:i.id,need_new:0},e.next=7,this.privatePostGetDepositAddress(this.extend(s,r));case 7:return a=e.sent,o=this.safeString(a.return,"address"),this.checkAddress(o),e.abrupt("return",{currency:t,address:o,tag:void 0,info:a});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMyTrades",value:function(){var e=i(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h,l,p,f,v,m=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:void 0,r=m.length>1&&void 0!==m[1]?m[1]:void 0,i=m.length>2&&void 0!==m[2]?m[2]:void 0,s=m.length>3&&void 0!==m[3]?m[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.pair=a.id),void 0!==i&&(o.count=parseInt(i)),void 0!==r&&(o.since=parseInt(r/1e3)),c=this.options.fetchMyTradesMethod,e.next=14,this[c](this.extend(o,s));case 14:for(u=e.sent,d=this.safeValue(u,"return",{}),h=Object.keys(d),l=[],p=0;p<h.length;p++)f=h[p],v=this.parseTrade(this.extend(d[f],{trade_id:f}),a),l.push(v);return e.abrupt("return",this.filterBySymbolSinceLimit(l,t,r,i));case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=i(n.mark(function e(t,r,i){var s,a,o,c=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>3&&void 0!==c[3]?c[3]:void 0,s=c.length>4&&void 0!==c[4]?c[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:return a=this.currency(t),e.next=8,this.privatePostWithdrawCoinsToAddress(this.extend({coinName:a.id,amount:r,address:i},s));case 8:return o=e.sent,e.abrupt("return",{info:o,id:void 0});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if("{"===s[0]&&"success"in a&&!a.success){if("error_log"in a){if(a.error_log.indexOf("Insufficient funds")>=0)throw new f(this.id+" "+this.json(a));if("Requests too often"===a.error_log)throw new m(this.id+" "+this.json(a));if("not available"===a.error_log||"external service unavailable"===a.error_log)throw new m(this.id+" "+this.json(a));if("Total transaction amount"===a.error_log)throw new v(this.id+" "+this.json(a))}throw new p(this.id+" "+this.json(a))}}}]),t}()},function(e,t,r){"use strict";var n=r(2),i=r(3),s=r(4),a=r(1),o=r(6),c=r(5),u=r(49);e.exports=function(e){function t(){return n(this,t),s(this,a(t).apply(this,arguments))}return c(t,u),i(t,[{key:"describe",value:function(){return this.deepExtend(o(a(t.prototype),"describe",this).call(this),{id:"yunbi",name:"YUNBI",countries:["CN"],rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28570548-4d646c40-7147-11e7-9cf6-839b93e6d622.jpg",extension:".json",api:"https://yunbi.com",www:"https://yunbi.com",doc:["https://yunbi.com/documents/api/guide","https://yunbi.com/swagger/"]},api:{public:{get:["tickers","tickers/{market}","markets","order_book","k","depth","trades","k_with_pending_trades","timestamp","addresses/{address}","partners/orders/{id}/trades"]},private:{get:["deposits","members/me","deposit","deposit_address","order","orders","trades/my"],post:["order/delete","orders","orders/multi","orders/clear"]}}})}}]),t}()},function(e,t,r){"use strict";var n=r(8),i=r(13),s=r(9),a=r(2),o=r(3),c=r(4),u=r(1),d=r(6),h=r(5),l=r(11),p=r(10),f=p.ExchangeError,v=p.BadRequest;e.exports=function(e){function t(){return a(this,t),c(this,u(t).apply(this,arguments))}return h(t,l),o(t,[{key:"describe",value:function(){return this.deepExtend(d(u(t.prototype),"describe",this).call(this),{id:"zaif",name:"Zaif",countries:["JP"],rateLimit:2e3,version:"1",has:{CORS:!1,createMarketOrder:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["https://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:-1e-4,maker:-5e-4}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}},exceptions:{exact:{"unsupported currency_pair":v},broad:{}}})}},{key:"fetchMarkets",value:function(){var e=s(n.mark(function e(){var t,r,s,a,o,c,u,d,h,l,p,f=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>0&&void 0!==f[0]?f[0]:{},e.next=3,this.publicGetCurrencyPairsAll();case 3:for(t=e.sent,r=[],s=0;s<t.length;s++)a=t[s],o=a.currency_pair,c=a.name,u=c.split("/"),d=i(u,2),h=d[0],l=d[1],p={amount:-Math.log10(a.item_unit_step),price:a.aux_unit_point},r.push({id:o,symbol:c,base:h,quote:l,active:!0,precision:p,limits:{amount:{min:this.safeFloat(a,"item_unit_min"),max:void 0},price:{min:this.safeFloat(a,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:a});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchBalance",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u,d,h=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.length>0&&void 0!==h[0]?h[0]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostGetInfo();case 5:for(t=e.sent,r=t.return,i={info:r},s=Object.keys(r.funds),a=0;a<s.length;a++)o=s[a],c=r.funds[o],u=o.toUpperCase(),d={free:c,used:0,total:c},"deposit"in r&&o in r.deposit&&(d.total=r.deposit[o],d.used=d.total-d.free),i[u]=d;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchOrderBook",value:function(){var e=s(n.mark(function e(t){var r,i,s=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:void 0,r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.loadMarkets();case 4:return e.next=6,this.publicGetDepthPair(this.extend({pair:this.marketId(t)},r));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTicker",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:{},e.next=3,this.loadMarkets();case 3:return e.next=5,this.publicGetTickerPair(this.extend({pair:this.marketId(t)},r));case 5:return i=e.sent,s=this.milliseconds(),a=i.vwap,o=i.volume,c=void 0,void 0!==o&&void 0!==a&&(c=o*a),u=i.last,e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:i.high,low:i.low,bid:i.bid,bidVolume:void 0,ask:i.ask,askVolume:void 0,vwap:a,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:i});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.trade_type?"buy":"sell",n=1e3*e.date,i=this.safeString(e,"id");i=this.safeString(e,"tid",i);var s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");return t||(t=this.markets_by_id[e.currency_pair]),{id:i.toString(),info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,type:void 0,side:r,price:s,amount:a}}},{key:"fetchTrades",value:function(){var e=s(n.mark(function e(t){var r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=5,this.loadMarkets();case 5:return a=this.market(t),e.next=8,this.publicGetTradesPair(this.extend({pair:a.id},s));case 8:return o=e.sent,1===o.length&&(c=o[0],Object.keys(c).length||(o=[])),e.abrupt("return",this.parseTrades(o,a,r,i));case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createOrder",value:function(){var e=s(n.mark(function e(t,r,i,s){var a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:void 0,o=u.length>5&&void 0!==u[5]?u[5]:{},e.next=4,this.loadMarkets();case 4:if("market"!==r){e.next=6;break}throw new f(this.id+" allows limit orders only");case 6:return e.next=8,this.privatePostTrade(this.extend({currency_pair:this.marketId(t),action:"buy"===i?"bid":"ask",amount:s,price:a},o));case 8:return c=e.sent,e.abrupt("return",{info:c,id:c.return.order_id.toString()});case 10:case"end":return e.stop()}},e,this)}));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"cancelOrder",value:function(){var e=s(n.mark(function e(t){var r,i=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:void 0,r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.privatePostCancelOrder(this.extend({order_id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.action?"buy":"sell",n=1e3*parseInt(e.timestamp);t||(t=this.markets_by_id[e.currency_pair]);var i=e.price,s=e.amount;return{id:e.id.toString(),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:"open",symbol:t.symbol,type:"limit",side:r,price:i,cost:i*s,amount:s,filled:void 0,remaining:void 0,trades:void 0,fee:void 0}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=Object.keys(e),s=[],a=0;a<i.length;a++){var o=i[a],c=e[o],u=this.extend(c,{id:o});s.push(this.parseOrder(u,t))}return this.filterBySinceLimit(s,r,n)}},{key:"fetchOpenOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.currency_pair=a.id),e.next=11,this.privatePostActiveOrders(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c.return,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchClosedOrders",value:function(){var e=s(n.mark(function e(){var t,r,i,s,a,o,c,u=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:void 0,r=u.length>1&&void 0!==u[1]?u[1]:void 0,i=u.length>2&&void 0!==u[2]?u[2]:void 0,s=u.length>3&&void 0!==u[3]?u[3]:{},e.next=6,this.loadMarkets();case 6:return a=void 0,o={},void 0!==t&&(a=this.market(t),o.currency_pair=a.id),e.next=11,this.privatePostTradeHistory(this.extend(o,s));case 11:return c=e.sent,e.abrupt("return",this.parseOrders(c.return,a,r,i));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=s(n.mark(function e(t,r,i){var s,a,o,c,u,d=arguments;return n.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:void 0,a=d.length>4&&void 0!==d[4]?d[4]:{},this.checkAddress(i),e.next=5,this.loadMarkets();case 5:if(o=this.currency(t),"JPY"!==t){e.next=8;break}throw new f(this.id+" withdraw() does not allow "+t+" withdrawals");case 8:return c={currency:o.id,amount:r,address:i},void 0!==s&&(c.message=s),e.next=12,this.privatePostWithdraw(this.extend(c,a));case 12:return u=e.sent,e.abrupt("return",{info:u,id:u.return.txid,fee:u.return.fee});case 14:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"nonce",value:function(){var e=parseFloat(this.milliseconds()/1e3);return e.toFixed(8)}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.urls.api+"/";if("public"===t)a+="api/"+this.version+"/"+this.implodeParams(e,n);else if("fapi"===t)a+="fapi/"+this.version+"/"+this.implodeParams(e,n);else{this.checkRequiredCredentials(),a+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";var o=this.nonce();s=this.urlencode(this.extend({method:e,nonce:o},n)),i={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}return{url:a,method:r,body:s,headers:i}}},{key:"handleErrors",value:function(e,t,r,n,i,s,a){if(void 0!==a){var o=this.id+" "+s,c=this.safeString(a,"error");if(void 0!==c){var u=this.exceptions.exact;if(c in u)throw new u[c](o);var d=this.exceptions.broad,h=this.findBroadlyMatchedKey(d,c);if(void 0!==h)throw new d[h](o);throw new f(o)}if(!this.safeValue(a,"success",!0))throw new f(o)}}}]),t}()},function(e,t,r){(function(e,n){var i;(function(){var s,a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",l=1,p=2,f=4,v=1,m=2,y=1,g=2,b=4,k=8,w=16,x=32,T=64,_=128,C=256,O=512,S=30,E="...",B=800,I=16,A=1,M=2,P=1/0,F=9007199254740991,R=1.7976931348623157e308,D=NaN,L=4294967295,N=L-1,q=L>>>1,G=[["ary",_],["bind",y],["bindKey",g],["curry",k],["curryRight",w],["flip",O],["partial",x],["partialRight",T],["rearg",C]],U="[object Arguments]",V="[object Array]",j="[object AsyncFunction]",H="[object Boolean]",K="[object Date]",W="[object DOMException]",z="[object Error]",X="[object Function]",Y="[object GeneratorFunction]",Z="[object Map]",Q="[object Number]",J="[object Null]",$="[object Object]",ee="[object Proxy]",te="[object RegExp]",re="[object Set]",ne="[object String]",ie="[object Symbol]",se="[object Undefined]",ae="[object WeakMap]",oe="[object WeakSet]",ce="[object ArrayBuffer]",ue="[object DataView]",de="[object Float32Array]",he="[object Float64Array]",le="[object Int8Array]",pe="[object Int16Array]",fe="[object Int32Array]",ve="[object Uint8Array]",me="[object Uint8ClampedArray]",ye="[object Uint16Array]",ge="[object Uint32Array]",be=/\b__p \+= '';/g,ke=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,Te=/[&<>"']/g,_e=RegExp(xe.source),Ce=RegExp(Te.source),Oe=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,Be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(Me.source),Fe=/^\s+|\s+$/g,Re=/^\s+/,De=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,qe=/,? & /,Ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+$e+"]",rt="["+Je+"]",nt="\\d+",it="[\\u2700-\\u27bf]",st="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+$e+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ot="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lt="(?:"+st+"|"+at+")",pt="(?:"+ht+"|"+at+")",ft="(?:"+rt+"|"+ot+")"+"?",vt="[\\ufe0e\\ufe0f]?"+ft+("(?:\\u200d(?:"+[ct,ut,dt].join("|")+")[\\ufe0e\\ufe0f]?"+ft+")*"),mt="(?:"+[it,ut,dt].join("|")+")"+vt,yt="(?:"+[ct+rt+"?",rt,ut,dt,et].join("|")+")",gt=RegExp("['\u2019]","g"),bt=RegExp(rt,"g"),kt=RegExp(ot+"(?="+ot+")|"+yt+vt,"g"),wt=RegExp([ht+"?"+st+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[tt,ht,"$"].join("|")+")",pt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ht+lt,"$"].join("|")+")",ht+"?"+lt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,mt].join("|"),"g"),xt=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),Tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct=-1,Ot={};Ot[de]=Ot[he]=Ot[le]=Ot[pe]=Ot[fe]=Ot[ve]=Ot[me]=Ot[ye]=Ot[ge]=!0,Ot[U]=Ot[V]=Ot[ce]=Ot[H]=Ot[ue]=Ot[K]=Ot[z]=Ot[X]=Ot[Z]=Ot[Q]=Ot[$]=Ot[te]=Ot[re]=Ot[ne]=Ot[ae]=!1;var St={};St[U]=St[V]=St[ce]=St[ue]=St[H]=St[K]=St[de]=St[he]=St[le]=St[pe]=St[fe]=St[Z]=St[Q]=St[$]=St[te]=St[re]=St[ne]=St[ie]=St[ve]=St[me]=St[ye]=St[ge]=!0,St[z]=St[X]=St[ae]=!1;var Et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,It=parseInt,At="object"==typeof e&&e&&e.Object===Object&&e,Mt="object"==typeof self&&self&&self.Object===Object&&self,Pt=At||Mt||Function("return this")(),Ft="object"==typeof t&&t&&!t.nodeType&&t,Rt=Ft&&"object"==typeof n&&n&&!n.nodeType&&n,Dt=Rt&&Rt.exports===Ft,Lt=Dt&&At.process,Nt=function(){try{var e=Rt&&Rt.require&&Rt.require("util").types;return e||Lt&&Lt.binding&&Lt.binding("util")}catch(t){}}(),qt=Nt&&Nt.isArrayBuffer,Gt=Nt&&Nt.isDate,Ut=Nt&&Nt.isMap,Vt=Nt&&Nt.isRegExp,jt=Nt&&Nt.isSet,Ht=Nt&&Nt.isTypedArray;function Kt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Wt(e,t,r,n){for(var i=-1,s=null==e?0:e.length;++i<s;){var a=e[i];t(n,a,r(a),e)}return n}function zt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Xt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Yt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Zt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s}function Qt(e,t){return!!(null==e?0:e.length)&&or(e,t,0)>-1}function Jt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function $t(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function er(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function tr(e,t,r,n){var i=-1,s=null==e?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function rr(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function nr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ir=hr("length");function sr(e,t,r){var n;return r(e,function(e,r,i){if(t(e,r,i))return n=r,!1}),n}function ar(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function or(e,t,r){return t===t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):ar(e,ur,r)}function cr(e,t,r,n){for(var i=r-1,s=e.length;++i<s;)if(n(e[i],t))return i;return-1}function ur(e){return e!==e}function dr(e,t){var r=null==e?0:e.length;return r?fr(e,t)/r:D}function hr(e){return function(t){return null==t?s:t[e]}}function lr(e){return function(t){return null==e?s:e[t]}}function pr(e,t,r,n,i){return i(e,function(e,i,s){r=n?(n=!1,e):t(r,e,i,s)}),r}function fr(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==s&&(r=r===s?a:r+a)}return r}function vr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function mr(e){return function(t){return e(t)}}function yr(e,t){return $t(t,function(t){return e[t]})}function gr(e,t){return e.has(t)}function br(e,t){for(var r=-1,n=e.length;++r<n&&or(t,e[r],0)>-1;);return r}function kr(e,t){for(var r=e.length;r--&&or(t,e[r],0)>-1;);return r}var wr=lr({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),xr=lr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Tr(e){return"\\"+Et[e]}function _r(e){return xt.test(e)}function Cr(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function Or(e,t){return function(r){return e(t(r))}}function Sr(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var a=e[r];a!==t&&a!==h||(e[r]=h,s[i++]=r)}return s}function Er(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function Br(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function Ir(e){return _r(e)?function(e){var t=kt.lastIndex=0;for(;kt.test(e);)++t;return t}(e):ir(e)}function Ar(e){return _r(e)?function(e){return e.match(kt)||[]}(e):function(e){return e.split("")}(e)}var Mr=lr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pr=function e(t){var r=(t=null==t?Pt:Pr.defaults(Pt.Object(),t,Pr.pick(Pt,_t))).Array,n=t.Date,i=t.Error,Je=t.Function,$e=t.Math,et=t.Object,tt=t.RegExp,rt=t.String,nt=t.TypeError,it=r.prototype,st=Je.prototype,at=et.prototype,ot=t["__core-js_shared__"],ct=st.toString,ut=at.hasOwnProperty,dt=0,ht=function(){var e=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lt=at.toString,pt=ct.call(et),ft=Pt._,vt=tt("^"+ct.call(ut).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Dt?t.Buffer:s,yt=t.Symbol,kt=t.Uint8Array,xt=mt?mt.allocUnsafe:s,Et=Or(et.getPrototypeOf,et),At=et.create,Mt=at.propertyIsEnumerable,Ft=it.splice,Rt=yt?yt.isConcatSpreadable:s,Lt=yt?yt.iterator:s,Nt=yt?yt.toStringTag:s,ir=function(){try{var e=Ls(et,"defineProperty");return e({},"",{}),e}catch(t){}}(),lr=t.clearTimeout!==Pt.clearTimeout&&t.clearTimeout,Fr=n&&n.now!==Pt.Date.now&&n.now,Rr=t.setTimeout!==Pt.setTimeout&&t.setTimeout,Dr=$e.ceil,Lr=$e.floor,Nr=et.getOwnPropertySymbols,qr=mt?mt.isBuffer:s,Gr=t.isFinite,Ur=it.join,Vr=Or(et.keys,et),jr=$e.max,Hr=$e.min,Kr=n.now,Wr=t.parseInt,zr=$e.random,Xr=it.reverse,Yr=Ls(t,"DataView"),Zr=Ls(t,"Map"),Qr=Ls(t,"Promise"),Jr=Ls(t,"Set"),$r=Ls(t,"WeakMap"),en=Ls(et,"create"),tn=$r&&new $r,rn={},nn=ua(Yr),sn=ua(Zr),an=ua(Qr),on=ua(Jr),cn=ua($r),un=yt?yt.prototype:s,dn=un?un.valueOf:s,hn=un?un.toString:s;function ln(e){if(So(e)&&!mo(e)&&!(e instanceof mn)){if(e instanceof vn)return e;if(ut.call(e,"__wrapped__"))return da(e)}return new vn(e)}var pn=function(){function e(){}return function(t){if(!Oo(t))return{};if(At)return At(t);e.prototype=t;var r=new e;return e.prototype=s,r}}();function fn(){}function vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=s}function mn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function yn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function gn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function kn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new bn;++t<r;)this.add(e[t])}function wn(e){var t=this.__data__=new gn(e);this.size=t.size}function xn(e,t){var r=mo(e),n=!r&&vo(e),i=!r&&!n&&ko(e),s=!r&&!n&&!i&&Ro(e),a=r||n||i||s,o=a?vr(e.length,rt):[],c=o.length;for(var u in e)!t&&!ut.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Hs(u,c))||o.push(u);return o}function Tn(e){var t=e.length;return t?e[ki(0,t-1)]:s}function _n(e,t){return aa(ts(e),Pn(t,0,e.length))}function Cn(e){return aa(ts(e))}function On(e,t,r){(r===s||lo(e[t],r))&&(r!==s||t in e)||An(e,t,r)}function Sn(e,t,r){var n=e[t];ut.call(e,t)&&lo(n,r)&&(r!==s||t in e)||An(e,t,r)}function En(e,t){for(var r=e.length;r--;)if(lo(e[r][0],t))return r;return-1}function Bn(e,t,r,n){return Nn(e,function(e,i,s){t(n,e,r(e),s)}),n}function In(e,t){return e&&rs(t,nc(t),e)}function An(e,t,r){"__proto__"==t&&ir?ir(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Mn(e,t){for(var n=-1,i=t.length,a=r(i),o=null==e;++n<i;)a[n]=o?s:Jo(e,t[n]);return a}function Pn(e,t,r){return e===e&&(r!==s&&(e=e<=r?e:r),t!==s&&(e=e>=t?e:t)),e}function Fn(e,t,r,n,i,a){var o,c=t&l,u=t&p,d=t&f;if(r&&(o=i?r(e,n,i,a):r(e)),o!==s)return o;if(!Oo(e))return e;var h=mo(e);if(h){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ut.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return ts(e,o)}else{var v=Gs(e),m=v==X||v==Y;if(ko(e))return Yi(e,c);if(v==$||v==U||m&&!i){if(o=u||m?{}:Vs(e),!c)return u?function(e,t){return rs(e,qs(e),t)}(e,function(e,t){return e&&rs(t,ic(t),e)}(o,e)):function(e,t){return rs(e,Ns(e),t)}(e,In(o,e))}else{if(!St[v])return i?e:{};o=function(e,t,r){var n,i=e.constructor;switch(t){case ce:return Zi(e);case H:case K:return new i(+e);case ue:return function(e,t){var r=t?Zi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case de:case he:case le:case pe:case fe:case ve:case me:case ye:case ge:return Qi(e,r);case Z:return new i;case Q:case ne:return new i(e);case te:return function(e){var t=new e.constructor(e.source,je.exec(e));return t.lastIndex=e.lastIndex,t}(e);case re:return new i;case ie:return n=e,dn?et(dn.call(n)):{}}}(e,v,c)}}a||(a=new wn);var y=a.get(e);if(y)return y;if(a.set(e,o),Mo(e))return e.forEach(function(n){o.add(Fn(n,t,r,n,e,a))}),o;if(Eo(e))return e.forEach(function(n,i){o.set(i,Fn(n,t,r,i,e,a))}),o;var g=h?s:(d?u?Is:Bs:u?ic:nc)(e);return zt(g||e,function(n,i){g&&(n=e[i=n]),Sn(o,i,Fn(n,t,r,i,e,a))}),o}function Rn(e,t,r){var n=r.length;if(null==e)return!n;for(e=et(e);n--;){var i=r[n],a=t[i],o=e[i];if(o===s&&!(i in e)||!a(o))return!1}return!0}function Dn(e,t,r){if("function"!=typeof e)throw new nt(c);return ra(function(){e.apply(s,r)},t)}function Ln(e,t,r,n){var i=-1,s=Qt,o=!0,c=e.length,u=[],d=t.length;if(!c)return u;r&&(t=$t(t,mr(r))),n?(s=Jt,o=!1):t.length>=a&&(s=gr,o=!1,t=new kn(t));e:for(;++i<c;){var h=e[i],l=null==r?h:r(h);if(h=n||0!==h?h:0,o&&l===l){for(var p=d;p--;)if(t[p]===l)continue e;u.push(h)}else s(t,l,n)||u.push(h)}return u}ln.templateSettings={escape:Oe,evaluate:Se,interpolate:Ee,variable:"",imports:{_:ln}},ln.prototype=fn.prototype,ln.prototype.constructor=ln,vn.prototype=pn(fn.prototype),vn.prototype.constructor=vn,mn.prototype=pn(fn.prototype),mn.prototype.constructor=mn,yn.prototype.clear=function(){this.__data__=en?en(null):{},this.size=0},yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yn.prototype.get=function(e){var t=this.__data__;if(en){var r=t[e];return r===u?s:r}return ut.call(t,e)?t[e]:s},yn.prototype.has=function(e){var t=this.__data__;return en?t[e]!==s:ut.call(t,e)},yn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=en&&t===s?u:t,this},gn.prototype.clear=function(){this.__data__=[],this.size=0},gn.prototype.delete=function(e){var t=this.__data__,r=En(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ft.call(t,r,1),--this.size,!0)},gn.prototype.get=function(e){var t=this.__data__,r=En(t,e);return r<0?s:t[r][1]},gn.prototype.has=function(e){return En(this.__data__,e)>-1},gn.prototype.set=function(e,t){var r=this.__data__,n=En(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},bn.prototype.clear=function(){this.size=0,this.__data__={hash:new yn,map:new(Zr||gn),string:new yn}},bn.prototype.delete=function(e){var t=Rs(this,e).delete(e);return this.size-=t?1:0,t},bn.prototype.get=function(e){return Rs(this,e).get(e)},bn.prototype.has=function(e){return Rs(this,e).has(e)},bn.prototype.set=function(e,t){var r=Rs(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},kn.prototype.add=kn.prototype.push=function(e){return this.__data__.set(e,u),this},kn.prototype.has=function(e){return this.__data__.has(e)},wn.prototype.clear=function(){this.__data__=new gn,this.size=0},wn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},wn.prototype.get=function(e){return this.__data__.get(e)},wn.prototype.has=function(e){return this.__data__.has(e)},wn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof gn){var n=r.__data__;if(!Zr||n.length<a-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bn(n)}return r.set(e,t),this.size=r.size,this};var Nn=ss(Wn),qn=ss(zn,!0);function Gn(e,t){var r=!0;return Nn(e,function(e,n,i){return r=!!t(e,n,i)}),r}function Un(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(null!=o&&(c===s?o===o&&!Fo(o):r(o,c)))var c=o,u=a}return u}function Vn(e,t){var r=[];return Nn(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function jn(e,t,r,n,i){var s=-1,a=e.length;for(r||(r=js),i||(i=[]);++s<a;){var o=e[s];t>0&&r(o)?t>1?jn(o,t-1,r,n,i):er(i,o):n||(i[i.length]=o)}return i}var Hn=as(),Kn=as(!0);function Wn(e,t){return e&&Hn(e,t,nc)}function zn(e,t){return e&&Kn(e,t,nc)}function Xn(e,t){return Zt(t,function(t){return To(e[t])})}function Yn(e,t){for(var r=0,n=(t=Ki(t,e)).length;null!=e&&r<n;)e=e[ca(t[r++])];return r&&r==n?e:s}function Zn(e,t,r){var n=t(e);return mo(e)?n:er(n,r(e))}function Qn(e){return null==e?e===s?se:J:Nt&&Nt in et(e)?function(e){var t=ut.call(e,Nt),r=e[Nt];try{e[Nt]=s;var n=!0}catch(a){}var i=lt.call(e);return n&&(t?e[Nt]=r:delete e[Nt]),i}(e):function(e){return lt.call(e)}(e)}function Jn(e,t){return e>t}function $n(e,t){return null!=e&&ut.call(e,t)}function ei(e,t){return null!=e&&t in et(e)}function ti(e,t,n){for(var i=n?Jt:Qt,a=e[0].length,o=e.length,c=o,u=r(o),d=1/0,h=[];c--;){var l=e[c];c&&t&&(l=$t(l,mr(t))),d=Hr(l.length,d),u[c]=!n&&(t||a>=120&&l.length>=120)?new kn(c&&l):s}l=e[0];var p=-1,f=u[0];e:for(;++p<a&&h.length<d;){var v=l[p],m=t?t(v):v;if(v=n||0!==v?v:0,!(f?gr(f,m):i(h,m,n))){for(c=o;--c;){var y=u[c];if(!(y?gr(y,m):i(e[c],m,n)))continue e}f&&f.push(m),h.push(v)}}return h}function ri(e,t,r){var n=null==(e=$s(e,t=Ki(t,e)))?e:e[ca(wa(t))];return null==n?s:Kt(n,e,r)}function ni(e){return So(e)&&Qn(e)==U}function ii(e,t,r,n,i){return e===t||(null==e||null==t||!So(e)&&!So(t)?e!==e&&t!==t:function(e,t,r,n,i,a){var o=mo(e),c=mo(t),u=o?V:Gs(e),d=c?V:Gs(t),h=(u=u==U?$:u)==$,l=(d=d==U?$:d)==$,p=u==d;if(p&&ko(e)){if(!ko(t))return!1;o=!0,h=!1}if(p&&!h)return a||(a=new wn),o||Ro(e)?Ss(e,t,r,n,i,a):function(e,t,r,n,i,s,a){switch(r){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!s(new kt(e),new kt(t)));case H:case K:case Q:return lo(+e,+t);case z:return e.name==t.name&&e.message==t.message;case te:case ne:return e==t+"";case Z:var o=Cr;case re:var c=n&v;if(o||(o=Er),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=m,a.set(e,t);var d=Ss(o(e),o(t),n,i,s,a);return a.delete(e),d;case ie:if(dn)return dn.call(e)==dn.call(t)}return!1}(e,t,u,r,n,i,a);if(!(r&v)){var f=h&&ut.call(e,"__wrapped__"),y=l&&ut.call(t,"__wrapped__");if(f||y){var g=f?e.value():e,b=y?t.value():t;return a||(a=new wn),i(g,b,r,n,a)}}return!!p&&(a||(a=new wn),function(e,t,r,n,i,a){var o=r&v,c=Bs(e),u=c.length,d=Bs(t).length;if(u!=d&&!o)return!1;for(var h=u;h--;){var l=c[h];if(!(o?l in t:ut.call(t,l)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var f=!0;a.set(e,t),a.set(t,e);for(var m=o;++h<u;){l=c[h];var y=e[l],g=t[l];if(n)var b=o?n(g,y,l,t,e,a):n(y,g,l,e,t,a);if(!(b===s?y===g||i(y,g,r,n,a):b)){f=!1;break}m||(m="constructor"==l)}if(f&&!m){var k=e.constructor,w=t.constructor;k!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w)&&(f=!1)}return a.delete(e),a.delete(t),f}(e,t,r,n,i,a))}(e,t,r,n,ii,i))}function si(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=et(e);i--;){var c=r[i];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=r[i])[0],d=e[u],h=c[1];if(o&&c[2]){if(d===s&&!(u in e))return!1}else{var l=new wn;if(n)var p=n(d,h,u,e,t,l);if(!(p===s?ii(h,d,v|m,n,l):p))return!1}}return!0}function ai(e){return!(!Oo(e)||(t=e,ht&&ht in t))&&(To(e)?vt:We).test(ua(e));var t}function oi(e){return"function"==typeof e?e:null==e?Bc:"object"==typeof e?mo(e)?pi(e[0],e[1]):li(e):Nc(e)}function ci(e){if(!Ys(e))return Vr(e);var t=[];for(var r in et(e))ut.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ui(e){if(!Oo(e))return function(e){var t=[];if(null!=e)for(var r in et(e))t.push(r);return t}(e);var t=Ys(e),r=[];for(var n in e)("constructor"!=n||!t&&ut.call(e,n))&&r.push(n);return r}function di(e,t){return e<t}function hi(e,t){var n=-1,i=go(e)?r(e.length):[];return Nn(e,function(e,r,s){i[++n]=t(e,r,s)}),i}function li(e){var t=Ds(e);return 1==t.length&&t[0][2]?Qs(t[0][0],t[0][1]):function(r){return r===e||si(r,e,t)}}function pi(e,t){return Ws(e)&&Zs(t)?Qs(ca(e),t):function(r){var n=Jo(r,e);return n===s&&n===t?$o(r,e):ii(t,n,v|m)}}function fi(e,t,r,n,i){e!==t&&Hn(t,function(a,o){if(Oo(a))i||(i=new wn),function(e,t,r,n,i,a,o){var c=ea(e,r),u=ea(t,r),d=o.get(u);if(d)On(e,r,d);else{var h=a?a(c,u,r+"",e,t,o):s,l=h===s;if(l){var p=mo(u),f=!p&&ko(u),v=!p&&!f&&Ro(u);h=u,p||f||v?mo(c)?h=c:bo(c)?h=ts(c):f?(l=!1,h=Yi(u,!0)):v?(l=!1,h=Qi(u,!0)):h=[]:Io(u)||vo(u)?(h=c,vo(c)?h=jo(c):Oo(c)&&!To(c)||(h=Vs(u))):l=!1}l&&(o.set(u,h),i(h,u,n,a,o),o.delete(u)),On(e,r,h)}}(e,t,o,r,fi,n,i);else{var c=n?n(ea(e,o),a,o+"",e,t,i):s;c===s&&(c=a),On(e,o,c)}},ic)}function vi(e,t){var r=e.length;if(r)return Hs(t+=t<0?r:0,r)?e[t]:s}function mi(e,t,r){var n=-1;return t=$t(t.length?t:[Bc],mr(Fs())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(hi(e,function(e,r,i){return{criteria:$t(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,a=i.length,o=r.length;++n<a;){var c=Ji(i[n],s[n]);if(c){if(n>=o)return c;var u=r[n];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,r)})}function yi(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var a=t[n],o=Yn(e,a);r(o,a)&&Ci(s,Ki(a,e),o)}return s}function gi(e,t,r,n){var i=n?cr:or,s=-1,a=t.length,o=e;for(e===t&&(t=ts(t)),r&&(o=$t(e,mr(r)));++s<a;)for(var c=0,u=t[s],d=r?r(u):u;(c=i(o,d,c,n))>-1;)o!==e&&Ft.call(o,c,1),Ft.call(e,c,1);return e}function bi(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==s){var s=i;Hs(i)?Ft.call(e,i,1):Li(e,i)}}return e}function ki(e,t){return e+Lr(zr()*(t-e+1))}function wi(e,t){var r="";if(!e||t<1||t>F)return r;do{t%2&&(r+=e),(t=Lr(t/2))&&(e+=e)}while(t);return r}function xi(e,t){return na(Js(e,t,Bc),e+"")}function Ti(e){return Tn(lc(e))}function _i(e,t){var r=lc(e);return aa(r,Pn(t,0,r.length))}function Ci(e,t,r,n){if(!Oo(e))return e;for(var i=-1,a=(t=Ki(t,e)).length,o=a-1,c=e;null!=c&&++i<a;){var u=ca(t[i]),d=r;if(i!=o){var h=c[u];(d=n?n(h,u,c):s)===s&&(d=Oo(h)?h:Hs(t[i+1])?[]:{})}Sn(c,u,d),c=c[u]}return e}var Oi=tn?function(e,t){return tn.set(e,t),e}:Bc,Si=ir?function(e,t){return ir(e,"toString",{configurable:!0,enumerable:!1,value:Oc(t),writable:!0})}:Bc;function Ei(e){return aa(lc(e))}function Bi(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=r(s);++i<s;)a[i]=e[i+t];return a}function Ii(e,t){var r;return Nn(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}function Ai(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=q){for(;n<i;){var s=n+i>>>1,a=e[s];null!==a&&!Fo(a)&&(r?a<=t:a<t)?n=s+1:i=s}return i}return Mi(e,t,Bc,r)}function Mi(e,t,r,n){t=r(t);for(var i=0,a=null==e?0:e.length,o=t!==t,c=null===t,u=Fo(t),d=t===s;i<a;){var h=Lr((i+a)/2),l=r(e[h]),p=l!==s,f=null===l,v=l===l,m=Fo(l);if(o)var y=n||v;else y=d?v&&(n||p):c?v&&p&&(n||!f):u?v&&p&&!f&&(n||!m):!f&&!m&&(n?l<=t:l<t);y?i=h+1:a=h}return Hr(a,N)}function Pi(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var a=e[r],o=t?t(a):a;if(!r||!lo(o,c)){var c=o;s[i++]=0===a?0:a}}return s}function Fi(e){return"number"==typeof e?e:Fo(e)?D:+e}function Ri(e){if("string"==typeof e)return e;if(mo(e))return $t(e,Ri)+"";if(Fo(e))return hn?hn.call(e):"";var t=e+"";return"0"==t&&1/e==-P?"-0":t}function Di(e,t,r){var n=-1,i=Qt,s=e.length,o=!0,c=[],u=c;if(r)o=!1,i=Jt;else if(s>=a){var d=t?null:ws(e);if(d)return Er(d);o=!1,i=gr,u=new kn}else u=t?[]:c;e:for(;++n<s;){var h=e[n],l=t?t(h):h;if(h=r||0!==h?h:0,o&&l===l){for(var p=u.length;p--;)if(u[p]===l)continue e;t&&u.push(l),c.push(h)}else i(u,l,r)||(u!==c&&u.push(l),c.push(h))}return c}function Li(e,t){return null==(e=$s(e,t=Ki(t,e)))||delete e[ca(wa(t))]}function Ni(e,t,r,n){return Ci(e,t,r(Yn(e,t)),n)}function qi(e,t,r,n){for(var i=e.length,s=n?i:-1;(n?s--:++s<i)&&t(e[s],s,e););return r?Bi(e,n?0:s,n?s+1:i):Bi(e,n?s+1:0,n?i:s)}function Gi(e,t){var r=e;return r instanceof mn&&(r=r.value()),tr(t,function(e,t){return t.func.apply(t.thisArg,er([e],t.args))},r)}function Ui(e,t,n){var i=e.length;if(i<2)return i?Di(e[0]):[];for(var s=-1,a=r(i);++s<i;)for(var o=e[s],c=-1;++c<i;)c!=s&&(a[s]=Ln(a[s]||o,e[c],t,n));return Di(jn(a,1),t,n)}function Vi(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;){var c=n<a?t[n]:s;r(o,e[n],c)}return o}function ji(e){return bo(e)?e:[]}function Hi(e){return"function"==typeof e?e:Bc}function Ki(e,t){return mo(e)?e:Ws(e,t)?[e]:oa(Ho(e))}var Wi=xi;function zi(e,t,r){var n=e.length;return r=r===s?n:r,!t&&r>=n?e:Bi(e,t,r)}var Xi=lr||function(e){return Pt.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var r=e.length,n=xt?xt(r):new e.constructor(r);return e.copy(n),n}function Zi(e){var t=new e.constructor(e.byteLength);return new kt(t).set(new kt(e)),t}function Qi(e,t){var r=t?Zi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ji(e,t){if(e!==t){var r=e!==s,n=null===e,i=e===e,a=Fo(e),o=t!==s,c=null===t,u=t===t,d=Fo(t);if(!c&&!d&&!a&&e>t||a&&o&&u&&!c&&!d||n&&o&&u||!r&&u||!i)return 1;if(!n&&!a&&!d&&e<t||d&&r&&i&&!n&&!a||c&&r&&i||!o&&i||!u)return-1}return 0}function $i(e,t,n,i){for(var s=-1,a=e.length,o=n.length,c=-1,u=t.length,d=jr(a-o,0),h=r(u+d),l=!i;++c<u;)h[c]=t[c];for(;++s<o;)(l||s<a)&&(h[n[s]]=e[s]);for(;d--;)h[c++]=e[s++];return h}function es(e,t,n,i){for(var s=-1,a=e.length,o=-1,c=n.length,u=-1,d=t.length,h=jr(a-c,0),l=r(h+d),p=!i;++s<h;)l[s]=e[s];for(var f=s;++u<d;)l[f+u]=t[u];for(;++o<c;)(p||s<a)&&(l[f+n[o]]=e[s++]);return l}function ts(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function rs(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var c=t[a],u=n?n(r[c],e[c],c,r,e):s;u===s&&(u=e[c]),i?An(r,c,u):Sn(r,c,u)}return r}function ns(e,t){return function(r,n){var i=mo(r)?Wt:Bn,s=t?t():{};return i(r,e,Fs(n,2),s)}}function is(e){return xi(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:s,o=i>2?r[2]:s;for(a=e.length>3&&"function"==typeof a?(i--,a):s,o&&Ks(r[0],r[1],o)&&(a=i<3?s:a,i=1),t=et(t);++n<i;){var c=r[n];c&&e(t,c,n,a)}return t})}function ss(e,t){return function(r,n){if(null==r)return r;if(!go(r))return e(r,n);for(var i=r.length,s=t?i:-1,a=et(r);(t?s--:++s<i)&&!1!==n(a[s],s,a););return r}}function as(e){return function(t,r,n){for(var i=-1,s=et(t),a=n(t),o=a.length;o--;){var c=a[e?o:++i];if(!1===r(s[c],c,s))break}return t}}function os(e){return function(t){var r=_r(t=Ho(t))?Ar(t):s,n=r?r[0]:t.charAt(0),i=r?zi(r,1).join(""):t.slice(1);return n[e]()+i}}function cs(e){return function(t){return tr(Tc(vc(t).replace(gt,"")),e,"")}}function us(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=pn(e.prototype),n=e.apply(r,t);return Oo(n)?n:r}}function ds(e){return function(t,r,n){var i=et(t);if(!go(t)){var a=Fs(r,3);t=nc(t),r=function(e){return a(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:s}}function hs(e){return Es(function(t){var r=t.length,n=r,i=vn.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new nt(c);if(i&&!o&&"wrapper"==Ms(a))var o=new vn([],!0)}for(n=o?n:r;++n<r;){var u=Ms(a=t[n]),d="wrapper"==u?As(a):s;o=d&&zs(d[0])&&d[1]==(_|k|x|C)&&!d[4].length&&1==d[9]?o[Ms(d[0])].apply(o,d[3]):1==a.length&&zs(a)?o[u]():o.thru(a)}return function(){var e=arguments,n=e[0];if(o&&1==e.length&&mo(n))return o.plant(n).value();for(var i=0,s=r?t[i].apply(this,e):n;++i<r;)s=t[i].call(this,s);return s}})}function ls(e,t,n,i,a,o,c,u,d,h){var l=t&_,p=t&y,f=t&g,v=t&(k|w),m=t&O,b=f?s:us(e);return function y(){for(var g=arguments.length,k=r(g),w=g;w--;)k[w]=arguments[w];if(v)var x=Ps(y),T=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(k,x);if(i&&(k=$i(k,i,a,v)),o&&(k=es(k,o,c,v)),g-=T,v&&g<h){var _=Sr(k,x);return bs(e,t,ls,y.placeholder,n,k,_,u,d,h-g)}var C=p?n:this,O=f?C[e]:e;return g=k.length,u?k=function(e,t){for(var r=e.length,n=Hr(t.length,r),i=ts(e);n--;){var a=t[n];e[n]=Hs(a,r)?i[a]:s}return e}(k,u):m&&g>1&&k.reverse(),l&&d<g&&(k.length=d),this&&this!==Pt&&this instanceof y&&(O=b||us(O)),O.apply(C,k)}}function ps(e,t){return function(r,n){return function(e,t,r,n){return Wn(e,function(e,i,s){t(n,r(e),i,s)}),n}(r,e,t(n),{})}}function fs(e,t){return function(r,n){var i;if(r===s&&n===s)return t;if(r!==s&&(i=r),n!==s){if(i===s)return n;"string"==typeof r||"string"==typeof n?(r=Ri(r),n=Ri(n)):(r=Fi(r),n=Fi(n)),i=e(r,n)}return i}}function vs(e){return Es(function(t){return t=$t(t,mr(Fs())),xi(function(r){var n=this;return e(t,function(e){return Kt(e,n,r)})})})}function ms(e,t){var r=(t=t===s?" ":Ri(t)).length;if(r<2)return r?wi(t,e):t;var n=wi(t,Dr(e/Ir(t)));return _r(t)?zi(Ar(n),0,e).join(""):n.slice(0,e)}function ys(e){return function(t,n,i){return i&&"number"!=typeof i&&Ks(t,n,i)&&(n=i=s),t=qo(t),n===s?(n=t,t=0):n=qo(n),function(e,t,n,i){for(var s=-1,a=jr(Dr((t-e)/(n||1)),0),o=r(a);a--;)o[i?a:++s]=e,e+=n;return o}(t,n,i=i===s?t<n?1:-1:qo(i),e)}}function gs(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Vo(t),r=Vo(r)),e(t,r)}}function bs(e,t,r,n,i,a,o,c,u,d){var h=t&k;t|=h?x:T,(t&=~(h?T:x))&b||(t&=~(y|g));var l=[e,t,i,h?a:s,h?o:s,h?s:a,h?s:o,c,u,d],p=r.apply(s,l);return zs(e)&&ta(p,l),p.placeholder=n,ia(p,e,t)}function ks(e){var t=$e[e];return function(e,r){if(e=Vo(e),r=null==r?0:Hr(Go(r),292)){var n=(Ho(e)+"e").split("e");return+((n=(Ho(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var ws=Jr&&1/Er(new Jr([,-0]))[1]==P?function(e){return new Jr(e)}:Fc;function xs(e){return function(t){var r=Gs(t);return r==Z?Cr(t):r==re?Br(t):function(e,t){return $t(t,function(t){return[t,e[t]]})}(t,e(t))}}function Ts(e,t,n,i,a,o,u,d){var l=t&g;if(!l&&"function"!=typeof e)throw new nt(c);var p=i?i.length:0;if(p||(t&=~(x|T),i=a=s),u=u===s?u:jr(Go(u),0),d=d===s?d:Go(d),p-=a?a.length:0,t&T){var f=i,v=a;i=a=s}var m=l?s:As(e),O=[e,t,n,i,a,f,v,o,u,d];if(m&&function(e,t){var r=e[1],n=t[1],i=r|n,s=i<(y|g|_),a=n==_&&r==k||n==_&&r==C&&e[7].length<=t[8]||n==(_|C)&&t[7].length<=t[8]&&r==k;if(!s&&!a)return e;n&y&&(e[2]=t[2],i|=r&y?0:b);var o=t[3];if(o){var c=e[3];e[3]=c?$i(c,o,t[4]):o,e[4]=c?Sr(e[3],h):t[4]}(o=t[5])&&(c=e[5],e[5]=c?es(c,o,t[6]):o,e[6]=c?Sr(e[5],h):t[6]),(o=t[7])&&(e[7]=o),n&_&&(e[8]=null==e[8]?t[8]:Hr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(O,m),e=O[0],t=O[1],n=O[2],i=O[3],a=O[4],!(d=O[9]=O[9]===s?l?0:e.length:jr(O[9]-p,0))&&t&(k|w)&&(t&=~(k|w)),t&&t!=y)S=t==k||t==w?function(e,t,n){var i=us(e);return function a(){for(var o=arguments.length,c=r(o),u=o,d=Ps(a);u--;)c[u]=arguments[u];var h=o<3&&c[0]!==d&&c[o-1]!==d?[]:Sr(c,d);return(o-=h.length)<n?bs(e,t,ls,a.placeholder,s,c,h,s,s,n-o):Kt(this&&this!==Pt&&this instanceof a?i:e,this,c)}}(e,t,d):t!=x&&t!=(y|x)||a.length?ls.apply(s,O):function(e,t,n,i){var s=t&y,a=us(e);return function t(){for(var o=-1,c=arguments.length,u=-1,d=i.length,h=r(d+c),l=this&&this!==Pt&&this instanceof t?a:e;++u<d;)h[u]=i[u];for(;c--;)h[u++]=arguments[++o];return Kt(l,s?n:this,h)}}(e,t,n,i);else var S=function(e,t,r){var n=t&y,i=us(e);return function t(){return(this&&this!==Pt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return ia((m?Oi:ta)(S,O),e,t)}function _s(e,t,r,n){return e===s||lo(e,at[r])&&!ut.call(n,r)?t:e}function Cs(e,t,r,n,i,a){return Oo(e)&&Oo(t)&&(a.set(t,e),fi(e,t,s,Cs,a),a.delete(t)),e}function Os(e){return Io(e)?s:e}function Ss(e,t,r,n,i,a){var o=r&v,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;var d=a.get(e);if(d&&a.get(t))return d==t;var h=-1,l=!0,p=r&m?new kn:s;for(a.set(e,t),a.set(t,e);++h<c;){var f=e[h],y=t[h];if(n)var g=o?n(y,f,h,t,e,a):n(f,y,h,e,t,a);if(g!==s){if(g)continue;l=!1;break}if(p){if(!nr(t,function(e,t){if(!gr(p,t)&&(f===e||i(f,e,r,n,a)))return p.push(t)})){l=!1;break}}else if(f!==y&&!i(f,y,r,n,a)){l=!1;break}}return a.delete(e),a.delete(t),l}function Es(e){return na(Js(e,s,ma),e+"")}function Bs(e){return Zn(e,nc,Ns)}function Is(e){return Zn(e,ic,qs)}var As=tn?function(e){return tn.get(e)}:Fc;function Ms(e){for(var t=e.name+"",r=rn[t],n=ut.call(rn,t)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==e)return i.name}return t}function Ps(e){return(ut.call(ln,"placeholder")?ln:e).placeholder}function Fs(){var e=ln.iteratee||Ic;return e=e===Ic?oi:e,arguments.length?e(arguments[0],arguments[1]):e}function Rs(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ds(e){for(var t=nc(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Zs(i)]}return t}function Ls(e,t){var r=function(e,t){return null==e?s:e[t]}(e,t);return ai(r)?r:s}var Ns=Nr?function(e){return null==e?[]:(e=et(e),Zt(Nr(e),function(t){return Mt.call(e,t)}))}:Uc,qs=Nr?function(e){for(var t=[];e;)er(t,Ns(e)),e=Et(e);return t}:Uc,Gs=Qn;function Us(e,t,r){for(var n=-1,i=(t=Ki(t,e)).length,s=!1;++n<i;){var a=ca(t[n]);if(!(s=null!=e&&r(e,a)))break;e=e[a]}return s||++n!=i?s:!!(i=null==e?0:e.length)&&Co(i)&&Hs(a,i)&&(mo(e)||vo(e))}function Vs(e){return"function"!=typeof e.constructor||Ys(e)?{}:pn(Et(e))}function js(e){return mo(e)||vo(e)||!!(Rt&&e&&e[Rt])}function Hs(e,t){var r=typeof e;return!!(t=null==t?F:t)&&("number"==r||"symbol"!=r&&Xe.test(e))&&e>-1&&e%1==0&&e<t}function Ks(e,t,r){if(!Oo(r))return!1;var n=typeof t;return!!("number"==n?go(r)&&Hs(t,r.length):"string"==n&&t in r)&&lo(r[t],e)}function Ws(e,t){if(mo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Fo(e))||Ie.test(e)||!Be.test(e)||null!=t&&e in et(t)}function zs(e){var t=Ms(e),r=ln[t];if("function"!=typeof r||!(t in mn.prototype))return!1;if(e===r)return!0;var n=As(r);return!!n&&e===n[0]}(Yr&&Gs(new Yr(new ArrayBuffer(1)))!=ue||Zr&&Gs(new Zr)!=Z||Qr&&"[object Promise]"!=Gs(Qr.resolve())||Jr&&Gs(new Jr)!=re||$r&&Gs(new $r)!=ae)&&(Gs=function(e){var t=Qn(e),r=t==$?e.constructor:s,n=r?ua(r):"";if(n)switch(n){case nn:return ue;case sn:return Z;case an:return"[object Promise]";case on:return re;case cn:return ae}return t});var Xs=ot?To:Vc;function Ys(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Zs(e){return e===e&&!Oo(e)}function Qs(e,t){return function(r){return null!=r&&r[e]===t&&(t!==s||e in et(r))}}function Js(e,t,n){return t=jr(t===s?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=jr(i.length-t,0),o=r(a);++s<a;)o[s]=i[t+s];s=-1;for(var c=r(t+1);++s<t;)c[s]=i[s];return c[t]=n(o),Kt(e,this,c)}}function $s(e,t){return t.length<2?e:Yn(e,Bi(t,0,-1))}function ea(e,t){if("__proto__"!=t)return e[t]}var ta=sa(Oi),ra=Rr||function(e,t){return Pt.setTimeout(e,t)},na=sa(Si);function ia(e,t,r){var n=t+"";return na(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return zt(G,function(r){var n="_."+r[0];t&r[1]&&!Qt(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(Ne);return t?t[1].split(qe):[]}(n),r)))}function sa(e){var t=0,r=0;return function(){var n=Kr(),i=I-(n-r);if(r=n,i>0){if(++t>=B)return arguments[0]}else t=0;return e.apply(s,arguments)}}function aa(e,t){var r=-1,n=e.length,i=n-1;for(t=t===s?n:t;++r<t;){var a=ki(r,i),o=e[a];e[a]=e[r],e[r]=o}return e.length=t,e}var oa=function(e){var t=so(e,function(e){return r.size===d&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,function(e,r,n,i){t.push(n?i.replace(Ue,"$1"):r||e)}),t});function ca(e){if("string"==typeof e||Fo(e))return e;var t=e+"";return"0"==t&&1/e==-P?"-0":t}function ua(e){if(null!=e){try{return ct.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function da(e){if(e instanceof mn)return e.clone();var t=new vn(e.__wrapped__,e.__chain__);return t.__actions__=ts(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ha=xi(function(e,t){return bo(e)?Ln(e,jn(t,1,bo,!0)):[]}),la=xi(function(e,t){var r=wa(t);return bo(r)&&(r=s),bo(e)?Ln(e,jn(t,1,bo,!0),Fs(r,2)):[]}),pa=xi(function(e,t){var r=wa(t);return bo(r)&&(r=s),bo(e)?Ln(e,jn(t,1,bo,!0),s,r):[]});function fa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Go(r);return i<0&&(i=jr(n+i,0)),ar(e,Fs(t,3),i)}function va(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==s&&(i=Go(r),i=r<0?jr(n+i,0):Hr(i,n-1)),ar(e,Fs(t,3),i,!0)}function ma(e){return null!=e&&e.length?jn(e,1):[]}function ya(e){return e&&e.length?e[0]:s}var ga=xi(function(e){var t=$t(e,ji);return t.length&&t[0]===e[0]?ti(t):[]}),ba=xi(function(e){var t=wa(e),r=$t(e,ji);return t===wa(r)?t=s:r.pop(),r.length&&r[0]===e[0]?ti(r,Fs(t,2)):[]}),ka=xi(function(e){var t=wa(e),r=$t(e,ji);return(t="function"==typeof t?t:s)&&r.pop(),r.length&&r[0]===e[0]?ti(r,s,t):[]});function wa(e){var t=null==e?0:e.length;return t?e[t-1]:s}var xa=xi(Ta);function Ta(e,t){return e&&e.length&&t&&t.length?gi(e,t):e}var _a=Es(function(e,t){var r=null==e?0:e.length,n=Mn(e,t);return bi(e,$t(t,function(e){return Hs(e,r)?+e:e}).sort(Ji)),n});function Ca(e){return null==e?e:Xr.call(e)}var Oa=xi(function(e){return Di(jn(e,1,bo,!0))}),Sa=xi(function(e){var t=wa(e);return bo(t)&&(t=s),Di(jn(e,1,bo,!0),Fs(t,2))}),Ea=xi(function(e){var t=wa(e);return t="function"==typeof t?t:s,Di(jn(e,1,bo,!0),s,t)});function Ba(e){if(!e||!e.length)return[];var t=0;return e=Zt(e,function(e){if(bo(e))return t=jr(e.length,t),!0}),vr(t,function(t){return $t(e,hr(t))})}function Ia(e,t){if(!e||!e.length)return[];var r=Ba(e);return null==t?r:$t(r,function(e){return Kt(t,s,e)})}var Aa=xi(function(e,t){return bo(e)?Ln(e,t):[]}),Ma=xi(function(e){return Ui(Zt(e,bo))}),Pa=xi(function(e){var t=wa(e);return bo(t)&&(t=s),Ui(Zt(e,bo),Fs(t,2))}),Fa=xi(function(e){var t=wa(e);return t="function"==typeof t?t:s,Ui(Zt(e,bo),s,t)}),Ra=xi(Ba);var Da=xi(function(e){var t=e.length,r=t>1?e[t-1]:s;return r="function"==typeof r?(e.pop(),r):s,Ia(e,r)});function La(e){var t=ln(e);return t.__chain__=!0,t}function Na(e,t){return t(e)}var qa=Es(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Mn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof mn&&Hs(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:Na,args:[i],thisArg:s}),new vn(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(s),e})):this.thru(i)});var Ga=ns(function(e,t,r){ut.call(e,r)?++e[r]:An(e,r,1)});var Ua=ds(fa),Va=ds(va);function ja(e,t){return(mo(e)?zt:Nn)(e,Fs(t,3))}function Ha(e,t){return(mo(e)?Xt:qn)(e,Fs(t,3))}var Ka=ns(function(e,t,r){ut.call(e,r)?e[r].push(t):An(e,r,[t])});var Wa=xi(function(e,t,n){var i=-1,s="function"==typeof t,a=go(e)?r(e.length):[];return Nn(e,function(e){a[++i]=s?Kt(t,e,n):ri(e,t,n)}),a}),za=ns(function(e,t,r){An(e,r,t)});function Xa(e,t){return(mo(e)?$t:hi)(e,Fs(t,3))}var Ya=ns(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});var Za=xi(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ks(e,t[0],t[1])?t=[]:r>2&&Ks(t[0],t[1],t[2])&&(t=[t[0]]),mi(e,jn(t,1),[])}),Qa=Fr||function(){return Pt.Date.now()};function Ja(e,t,r){return t=r?s:t,t=e&&null==t?e.length:t,Ts(e,_,s,s,s,s,t)}function $a(e,t){var r;if("function"!=typeof t)throw new nt(c);return e=Go(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=s),r}}var eo=xi(function(e,t,r){var n=y;if(r.length){var i=Sr(r,Ps(eo));n|=x}return Ts(e,n,t,r,i)}),to=xi(function(e,t,r){var n=y|g;if(r.length){var i=Sr(r,Ps(to));n|=x}return Ts(t,n,e,r,i)});function ro(e,t,r){var n,i,a,o,u,d,h=0,l=!1,p=!1,f=!0;if("function"!=typeof e)throw new nt(c);function v(t){var r=n,a=i;return n=i=s,h=t,o=e.apply(a,r)}function m(e){var r=e-d;return d===s||r>=t||r<0||p&&e-h>=a}function y(){var e=Qa();if(m(e))return g(e);u=ra(y,function(e){var r=t-(e-d);return p?Hr(r,a-(e-h)):r}(e))}function g(e){return u=s,f&&n?v(e):(n=i=s,o)}function b(){var e=Qa(),r=m(e);if(n=arguments,i=this,d=e,r){if(u===s)return function(e){return h=e,u=ra(y,t),l?v(e):o}(d);if(p)return u=ra(y,t),v(d)}return u===s&&(u=ra(y,t)),o}return t=Vo(t)||0,Oo(r)&&(l=!!r.leading,a=(p="maxWait"in r)?jr(Vo(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),b.cancel=function(){u!==s&&Xi(u),h=0,n=d=i=u=s},b.flush=function(){return u===s?o:g(Qa())},b}var no=xi(function(e,t){return Dn(e,1,t)}),io=xi(function(e,t,r){return Dn(e,Vo(t)||0,r)});function so(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new nt(c);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(so.Cache||bn),r}function ao(e){if("function"!=typeof e)throw new nt(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}so.Cache=bn;var oo=Wi(function(e,t){var r=(t=1==t.length&&mo(t[0])?$t(t[0],mr(Fs())):$t(jn(t,1),mr(Fs()))).length;return xi(function(n){for(var i=-1,s=Hr(n.length,r);++i<s;)n[i]=t[i].call(this,n[i]);return Kt(e,this,n)})}),co=xi(function(e,t){var r=Sr(t,Ps(co));return Ts(e,x,s,t,r)}),uo=xi(function(e,t){var r=Sr(t,Ps(uo));return Ts(e,T,s,t,r)}),ho=Es(function(e,t){return Ts(e,C,s,s,s,t)});function lo(e,t){return e===t||e!==e&&t!==t}var po=gs(Jn),fo=gs(function(e,t){return e>=t}),vo=ni(function(){return arguments}())?ni:function(e){return So(e)&&ut.call(e,"callee")&&!Mt.call(e,"callee")},mo=r.isArray,yo=qt?mr(qt):function(e){return So(e)&&Qn(e)==ce};function go(e){return null!=e&&Co(e.length)&&!To(e)}function bo(e){return So(e)&&go(e)}var ko=qr||Vc,wo=Gt?mr(Gt):function(e){return So(e)&&Qn(e)==K};function xo(e){if(!So(e))return!1;var t=Qn(e);return t==z||t==W||"string"==typeof e.message&&"string"==typeof e.name&&!Io(e)}function To(e){if(!Oo(e))return!1;var t=Qn(e);return t==X||t==Y||t==j||t==ee}function _o(e){return"number"==typeof e&&e==Go(e)}function Co(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function Oo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function So(e){return null!=e&&"object"==typeof e}var Eo=Ut?mr(Ut):function(e){return So(e)&&Gs(e)==Z};function Bo(e){return"number"==typeof e||So(e)&&Qn(e)==Q}function Io(e){if(!So(e)||Qn(e)!=$)return!1;var t=Et(e);if(null===t)return!0;var r=ut.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==pt}var Ao=Vt?mr(Vt):function(e){return So(e)&&Qn(e)==te};var Mo=jt?mr(jt):function(e){return So(e)&&Gs(e)==re};function Po(e){return"string"==typeof e||!mo(e)&&So(e)&&Qn(e)==ne}function Fo(e){return"symbol"==typeof e||So(e)&&Qn(e)==ie}var Ro=Ht?mr(Ht):function(e){return So(e)&&Co(e.length)&&!!Ot[Qn(e)]};var Do=gs(di),Lo=gs(function(e,t){return e<=t});function No(e){if(!e)return[];if(go(e))return Po(e)?Ar(e):ts(e);if(Lt&&e[Lt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Lt]());var t=Gs(e);return(t==Z?Cr:t==re?Er:lc)(e)}function qo(e){return e?(e=Vo(e))===P||e===-P?(e<0?-1:1)*R:e===e?e:0:0===e?e:0}function Go(e){var t=qo(e),r=t%1;return t===t?r?t-r:t:0}function Uo(e){return e?Pn(Go(e),0,L):0}function Vo(e){if("number"==typeof e)return e;if(Fo(e))return D;if(Oo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Fe,"");var r=Ke.test(e);return r||ze.test(e)?It(e.slice(2),r?2:8):He.test(e)?D:+e}function jo(e){return rs(e,ic(e))}function Ho(e){return null==e?"":Ri(e)}var Ko=is(function(e,t){if(Ys(t)||go(t))rs(t,nc(t),e);else for(var r in t)ut.call(t,r)&&Sn(e,r,t[r])}),Wo=is(function(e,t){rs(t,ic(t),e)}),zo=is(function(e,t,r,n){rs(t,ic(t),e,n)}),Xo=is(function(e,t,r,n){rs(t,nc(t),e,n)}),Yo=Es(Mn);var Zo=xi(function(e,t){e=et(e);var r=-1,n=t.length,i=n>2?t[2]:s;for(i&&Ks(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=ic(a),c=-1,u=o.length;++c<u;){var d=o[c],h=e[d];(h===s||lo(h,at[d])&&!ut.call(e,d))&&(e[d]=a[d])}return e}),Qo=xi(function(e){return e.push(s,Cs),Kt(ac,s,e)});function Jo(e,t,r){var n=null==e?s:Yn(e,t);return n===s?r:n}function $o(e,t){return null!=e&&Us(e,t,ei)}var ec=ps(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=lt.call(t)),e[t]=r},Oc(Bc)),tc=ps(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=lt.call(t)),ut.call(e,t)?e[t].push(r):e[t]=[r]},Fs),rc=xi(ri);function nc(e){return go(e)?xn(e):ci(e)}function ic(e){return go(e)?xn(e,!0):ui(e)}var sc=is(function(e,t,r){fi(e,t,r)}),ac=is(function(e,t,r,n){fi(e,t,r,n)}),oc=Es(function(e,t){var r={};if(null==e)return r;var n=!1;t=$t(t,function(t){return t=Ki(t,e),n||(n=t.length>1),t}),rs(e,Is(e),r),n&&(r=Fn(r,l|p|f,Os));for(var i=t.length;i--;)Li(r,t[i]);return r});var cc=Es(function(e,t){return null==e?{}:function(e,t){return yi(e,t,function(t,r){return $o(e,r)})}(e,t)});function uc(e,t){if(null==e)return{};var r=$t(Is(e),function(e){return[e]});return t=Fs(t),yi(e,r,function(e,r){return t(e,r[0])})}var dc=xs(nc),hc=xs(ic);function lc(e){return null==e?[]:yr(e,nc(e))}var pc=cs(function(e,t,r){return t=t.toLowerCase(),e+(r?fc(t):t)});function fc(e){return xc(Ho(e).toLowerCase())}function vc(e){return(e=Ho(e))&&e.replace(Ye,wr).replace(bt,"")}var mc=cs(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),yc=cs(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),gc=os("toLowerCase");var bc=cs(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});var kc=cs(function(e,t,r){return e+(r?" ":"")+xc(t)});var wc=cs(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),xc=os("toUpperCase");function Tc(e,t,r){return e=Ho(e),(t=r?s:t)===s?function(e){return Tt.test(e)}(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.match(Ge)||[]}(e):e.match(t)||[]}var _c=xi(function(e,t){try{return Kt(e,s,t)}catch(r){return xo(r)?r:new i(r)}}),Cc=Es(function(e,t){return zt(t,function(t){t=ca(t),An(e,t,eo(e[t],e))}),e});function Oc(e){return function(){return e}}var Sc=hs(),Ec=hs(!0);function Bc(e){return e}function Ic(e){return oi("function"==typeof e?e:Fn(e,l))}var Ac=xi(function(e,t){return function(r){return ri(r,e,t)}}),Mc=xi(function(e,t){return function(r){return ri(e,r,t)}});function Pc(e,t,r){var n=nc(t),i=Xn(t,n);null!=r||Oo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Xn(t,nc(t)));var s=!(Oo(r)&&"chain"in r)||!!r.chain,a=To(e);return zt(i,function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=ts(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,er([this.value()],arguments))})}),e}function Fc(){}var Rc=vs($t),Dc=vs(Yt),Lc=vs(nr);function Nc(e){return Ws(e)?hr(ca(e)):function(e){return function(t){return Yn(t,e)}}(e)}var qc=ys(),Gc=ys(!0);function Uc(){return[]}function Vc(){return!1}var jc=fs(function(e,t){return e+t},0),Hc=ks("ceil"),Kc=fs(function(e,t){return e/t},1),Wc=ks("floor");var zc=fs(function(e,t){return e*t},1),Xc=ks("round"),Yc=fs(function(e,t){return e-t},0);return ln.after=function(e,t){if("function"!=typeof t)throw new nt(c);return e=Go(e),function(){if(--e<1)return t.apply(this,arguments)}},ln.ary=Ja,ln.assign=Ko,ln.assignIn=Wo,ln.assignInWith=zo,ln.assignWith=Xo,ln.at=Yo,ln.before=$a,ln.bind=eo,ln.bindAll=Cc,ln.bindKey=to,ln.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return mo(e)?e:[e]},ln.chain=La,ln.chunk=function(e,t,n){t=(n?Ks(e,t,n):t===s)?1:jr(Go(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,c=r(Dr(i/t));a<i;)c[o++]=Bi(e,a,a+=t);return c},ln.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i},ln.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return er(mo(n)?ts(n):[n],jn(t,1))},ln.cond=function(e){var t=null==e?0:e.length,r=Fs();return e=t?$t(e,function(e){if("function"!=typeof e[1])throw new nt(c);return[r(e[0]),e[1]]}):[],xi(function(r){for(var n=-1;++n<t;){var i=e[n];if(Kt(i[0],this,r))return Kt(i[1],this,r)}})},ln.conforms=function(e){return function(e){var t=nc(e);return function(r){return Rn(r,e,t)}}(Fn(e,l))},ln.constant=Oc,ln.countBy=Ga,ln.create=function(e,t){var r=pn(e);return null==t?r:In(r,t)},ln.curry=function e(t,r,n){var i=Ts(t,k,s,s,s,s,s,r=n?s:r);return i.placeholder=e.placeholder,i},ln.curryRight=function e(t,r,n){var i=Ts(t,w,s,s,s,s,s,r=n?s:r);return i.placeholder=e.placeholder,i},ln.debounce=ro,ln.defaults=Zo,ln.defaultsDeep=Qo,ln.defer=no,ln.delay=io,ln.difference=ha,ln.differenceBy=la,ln.differenceWith=pa,ln.drop=function(e,t,r){var n=null==e?0:e.length;return n?Bi(e,(t=r||t===s?1:Go(t))<0?0:t,n):[]},ln.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Bi(e,0,(t=n-(t=r||t===s?1:Go(t)))<0?0:t):[]},ln.dropRightWhile=function(e,t){return e&&e.length?qi(e,Fs(t,3),!0,!0):[]},ln.dropWhile=function(e,t){return e&&e.length?qi(e,Fs(t,3),!0):[]},ln.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Ks(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=Go(r))<0&&(r=-r>i?0:i+r),(n=n===s||n>i?i:Go(n))<0&&(n+=i),n=r>n?0:Uo(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},ln.filter=function(e,t){return(mo(e)?Zt:Vn)(e,Fs(t,3))},ln.flatMap=function(e,t){return jn(Xa(e,t),1)},ln.flatMapDeep=function(e,t){return jn(Xa(e,t),P)},ln.flatMapDepth=function(e,t,r){return r=r===s?1:Go(r),jn(Xa(e,t),r)},ln.flatten=ma,ln.flattenDeep=function(e){return null!=e&&e.length?jn(e,P):[]},ln.flattenDepth=function(e,t){return null!=e&&e.length?jn(e,t=t===s?1:Go(t)):[]},ln.flip=function(e){return Ts(e,O)},ln.flow=Sc,ln.flowRight=Ec,ln.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},ln.functions=function(e){return null==e?[]:Xn(e,nc(e))},ln.functionsIn=function(e){return null==e?[]:Xn(e,ic(e))},ln.groupBy=Ka,ln.initial=function(e){return null!=e&&e.length?Bi(e,0,-1):[]},ln.intersection=ga,ln.intersectionBy=ba,ln.intersectionWith=ka,ln.invert=ec,ln.invertBy=tc,ln.invokeMap=Wa,ln.iteratee=Ic,ln.keyBy=za,ln.keys=nc,ln.keysIn=ic,ln.map=Xa,ln.mapKeys=function(e,t){var r={};return t=Fs(t,3),Wn(e,function(e,n,i){An(r,t(e,n,i),e)}),r},ln.mapValues=function(e,t){var r={};return t=Fs(t,3),Wn(e,function(e,n,i){An(r,n,t(e,n,i))}),r},ln.matches=function(e){return li(Fn(e,l))},ln.matchesProperty=function(e,t){return pi(e,Fn(t,l))},ln.memoize=so,ln.merge=sc,ln.mergeWith=ac,ln.method=Ac,ln.methodOf=Mc,ln.mixin=Pc,ln.negate=ao,ln.nthArg=function(e){return e=Go(e),xi(function(t){return vi(t,e)})},ln.omit=oc,ln.omitBy=function(e,t){return uc(e,ao(Fs(t)))},ln.once=function(e){return $a(2,e)},ln.orderBy=function(e,t,r,n){return null==e?[]:(mo(t)||(t=null==t?[]:[t]),mo(r=n?s:r)||(r=null==r?[]:[r]),mi(e,t,r))},ln.over=Rc,ln.overArgs=oo,ln.overEvery=Dc,ln.overSome=Lc,ln.partial=co,ln.partialRight=uo,ln.partition=Ya,ln.pick=cc,ln.pickBy=uc,ln.property=Nc,ln.propertyOf=function(e){return function(t){return null==e?s:Yn(e,t)}},ln.pull=xa,ln.pullAll=Ta,ln.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?gi(e,t,Fs(r,2)):e},ln.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?gi(e,t,s,r):e},ln.pullAt=_a,ln.range=qc,ln.rangeRight=Gc,ln.rearg=ho,ln.reject=function(e,t){return(mo(e)?Zt:Vn)(e,ao(Fs(t,3)))},ln.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],s=e.length;for(t=Fs(t,3);++n<s;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return bi(e,i),r},ln.rest=function(e,t){if("function"!=typeof e)throw new nt(c);return xi(e,t=t===s?t:Go(t))},ln.reverse=Ca,ln.sampleSize=function(e,t,r){return t=(r?Ks(e,t,r):t===s)?1:Go(t),(mo(e)?_n:_i)(e,t)},ln.set=function(e,t,r){return null==e?e:Ci(e,t,r)},ln.setWith=function(e,t,r,n){return n="function"==typeof n?n:s,null==e?e:Ci(e,t,r,n)},ln.shuffle=function(e){return(mo(e)?Cn:Ei)(e)},ln.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Ks(e,t,r)?(t=0,r=n):(t=null==t?0:Go(t),r=r===s?n:Go(r)),Bi(e,t,r)):[]},ln.sortBy=Za,ln.sortedUniq=function(e){return e&&e.length?Pi(e):[]},ln.sortedUniqBy=function(e,t){return e&&e.length?Pi(e,Fs(t,2)):[]},ln.split=function(e,t,r){return r&&"number"!=typeof r&&Ks(e,t,r)&&(t=r=s),(r=r===s?L:r>>>0)?(e=Ho(e))&&("string"==typeof t||null!=t&&!Ao(t))&&!(t=Ri(t))&&_r(e)?zi(Ar(e),0,r):e.split(t,r):[]},ln.spread=function(e,t){if("function"!=typeof e)throw new nt(c);return t=null==t?0:jr(Go(t),0),xi(function(r){var n=r[t],i=zi(r,0,t);return n&&er(i,n),Kt(e,this,i)})},ln.tail=function(e){var t=null==e?0:e.length;return t?Bi(e,1,t):[]},ln.take=function(e,t,r){return e&&e.length?Bi(e,0,(t=r||t===s?1:Go(t))<0?0:t):[]},ln.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Bi(e,(t=n-(t=r||t===s?1:Go(t)))<0?0:t,n):[]},ln.takeRightWhile=function(e,t){return e&&e.length?qi(e,Fs(t,3),!1,!0):[]},ln.takeWhile=function(e,t){return e&&e.length?qi(e,Fs(t,3)):[]},ln.tap=function(e,t){return t(e),e},ln.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new nt(c);return Oo(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ro(e,t,{leading:n,maxWait:t,trailing:i})},ln.thru=Na,ln.toArray=No,ln.toPairs=dc,ln.toPairsIn=hc,ln.toPath=function(e){return mo(e)?$t(e,ca):Fo(e)?[e]:ts(oa(Ho(e)))},ln.toPlainObject=jo,ln.transform=function(e,t,r){var n=mo(e),i=n||ko(e)||Ro(e);if(t=Fs(t,4),null==r){var s=e&&e.constructor;r=i?n?new s:[]:Oo(e)&&To(s)?pn(Et(e)):{}}return(i?zt:Wn)(e,function(e,n,i){return t(r,e,n,i)}),r},ln.unary=function(e){return Ja(e,1)},ln.union=Oa,ln.unionBy=Sa,ln.unionWith=Ea,ln.uniq=function(e){return e&&e.length?Di(e):[]},ln.uniqBy=function(e,t){return e&&e.length?Di(e,Fs(t,2)):[]},ln.uniqWith=function(e,t){return t="function"==typeof t?t:s,e&&e.length?Di(e,s,t):[]},ln.unset=function(e,t){return null==e||Li(e,t)},ln.unzip=Ba,ln.unzipWith=Ia,ln.update=function(e,t,r){return null==e?e:Ni(e,t,Hi(r))},ln.updateWith=function(e,t,r,n){return n="function"==typeof n?n:s,null==e?e:Ni(e,t,Hi(r),n)},ln.values=lc,ln.valuesIn=function(e){return null==e?[]:yr(e,ic(e))},ln.without=Aa,ln.words=Tc,ln.wrap=function(e,t){return co(Hi(t),e)},ln.xor=Ma,ln.xorBy=Pa,ln.xorWith=Fa,ln.zip=Ra,ln.zipObject=function(e,t){return Vi(e||[],t||[],Sn)},ln.zipObjectDeep=function(e,t){return Vi(e||[],t||[],Ci)},ln.zipWith=Da,ln.entries=dc,ln.entriesIn=hc,ln.extend=Wo,ln.extendWith=zo,Pc(ln,ln),ln.add=jc,ln.attempt=_c,ln.camelCase=pc,ln.capitalize=fc,ln.ceil=Hc,ln.clamp=function(e,t,r){return r===s&&(r=t,t=s),r!==s&&(r=(r=Vo(r))===r?r:0),t!==s&&(t=(t=Vo(t))===t?t:0),Pn(Vo(e),t,r)},ln.clone=function(e){return Fn(e,f)},ln.cloneDeep=function(e){return Fn(e,l|f)},ln.cloneDeepWith=function(e,t){return Fn(e,l|f,t="function"==typeof t?t:s)},ln.cloneWith=function(e,t){return Fn(e,f,t="function"==typeof t?t:s)},ln.conformsTo=function(e,t){return null==t||Rn(e,t,nc(t))},ln.deburr=vc,ln.defaultTo=function(e,t){return null==e||e!==e?t:e},ln.divide=Kc,ln.endsWith=function(e,t,r){e=Ho(e),t=Ri(t);var n=e.length,i=r=r===s?n:Pn(Go(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},ln.eq=lo,ln.escape=function(e){return(e=Ho(e))&&Ce.test(e)?e.replace(Te,xr):e},ln.escapeRegExp=function(e){return(e=Ho(e))&&Pe.test(e)?e.replace(Me,"\\$&"):e},ln.every=function(e,t,r){var n=mo(e)?Yt:Gn;return r&&Ks(e,t,r)&&(t=s),n(e,Fs(t,3))},ln.find=Ua,ln.findIndex=fa,ln.findKey=function(e,t){return sr(e,Fs(t,3),Wn)},ln.findLast=Va,ln.findLastIndex=va,ln.findLastKey=function(e,t){return sr(e,Fs(t,3),zn)},ln.floor=Wc,ln.forEach=ja,ln.forEachRight=Ha,ln.forIn=function(e,t){return null==e?e:Hn(e,Fs(t,3),ic)},ln.forInRight=function(e,t){return null==e?e:Kn(e,Fs(t,3),ic)},ln.forOwn=function(e,t){return e&&Wn(e,Fs(t,3))},ln.forOwnRight=function(e,t){return e&&zn(e,Fs(t,3))},ln.get=Jo,ln.gt=po,ln.gte=fo,ln.has=function(e,t){return null!=e&&Us(e,t,$n)},ln.hasIn=$o,ln.head=ya,ln.identity=Bc,ln.includes=function(e,t,r,n){e=go(e)?e:lc(e),r=r&&!n?Go(r):0;var i=e.length;return r<0&&(r=jr(i+r,0)),Po(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&or(e,t,r)>-1},ln.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Go(r);return i<0&&(i=jr(n+i,0)),or(e,t,i)},ln.inRange=function(e,t,r){return t=qo(t),r===s?(r=t,t=0):r=qo(r),function(e,t,r){return e>=Hr(t,r)&&e<jr(t,r)}(e=Vo(e),t,r)},ln.invoke=rc,ln.isArguments=vo,ln.isArray=mo,ln.isArrayBuffer=yo,ln.isArrayLike=go,ln.isArrayLikeObject=bo,ln.isBoolean=function(e){return!0===e||!1===e||So(e)&&Qn(e)==H},ln.isBuffer=ko,ln.isDate=wo,ln.isElement=function(e){return So(e)&&1===e.nodeType&&!Io(e)},ln.isEmpty=function(e){if(null==e)return!0;if(go(e)&&(mo(e)||"string"==typeof e||"function"==typeof e.splice||ko(e)||Ro(e)||vo(e)))return!e.length;var t=Gs(e);if(t==Z||t==re)return!e.size;if(Ys(e))return!ci(e).length;for(var r in e)if(ut.call(e,r))return!1;return!0},ln.isEqual=function(e,t){return ii(e,t)},ln.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:s)?r(e,t):s;return n===s?ii(e,t,s,r):!!n},ln.isError=xo,ln.isFinite=function(e){return"number"==typeof e&&Gr(e)},ln.isFunction=To,ln.isInteger=_o,ln.isLength=Co,ln.isMap=Eo,ln.isMatch=function(e,t){return e===t||si(e,t,Ds(t))},ln.isMatchWith=function(e,t,r){return r="function"==typeof r?r:s,si(e,t,Ds(t),r)},ln.isNaN=function(e){return Bo(e)&&e!=+e},ln.isNative=function(e){if(Xs(e))throw new i(o);return ai(e)},ln.isNil=function(e){return null==e},ln.isNull=function(e){return null===e},ln.isNumber=Bo,ln.isObject=Oo,ln.isObjectLike=So,ln.isPlainObject=Io,ln.isRegExp=Ao,ln.isSafeInteger=function(e){return _o(e)&&e>=-F&&e<=F},ln.isSet=Mo,ln.isString=Po,ln.isSymbol=Fo,ln.isTypedArray=Ro,ln.isUndefined=function(e){return e===s},ln.isWeakMap=function(e){return So(e)&&Gs(e)==ae},ln.isWeakSet=function(e){return So(e)&&Qn(e)==oe},ln.join=function(e,t){return null==e?"":Ur.call(e,t)},ln.kebabCase=mc,ln.last=wa,ln.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==s&&(i=(i=Go(r))<0?jr(n+i,0):Hr(i,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):ar(e,ur,i,!0)},ln.lowerCase=yc,ln.lowerFirst=gc,ln.lt=Do,ln.lte=Lo,ln.max=function(e){return e&&e.length?Un(e,Bc,Jn):s},ln.maxBy=function(e,t){return e&&e.length?Un(e,Fs(t,2),Jn):s},ln.mean=function(e){return dr(e,Bc)},ln.meanBy=function(e,t){return dr(e,Fs(t,2))},ln.min=function(e){return e&&e.length?Un(e,Bc,di):s},ln.minBy=function(e,t){return e&&e.length?Un(e,Fs(t,2),di):s},ln.stubArray=Uc,ln.stubFalse=Vc,ln.stubObject=function(){return{}},ln.stubString=function(){return""},ln.stubTrue=function(){return!0},ln.multiply=zc,ln.nth=function(e,t){return e&&e.length?vi(e,Go(t)):s},ln.noConflict=function(){return Pt._===this&&(Pt._=ft),this},ln.noop=Fc,ln.now=Qa,ln.pad=function(e,t,r){e=Ho(e);var n=(t=Go(t))?Ir(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ms(Lr(i),r)+e+ms(Dr(i),r)},ln.padEnd=function(e,t,r){e=Ho(e);var n=(t=Go(t))?Ir(e):0;return t&&n<t?e+ms(t-n,r):e},ln.padStart=function(e,t,r){e=Ho(e);var n=(t=Go(t))?Ir(e):0;return t&&n<t?ms(t-n,r)+e:e},ln.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Wr(Ho(e).replace(Re,""),t||0)},ln.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Ks(e,t,r)&&(t=r=s),r===s&&("boolean"==typeof t?(r=t,t=s):"boolean"==typeof e&&(r=e,e=s)),e===s&&t===s?(e=0,t=1):(e=qo(e),t===s?(t=e,e=0):t=qo(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=zr();return Hr(e+i*(t-e+Bt("1e-"+((i+"").length-1))),t)}return ki(e,t)},ln.reduce=function(e,t,r){var n=mo(e)?tr:pr,i=arguments.length<3;return n(e,Fs(t,4),r,i,Nn)},ln.reduceRight=function(e,t,r){var n=mo(e)?rr:pr,i=arguments.length<3;return n(e,Fs(t,4),r,i,qn)},ln.repeat=function(e,t,r){return t=(r?Ks(e,t,r):t===s)?1:Go(t),wi(Ho(e),t)},ln.replace=function(){var e=arguments,t=Ho(e[0]);return e.length<3?t:t.replace(e[1],e[2])},ln.result=function(e,t,r){var n=-1,i=(t=Ki(t,e)).length;for(i||(i=1,e=s);++n<i;){var a=null==e?s:e[ca(t[n])];a===s&&(n=i,a=r),e=To(a)?a.call(e):a}return e},ln.round=Xc,ln.runInContext=e,ln.sample=function(e){return(mo(e)?Tn:Ti)(e)},ln.size=function(e){if(null==e)return 0;if(go(e))return Po(e)?Ir(e):e.length;var t=Gs(e);return t==Z||t==re?e.size:ci(e).length},ln.snakeCase=bc,ln.some=function(e,t,r){var n=mo(e)?nr:Ii;return r&&Ks(e,t,r)&&(t=s),n(e,Fs(t,3))},ln.sortedIndex=function(e,t){return Ai(e,t)},ln.sortedIndexBy=function(e,t,r){return Mi(e,t,Fs(r,2))},ln.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Ai(e,t);if(n<r&&lo(e[n],t))return n}return-1},ln.sortedLastIndex=function(e,t){return Ai(e,t,!0)},ln.sortedLastIndexBy=function(e,t,r){return Mi(e,t,Fs(r,2),!0)},ln.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=Ai(e,t,!0)-1;if(lo(e[r],t))return r}return-1},ln.startCase=kc,ln.startsWith=function(e,t,r){return e=Ho(e),r=null==r?0:Pn(Go(r),0,e.length),t=Ri(t),e.slice(r,r+t.length)==t},ln.subtract=Yc,ln.sum=function(e){return e&&e.length?fr(e,Bc):0},ln.sumBy=function(e,t){return e&&e.length?fr(e,Fs(t,2)):0},ln.template=function(e,t,r){var n=ln.templateSettings;r&&Ks(e,t,r)&&(t=s),e=Ho(e),t=zo({},t,n,_s);var i,a,o=zo({},t.imports,n.imports,_s),c=nc(o),u=yr(o,c),d=0,h=t.interpolate||Ze,l="__p += '",p=tt((t.escape||Ze).source+"|"+h.source+"|"+(h===Ee?Ve:Ze).source+"|"+(t.evaluate||Ze).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ct+"]")+"\n";e.replace(p,function(t,r,n,s,o,c){return n||(n=s),l+=e.slice(d,c).replace(Qe,Tr),r&&(i=!0,l+="' +\n__e("+r+") +\n'"),o&&(a=!0,l+="';\n"+o+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=c+t.length,t}),l+="';\n";var v=t.variable;v||(l="with (obj) {\n"+l+"\n}\n"),l=(a?l.replace(be,""):l).replace(ke,"$1").replace(we,"$1;"),l="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var m=_c(function(){return Je(c,f+"return "+l).apply(s,u)});if(m.source=l,xo(m))throw m;return m},ln.times=function(e,t){if((e=Go(e))<1||e>F)return[];var r=L,n=Hr(e,L);t=Fs(t),e-=L;for(var i=vr(n,t);++r<e;)t(r);return i},ln.toFinite=qo,ln.toInteger=Go,ln.toLength=Uo,ln.toLower=function(e){return Ho(e).toLowerCase()},ln.toNumber=Vo,ln.toSafeInteger=function(e){return e?Pn(Go(e),-F,F):0===e?e:0},ln.toString=Ho,ln.toUpper=function(e){return Ho(e).toUpperCase()},ln.trim=function(e,t,r){if((e=Ho(e))&&(r||t===s))return e.replace(Fe,"");if(!e||!(t=Ri(t)))return e;var n=Ar(e),i=Ar(t);return zi(n,br(n,i),kr(n,i)+1).join("")},ln.trimEnd=function(e,t,r){if((e=Ho(e))&&(r||t===s))return e.replace(De,"");if(!e||!(t=Ri(t)))return e;var n=Ar(e);return zi(n,0,kr(n,Ar(t))+1).join("")},ln.trimStart=function(e,t,r){if((e=Ho(e))&&(r||t===s))return e.replace(Re,"");if(!e||!(t=Ri(t)))return e;var n=Ar(e);return zi(n,br(n,Ar(t))).join("")},ln.truncate=function(e,t){var r=S,n=E;if(Oo(t)){var i="separator"in t?t.separator:i;r="length"in t?Go(t.length):r,n="omission"in t?Ri(t.omission):n}var a=(e=Ho(e)).length;if(_r(e)){var o=Ar(e);a=o.length}if(r>=a)return e;var c=r-Ir(n);if(c<1)return n;var u=o?zi(o,0,c).join(""):e.slice(0,c);if(i===s)return u+n;if(o&&(c+=u.length-c),Ao(i)){if(e.slice(c).search(i)){var d,h=u;for(i.global||(i=tt(i.source,Ho(je.exec(i))+"g")),i.lastIndex=0;d=i.exec(h);)var l=d.index;u=u.slice(0,l===s?c:l)}}else if(e.indexOf(Ri(i),c)!=c){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+n},ln.unescape=function(e){return(e=Ho(e))&&_e.test(e)?e.replace(xe,Mr):e},ln.uniqueId=function(e){var t=++dt;return Ho(e)+t},ln.upperCase=wc,ln.upperFirst=xc,ln.each=ja,ln.eachRight=Ha,ln.first=ya,Pc(ln,function(){var e={};return Wn(ln,function(t,r){ut.call(ln.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),ln.VERSION="4.17.11",zt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){ln[e].placeholder=ln}),zt(["drop","take"],function(e,t){mn.prototype[e]=function(r){r=r===s?1:jr(Go(r),0);var n=this.__filtered__&&!t?new mn(this):this.clone();return n.__filtered__?n.__takeCount__=Hr(r,n.__takeCount__):n.__views__.push({size:Hr(r,L),type:e+(n.__dir__<0?"Right":"")}),n},mn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),zt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==A||3==r;mn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Fs(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),zt(["head","last"],function(e,t){var r="take"+(t?"Right":"");mn.prototype[e]=function(){return this[r](1).value()[0]}}),zt(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");mn.prototype[e]=function(){return this.__filtered__?new mn(this):this[r](1)}}),mn.prototype.compact=function(){return this.filter(Bc)},mn.prototype.find=function(e){return this.filter(e).head()},mn.prototype.findLast=function(e){return this.reverse().find(e)},mn.prototype.invokeMap=xi(function(e,t){return"function"==typeof e?new mn(this):this.map(function(r){return ri(r,e,t)})}),mn.prototype.reject=function(e){return this.filter(ao(Fs(e)))},mn.prototype.slice=function(e,t){e=Go(e);var r=this;return r.__filtered__&&(e>0||t<0)?new mn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==s&&(r=(t=Go(t))<0?r.dropRight(-t):r.take(t-e)),r)},mn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},mn.prototype.toArray=function(){return this.take(L)},Wn(mn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=ln[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(ln.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,c=t instanceof mn,u=o[0],d=c||mo(t),h=function(e){var t=i.apply(ln,er([e],o));return n&&l?t[0]:t};d&&r&&"function"==typeof u&&1!=u.length&&(c=d=!1);var l=this.__chain__,p=!!this.__actions__.length,f=a&&!l,v=c&&!p;if(!a&&d){t=v?t:new mn(this);var m=e.apply(t,o);return m.__actions__.push({func:Na,args:[h],thisArg:s}),new vn(m,l)}return f&&v?e.apply(this,o):(m=this.thru(h),f?n?m.value()[0]:m.value():m)})}),zt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);ln.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(mo(i)?i:[],e)}return this[r](function(r){return t.apply(mo(r)?r:[],e)})}}),Wn(mn.prototype,function(e,t){var r=ln[t];if(r){var n=r.name+"";(rn[n]||(rn[n]=[])).push({name:t,func:r})}}),rn[ls(s,g).name]=[{name:"wrapper",func:s}],mn.prototype.clone=function(){var e=new mn(this.__wrapped__);return e.__actions__=ts(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ts(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ts(this.__views__),e},mn.prototype.reverse=function(){if(this.__filtered__){var e=new mn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},mn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=mo(e),n=t<0,i=r?e.length:0,s=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Hr(t,e+a);break;case"takeRight":e=jr(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=s.start,o=s.end,c=o-a,u=n?o:a-1,d=this.__iteratees__,h=d.length,l=0,p=Hr(c,this.__takeCount__);if(!r||!n&&i==c&&p==c)return Gi(e,this.__actions__);var f=[];e:for(;c--&&l<p;){for(var v=-1,m=e[u+=t];++v<h;){var y=d[v],g=y.iteratee,b=y.type,k=g(m);if(b==M)m=k;else if(!k){if(b==A)continue e;break e}}f[l++]=m}return f},ln.prototype.at=qa,ln.prototype.chain=function(){return La(this)},ln.prototype.commit=function(){return new vn(this.value(),this.__chain__)},ln.prototype.next=function(){this.__values__===s&&(this.__values__=No(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?s:this.__values__[this.__index__++]}},ln.prototype.plant=function(e){for(var t,r=this;r instanceof fn;){var n=da(r);n.__index__=0,n.__values__=s,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},ln.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof mn){var t=e;return this.__actions__.length&&(t=new mn(this)),(t=t.reverse()).__actions__.push({func:Na,args:[Ca],thisArg:s}),new vn(t,this.__chain__)}return this.thru(Ca)},ln.prototype.toJSON=ln.prototype.valueOf=ln.prototype.value=function(){return Gi(this.__wrapped__,this.__actions__)},ln.prototype.first=ln.prototype.head,Lt&&(ln.prototype[Lt]=function(){return this}),ln}();Pt._=Pr,(i=function(){return Pr}.call(t,r,t,n))===s||(n.exports=i)}).call(this)}).call(this,r(56),r(287)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(289);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,s,a){if(a!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(31),i=r(47);function s(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,i,s,a,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,s,a,o],u=0;(e=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var a=null,o=null,c=null;function u(e){var t=e._dispatchListeners,r=e._dispatchInstances;return Array.isArray(t)&&s("103"),e.currentTarget=t?c(r):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t}function d(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function h(e,t,r){for(var n=[];e;)n.push(e),e=d(e);for(e=n.length;0<e--;)t(n[e],"captured",r);for(e=0;e<n.length;e++)t(n[e],"bubbled",r)}function l(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function p(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}function f(e,t){var r=e.stateNode;if(!r)return null;var n=a(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}return e?null:(r&&"function"!==typeof r&&s("231",t,typeof r),r)}function v(e,t,r){(t=f(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=l(r._dispatchListeners,t),r._dispatchInstances=l(r._dispatchInstances,e))}function m(e){e&&e.dispatchConfig.phasedRegistrationNames&&h(e._targetInst,v,e)}function y(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;h(t=t?d(t):null,v,e)}}function g(e){if(e&&e.dispatchConfig.registrationName){var t=e._targetInst;if(t&&e&&e.dispatchConfig.registrationName){var r=f(t,e.dispatchConfig.registrationName);r&&(e._dispatchListeners=l(e._dispatchListeners,r),e._dispatchInstances=l(e._dispatchInstances,t))}}}function b(){return!0}function k(){return!1}function w(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?b:k,this.isPropagationStopped=k,this}function x(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function T(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function _(e){e.eventPool=[],e.getPooled=x,e.release=T}i(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=b)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=b)},persist:function(){this.isPersistent=b},isPersistent:k,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=k,this._dispatchInstances=this._dispatchListeners=null}}),w.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},w.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var s=new t;return i(s,r.prototype),r.prototype=s,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,_(r),r},_(w);var C=w.extend({touchHistory:function(){return null}});function O(e){return"touchstart"===e||"mousedown"===e}function S(e){return"touchmove"===e||"mousemove"===e}function E(e){return"touchend"===e||"touchcancel"===e||"mouseup"===e}var B=["touchstart","mousedown"],I=["touchmove","mousemove"],A=["touchcancel","touchend","mouseup"],M=[],P={touchBank:M,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function F(e){return e.timeStamp||e.timestamp}function R(e){return null==(e=e.identifier)&&s("138"),e}function D(e){var t=R(e),r=M[t];r?(r.touchActive=!0,r.startPageX=e.pageX,r.startPageY=e.pageY,r.startTimeStamp=F(e),r.currentPageX=e.pageX,r.currentPageY=e.pageY,r.currentTimeStamp=F(e),r.previousPageX=e.pageX,r.previousPageY=e.pageY,r.previousTimeStamp=F(e)):(r={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:F(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:F(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:F(e)},M[t]=r),P.mostRecentTimeStamp=F(e)}function L(e){var t=M[R(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=F(e),P.mostRecentTimeStamp=F(e)):console.error("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",q(e),G())}function N(e){var t=M[R(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=F(e),P.mostRecentTimeStamp=F(e)):console.error("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",q(e),G())}function q(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:F(e)})}function G(){var e=JSON.stringify(M.slice(0,20));return 20<M.length&&(e+=" (original size: "+M.length+")"),e}var U={recordTouchTrack:function(e,t){if(S(e))t.changedTouches.forEach(L);else if(O(e))t.changedTouches.forEach(D),P.numberActiveTouches=t.touches.length,1===P.numberActiveTouches&&(P.indexOfSingleActiveTouch=t.touches[0].identifier);else if(E(e)&&(t.changedTouches.forEach(N),P.numberActiveTouches=t.touches.length,1===P.numberActiveTouches))for(e=0;e<M.length;e++)if(null!=(t=M[e])&&t.touchActive){P.indexOfSingleActiveTouch=e;break}},touchHistory:P};function V(e,t){return null==t&&s("29"),null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var j=null,H=0;function K(e,t){var r=j;j=e,null!==z.GlobalResponderHandler&&z.GlobalResponderHandler.onChange(r,e,t)}var W={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:B},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["scroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["selectionchange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:I},responderStart:{registrationName:"onResponderStart",dependencies:B},responderMove:{registrationName:"onResponderMove",dependencies:I},responderEnd:{registrationName:"onResponderEnd",dependencies:A},responderRelease:{registrationName:"onResponderRelease",dependencies:A},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},z={_getResponder:function(){return j},eventTypes:W,extractEvents:function(e,t,r,n){if(O(e))H+=1;else if(E(e)){if(!(0<=H))return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;--H}if(U.recordTouchTrack(e,r),t&&("scroll"===e&&!r.responderIgnoreScroll||0<H&&"selectionchange"===e||O(e)||S(e))){var i=O(e)?W.startShouldSetResponder:S(e)?W.moveShouldSetResponder:"selectionchange"===e?W.selectionChangeShouldSetResponder:W.scrollShouldSetResponder;if(j)e:{for(var s=j,a=0,c=s;c;c=d(c))a++;c=0;for(var h=t;h;h=d(h))c++;for(;0<a-c;)s=d(s),a--;for(;0<c-a;)t=d(t),c--;for(;a--;){if(s===t||s===t.alternate)break e;s=d(s),t=d(t)}s=null}else s=t;t=s===j,(s=C.getPooled(i,s,r,n)).touchHistory=U.touchHistory,p(s,t?y:m);e:{if(i=s._dispatchListeners,t=s._dispatchInstances,Array.isArray(i)){for(a=0;a<i.length&&!s.isPropagationStopped();a++)if(i[a](s,t[a])){i=t[a];break e}}else if(i&&i(s,t)){i=t;break e}i=null}s._dispatchInstances=null,s._dispatchListeners=null,s.isPersistent()||s.constructor.release(s),i&&i!==j?(s=void 0,(t=C.getPooled(W.responderGrant,i,r,n)).touchHistory=U.touchHistory,p(t,g),a=!0===u(t),j?((c=C.getPooled(W.responderTerminationRequest,j,r,n)).touchHistory=U.touchHistory,p(c,g),h=!c._dispatchListeners||u(c),c.isPersistent()||c.constructor.release(c),h?((c=C.getPooled(W.responderTerminate,j,r,n)).touchHistory=U.touchHistory,p(c,g),s=V(s,[t,c]),K(i,a)):((i=C.getPooled(W.responderReject,i,r,n)).touchHistory=U.touchHistory,p(i,g),s=V(s,i))):(s=V(s,t),K(i,a)),i=s):i=null}else i=null;if(s=j&&O(e),t=j&&S(e),a=j&&E(e),(s=s?W.responderStart:t?W.responderMove:a?W.responderEnd:null)&&((s=C.getPooled(s,j,r,n)).touchHistory=U.touchHistory,p(s,g),i=V(i,s)),s=j&&"touchcancel"===e,e=j&&!s&&E(e))e:{if((e=r.touches)&&0!==e.length)for(t=0;t<e.length;t++)if(null!==(a=e[t].target)&&void 0!==a&&0!==a){c=o(a);t:{for(a=j;c;){if(a===c||a===c.alternate){a=!0;break t}c=d(c)}a=!1}if(a){e=!1;break e}}e=!0}return(e=s?W.responderTerminate:e?W.responderRelease:null)&&((r=C.getPooled(e,j,r,n)).touchHistory=U.touchHistory,p(r,g),i=V(i,r),K(null)),i},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){z.GlobalResponderHandler=e}}},X=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,Y=X[3],Z=X[0],Q=X[1];a=X[2],o=Z,c=Q,e.exports={ResponderEventPlugin:z,ResponderTouchHistoryStore:U,injectEventPluginsByName:Y}},function(e,t,r){"use strict";var n=r(7),i=r(47),s=r(292);function a(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,i,s,a,o){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,s,a,o],u=0;(e=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}n||a("227");var o=!1,c=null,u=!1,d=null,h={onError:function(e){o=!0,c=e}};function l(e,t,r,n,i,s,a,u,d){o=!1,c=null,function(e,t,r,n,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}.apply(h,arguments)}var p=null,f={};function v(){if(p)for(var e in f){var t=f[e],r=p.indexOf(e);if(-1<r||a("96",e),!y[r])for(var n in t.extractEvents||a("97",e),y[r]=t,r=t.eventTypes){var i=void 0,s=r[n],o=t,c=n;g.hasOwnProperty(c)&&a("99",c),g[c]=s;var u=s.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&m(u[i],o,c);i=!0}else s.registrationName?(m(s.registrationName,o,c),i=!0):i=!1;i||a("98",n,e)}}}function m(e,t,r){b[e]&&a("100",e),b[e]=t,k[e]=t.eventTypes[r].dependencies}var y=[],g={},b={},k={},w=null,x=null,T=null;function _(e,t,r){var n=e.type||"unknown-event";e.currentTarget=T(r),function(e,t,r,n,i,s,h,p,f){if(l.apply(this,arguments),o){if(o){var v=c;o=!1,c=null}else a("198"),v=void 0;u||(u=!0,d=v)}}(n,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function O(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var S=null;function E(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)_(e,t[n],r[n]);else t&&_(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var B={injectEventPluginOrder:function(e){p&&a("101"),p=Array.prototype.slice.call(e),v()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];f.hasOwnProperty(t)&&f[t]===n||(f[t]&&a("102",t),f[t]=n,r=!0)}r&&v()}};function I(e,t){var r=e.stateNode;if(!r)return null;var n=w(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}return e?null:(r&&"function"!==typeof r&&a("231",t,typeof r),r)}function A(e){if(null!==e&&(S=C(S,e)),e=S,S=null,e&&(O(e,E),S&&a("95"),u))throw e=d,u=!1,d=null,e}var M=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+M,F="__reactEventHandlers$"+M;function R(e){if(e[P])return e[P];for(;!e[P];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[P]).tag||6===e.tag?e:null}function D(e){return!(e=e[P])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function N(e){return e[F]||null}function q(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function G(e,t,r){(t=I(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function U(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=q(t);for(t=r.length;0<t--;)G(r[t],"captured",e);for(t=0;t<r.length;t++)G(r[t],"bubbled",e)}}function V(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=I(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function j(e){e&&e.dispatchConfig.registrationName&&V(e._targetInst,null,e)}function H(e){O(e,U)}var K=!("undefined"===typeof window||!window.document||!window.document.createElement);function W(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var z={animationend:W("Animation","AnimationEnd"),animationiteration:W("Animation","AnimationIteration"),animationstart:W("Animation","AnimationStart"),transitionend:W("Transition","TransitionEnd")},X={},Y={};function Z(e){if(X[e])return X[e];if(!z[e])return e;var t,r=z[e];for(t in r)if(r.hasOwnProperty(t)&&t in Y)return X[e]=r[t];return e}K&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete z.animationend.animation,delete z.animationiteration.animation,delete z.animationstart.animation),"TransitionEvent"in window||delete z.transitionend.transition);var Q=Z("animationend"),J=Z("animationiteration"),$=Z("animationstart"),ee=Z("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=null,ne=null,ie=null;function se(){if(ie)return ie;var e,t,r=ne,n=r.length,i="value"in re?re.value:re.textContent,s=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[s-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function oe(){return!1}function ce(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ae:oe,this.isPropagationStopped=oe,this}function ue(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function de(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[],e.getPooled=ue,e.release=de}i(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:oe,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=oe,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var s=new t;return i(s,r.prototype),r.prototype=s,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,he(r),r},he(ce);var le=ce.extend({data:null}),pe=ce.extend({data:null}),fe=[9,13,27,32],ve=K&&"CompositionEvent"in window,me=null;K&&"documentMode"in document&&(me=document.documentMode);var ye=K&&"TextEvent"in window&&!me,ge=K&&(!ve||me&&8<me&&11>=me),be=String.fromCharCode(32),ke={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function xe(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _e=!1;var Ce={eventTypes:ke,extractEvents:function(e,t,r,n){var i=void 0,s=void 0;if(ve)e:{switch(e){case"compositionstart":i=ke.compositionStart;break e;case"compositionend":i=ke.compositionEnd;break e;case"compositionupdate":i=ke.compositionUpdate;break e}i=void 0}else _e?xe(e,r)&&(i=ke.compositionEnd):"keydown"===e&&229===r.keyCode&&(i=ke.compositionStart);return i?(ge&&"ko"!==r.locale&&(_e||i!==ke.compositionStart?i===ke.compositionEnd&&_e&&(s=se()):(ne="value"in(re=n)?re.value:re.textContent,_e=!0)),i=le.getPooled(i,t,r,n),s?i.data=s:null!==(s=Te(r))&&(i.data=s),H(i),s=i):s=null,(e=ye?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(we=!0,be);case"textInput":return(e=t.data)===be&&we?null:e;default:return null}}(e,r):function(e,t){if(_e)return"compositionend"===e||!ve&&xe(e,t)?(e=se(),ie=ne=re=null,_e=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ge&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=pe.getPooled(ke.beforeInput,t,r,n)).data=e,H(t)):t=null,null===s?t:null===t?s:[s,t]}},Oe=null,Se=null,Ee=null;function Be(e){if(e=x(e)){"function"!==typeof Oe&&a("280");var t=w(e.stateNode);Oe(e.stateNode,e.type,t)}}function Ie(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}function Me(e,t){return e(t)}function Pe(e,t,r){return e(t,r)}function Fe(){}var Re=!1;function De(e,t){if(Re)return e(t);Re=!0;try{return Me(e,t)}finally{Re=!1,(null!==Se||null!==Ee)&&(Fe(),Ae())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function qe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ge(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Ue(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function je(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ue(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}var He=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ke=/^(.*)[\\\/]/,We="function"===typeof Symbol&&Symbol.for,ze=We?Symbol.for("react.element"):60103,Xe=We?Symbol.for("react.portal"):60106,Ye=We?Symbol.for("react.fragment"):60107,Ze=We?Symbol.for("react.strict_mode"):60108,Qe=We?Symbol.for("react.profiler"):60114,Je=We?Symbol.for("react.provider"):60109,$e=We?Symbol.for("react.context"):60110,et=We?Symbol.for("react.concurrent_mode"):60111,tt=We?Symbol.for("react.forward_ref"):60112,rt=We?Symbol.for("react.suspense"):60113,nt=We?Symbol.for("react.memo"):60115,it=We?Symbol.for("react.lazy"):60116,st="function"===typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ot(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ye:return"Fragment";case Xe:return"Portal";case Qe:return"Profiler";case Ze:return"StrictMode";case rt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case $e:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case nt:return ot(e.type);case it:if(e=1===e._status?e._result:null)return ot(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 2:case 16:case 0:case 1:case 5:case 8:case 13:var r=e._debugOwner,n=e._debugSource,i=ot(e.type),s=null;r&&(s=ot(r.type)),r=i,i="",n?i=" (at "+n.fileName.replace(Ke,"")+":"+n.lineNumber+")":s&&(i=" (created by "+s+")"),s="\n    in "+(r||"Unknown")+i;break e;default:s=""}t+=s,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,ht={},lt={};function pt(e,t,r,n,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new pt(e,5,!1,e.toLowerCase(),null)});var vt=/[\-:]([a-z])/g;function mt(e){return e[1].toUpperCase()}function yt(e,t,r,n){var i=ft.hasOwnProperty(t)?ft[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!dt.call(lt,e)||!dt.call(ht,e)&&(ut.test(e)?lt[e]=!0:(ht[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function gt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function kt(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=gt(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&yt(e,"checked",t,!1)}function xt(e,t){wt(e,t);var r=gt(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?_t(e,t.type,r):t.hasOwnProperty("defaultValue")&&_t(e,t.type,gt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function _t(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vt,mt);ft[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vt,mt);ft[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vt,mt);ft[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ft.tabIndex=new pt("tabIndex",1,!1,"tabindex",null);var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ot(e,t,r){return(e=ce.getPooled(Ct.change,e,t,r)).type="change",Ie(r),H(e),e}var St=null,Et=null;function Bt(e){A(e)}function It(e){if(je(L(e)))return e}function At(e,t){if("change"===e)return t}var Mt=!1;function Pt(){St&&(St.detachEvent("onpropertychange",Ft),Et=St=null)}function Ft(e){"value"===e.propertyName&&It(Et)&&De(Bt,e=Ot(Et,e,qe(e)))}function Rt(e,t,r){"focus"===e?(Pt(),Et=r,(St=t).attachEvent("onpropertychange",Ft)):"blur"===e&&Pt()}function Dt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Et)}function Lt(e,t){if("click"===e)return It(t)}function Nt(e,t){if("input"===e||"change"===e)return It(t)}K&&(Mt=Ge("input")&&(!document.documentMode||9<document.documentMode));var qt={eventTypes:Ct,_isInputEventSupported:Mt,extractEvents:function(e,t,r,n){var i=t?L(t):window,s=void 0,a=void 0,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type?s=At:Ne(i)?Mt?s=Nt:(s=Dt,a=Rt):(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Lt),s&&(s=s(e,t)))return Ot(s,r,n);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&_t(i,"number",i.value)}},Gt=ce.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function jt(){return Vt}var Ht=0,Kt=0,Wt=!1,zt=!1,Xt=Gt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:jt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Wt?"mousemove"===e.type?e.screenX-t:0:(Wt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Kt;return Kt=e.screenY,zt?"mousemove"===e.type?e.screenY-t:0:(zt=!0,0)}}),Yt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qt={eventTypes:Zt,extractEvents:function(e,t,r,n){var i="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(i&&(r.relatedTarget||r.fromElement)||!s&&!i)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=t,t=(t=r.relatedTarget||r.toElement)?R(t):null):s=null,s===t)return null;var a=void 0,o=void 0,c=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,o=Zt.mouseLeave,c=Zt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Yt,o=Zt.pointerLeave,c=Zt.pointerEnter,u="pointer");var d=null==s?i:L(s);if(i=null==t?i:L(t),(e=a.getPooled(o,s,r,n)).type=u+"leave",e.target=d,e.relatedTarget=i,(r=a.getPooled(c,t,r,n)).type=u+"enter",r.target=i,r.relatedTarget=d,n=t,s&&n)e:{for(i=n,u=0,a=t=s;a;a=q(a))u++;for(a=0,c=i;c;c=q(c))a++;for(;0<u-a;)t=q(t),u--;for(;0<a-u;)i=q(i),a--;for(;u--;){if(t===i||t===i.alternate)break e;t=q(t),i=q(i)}t=null}else t=null;for(i=t,t=[];s&&s!==i&&(null===(u=s.alternate)||u!==i);)t.push(s),s=q(s);for(s=[];n&&n!==i&&(null===(u=n.alternate)||u!==i);)s.push(n),n=q(n);for(n=0;n<t.length;n++)V(t[n],"bubbled",e);for(n=s.length;0<n--;)V(s[n],"captured",r);return[e,r]}},Jt=Object.prototype.hasOwnProperty;function $t(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function er(e,t){if($t(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Jt.call(t,r[n])||!$t(e[r[n]],t[r[n]]))return!1;return!0}function tr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function rr(e){2!==tr(e)&&a("188")}function nr(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tr(e))&&a("188"),1===t?null:e;for(var r=e,n=t;;){var i=r.return,s=i?i.alternate:null;if(!i||!s)break;if(i.child===s.child){for(var o=i.child;o;){if(o===r)return rr(i),e;if(o===n)return rr(i),t;o=o.sibling}a("188")}if(r.return!==n.return)r=i,n=s;else{o=!1;for(var c=i.child;c;){if(c===r){o=!0,r=i,n=s;break}if(c===n){o=!0,n=i,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,n=i;break}if(c===n){o=!0,n=s,r=i;break}c=c.sibling}o||a("189")}}r.alternate!==n&&a("190")}return 3!==r.tag&&a("188"),r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ir=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sr=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ar=Gt.extend({relatedTarget:null});function or(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dr=Gt.extend({key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=or(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:jt,charCode:function(e){return"keypress"===e.type?or(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?or(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hr=Xt.extend({dataTransfer:null}),lr=Gt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:jt}),pr=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),fr=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vr=[["abort","abort"],[Q,"animationEnd"],[J,"animationIteration"],[$,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],mr={},yr={};function gr(e,t){var r=e[0],n="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:t},mr[e]=t,yr[r]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){gr(e,!0)}),vr.forEach(function(e){gr(e,!1)});var br={eventTypes:mr,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yr[e])&&!0===e.isInteractive},extractEvents:function(e,t,r,n){var i=yr[e];if(!i)return null;switch(e){case"keypress":if(0===or(r))return null;case"keydown":case"keyup":e=dr;break;case"blur":case"focus":e=ar;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=lr;break;case Q:case J:case $:e=ir;break;case ee:e=pr;break;case"scroll":e=Gt;break;case"wheel":e=fr;break;case"copy":case"cut":case"paste":e=sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yt;break;default:e=ce}return H(t=e.getPooled(i,t,r,n)),t}},kr=br.isInteractiveTopLevelEventType,wr=[];function xr(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n;for(n=r;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(r),r=R(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=qe(e.nativeEvent);n=e.topLevelType;for(var s=e.nativeEvent,a=null,o=0;o<y.length;o++){var c=y[o];c&&(c=c.extractEvents(n,t,s,i))&&(a=C(a,c))}A(a)}}var Tr=!0;function _r(e,t){if(!t)return null;var r=(kr(e)?Or:Sr).bind(null,e);t.addEventListener(e,r,!1)}function Cr(e,t){if(!t)return null;var r=(kr(e)?Or:Sr).bind(null,e);t.addEventListener(e,r,!0)}function Or(e,t){Pe(Sr,e,t)}function Sr(e,t){if(Tr){var r=qe(t);if(null===(r=R(r))||"number"!==typeof r.tag||2===tr(r)||(r=null),wr.length){var n=wr.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=r,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{De(xr,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wr.length&&wr.push(e)}}}var Er={},Br=0,Ir="_reactListenersID"+(""+Math.random()).slice(2);function Ar(e){return Object.prototype.hasOwnProperty.call(e,Ir)||(e[Ir]=Br++,Er[e[Ir]]={}),Er[e[Ir]]}function Mr(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fr(e,t){var r,n=Pr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pr(n)}}function Rr(){for(var e=window,t=Mr();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(r){break}t=Mr(e.document)}return t}function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Lr=K&&"documentMode"in document&&11>=document.documentMode,Nr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Gr=null,Ur=null,Vr=!1;function jr(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vr||null==qr||qr!==Mr(r)?null:("selectionStart"in(r=qr)&&Dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ur&&er(Ur,r)?null:(Ur=r,(e=ce.getPooled(Nr.select,Gr,e,t)).type="select",e.target=qr,H(e),e))}var Hr={eventTypes:Nr,extractEvents:function(e,t,r,n){var i,s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!s)){e:{s=Ar(s),i=k.onSelect;for(var a=0;a<i.length;a++){var o=i[a];if(!s.hasOwnProperty(o)||!s[o]){s=!1;break e}}s=!0}i=!s}if(i)return null;switch(s=t?L(t):window,e){case"focus":(Ne(s)||"true"===s.contentEditable)&&(qr=s,Gr=t,Ur=null);break;case"blur":Ur=Gr=qr=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vr=!1,jr(r,n);case"selectionchange":if(Lr)break;case"keydown":case"keyup":return jr(r,n)}return null}};function Kr(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Wr(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function zr(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xr(e,t){var r=t.value;null==r&&(r=t.defaultValue,null!=(t=t.children)&&(null!=r&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),r=t),null==r&&(r="")),e._wrapperState={initialValue:gt(r)}}function Yr(e,t){var r=gt(t.value),n=gt(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Zr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}B.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=N,x=D,T=L,B.injectEventPluginsByName({SimpleEventPlugin:br,EnterLeaveEventPlugin:Qt,ChangeEventPlugin:qt,SelectEventPlugin:Hr,BeforeInputEventPlugin:Ce});var Qr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Jr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $r(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Jr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var en,tn=void 0,rn=(en=function(e,t){if(e.namespaceURI!==Qr.svg||"innerHTML"in e)e.innerHTML=t;else{for((tn=tn||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=tn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return en(e,t)})}:en);function nn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var sn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];function on(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||sn.hasOwnProperty(e)&&sn[e]?(""+t).trim():t+"px"}function cn(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=on(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(sn).forEach(function(e){an.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sn[t]=sn[e]})});var un=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(e,t){t&&(un[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!==typeof t.style&&a("62",""))}function hn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ln(e,t){var r=Ar(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var n=0;n<t.length;n++){var i=t[n];if(!r.hasOwnProperty(i)||!r[i]){switch(i){case"scroll":Cr("scroll",e);break;case"focus":case"blur":Cr("focus",e),Cr("blur",e),r.blur=!0,r.focus=!0;break;case"cancel":case"close":Ge(i)&&Cr(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&_r(i,e)}r[i]=!0}}}function pn(){}var fn=null,vn=null;function mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var gn="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function wn(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var xn=[],Tn=-1;function _n(e){0>Tn||(e.current=xn[Tn],xn[Tn]=null,Tn--)}function Cn(e,t){xn[++Tn]=e.current,e.current=t}var On={},Sn={current:On},En={current:!1},Bn=On;function In(e,t){var r=e.type.contextTypes;if(!r)return On;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in r)s[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function An(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mn(e){_n(En),_n(Sn)}function Pn(e){_n(En),_n(Sn)}function Fn(e,t,r){Sn.current!==On&&a("168"),Cn(Sn,t),Cn(En,r)}function Rn(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var s in n=n.getChildContext())s in e||a("108",ot(t)||"Unknown",s);return i({},r,n)}function Dn(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||On,Bn=Sn.current,Cn(Sn,t),Cn(En,En.current),!0}function Ln(e,t,r){var n=e.stateNode;n||a("169"),r?(t=Rn(e,t,Bn),n.__reactInternalMemoizedMergedChildContext=t,_n(En),_n(Sn),Cn(Sn,t)):_n(En),Cn(En,r)}var Nn=null,qn=null;function Gn(e){return function(t){try{return e(t)}catch(r){}}}function Un(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vn(e,t,r,n){return new Un(e,t,r,n)}function jn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hn(e,t){var r=e.alternate;return null===r?((r=Vn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.firstContextDependency=e.firstContextDependency,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kn(e,t,r,n,i,s){var o=2;if(n=e,"function"===typeof e)jn(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case Ye:return Wn(r.children,i,s,t);case et:return zn(r,3|i,s,t);case Ze:return zn(r,2|i,s,t);case Qe:return(e=Vn(12,r,t,4|i)).elementType=Qe,e.type=Qe,e.expirationTime=s,e;case rt:return(e=Vn(13,r,t,i)).elementType=rt,e.type=rt,e.expirationTime=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Je:o=10;break e;case $e:o=9;break e;case tt:o=11;break e;case nt:o=14;break e;case it:o=16,n=null;break e}a("130",null==e?e:typeof e,"")}return(t=Vn(o,r,t,i)).elementType=e,t.type=n,t.expirationTime=s,t}function Wn(e,t,r,n){return(e=Vn(7,e,n,t)).expirationTime=r,e}function zn(e,t,r,n){return e=Vn(8,e,n,t),t=0===(1&t)?Ze:et,e.elementType=t,e.type=t,e.expirationTime=r,e}function Xn(e,t,r){return(e=Vn(6,e,null,t)).expirationTime=r,e}function Yn(e,t,r){return(t=Vn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zn(e,t){e.didError=!1;var r=e.earliestPendingTime;0===r?e.earliestPendingTime=e.latestPendingTime=t:r<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),$n(t,e)}function Qn(e,t){e.didError=!1;var r=e.latestPingedTime;0!==r&&r>=t&&(e.latestPingedTime=0),r=e.earliestPendingTime;var n=e.latestPendingTime;r===t?e.earliestPendingTime=n===t?e.latestPendingTime=0:n:n===t&&(e.latestPendingTime=r),r=e.earliestSuspendedTime,n=e.latestSuspendedTime,0===r?e.earliestSuspendedTime=e.latestSuspendedTime=t:r<t?e.earliestSuspendedTime=t:n>t&&(e.latestSuspendedTime=t),$n(t,e)}function Jn(e,t){var r=e.earliestPendingTime;return r>t&&(t=r),(e=e.earliestSuspendedTime)>t&&(t=e),t}function $n(e,t){var r=t.earliestSuspendedTime,n=t.latestSuspendedTime,i=t.earliestPendingTime,s=t.latestPingedTime;0===(i=0!==i?i:s)&&(0===e||n<e)&&(i=n),0!==(e=i)&&r>e&&(e=r),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}var ei=!1;function ti(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ri(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ni(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ii(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function si(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=ti(e.memoizedState))}else n=e.updateQueue,i=r.updateQueue,null===n?null===i?(n=e.updateQueue=ti(e.memoizedState),i=r.updateQueue=ti(r.memoizedState)):n=e.updateQueue=ri(i):null===i&&(i=r.updateQueue=ri(n));null===i||n===i?ii(n,t):null===n.lastUpdate||null===i.lastUpdate?(ii(n,t),ii(i,t)):(ii(n,t),i.lastUpdate=t)}function ai(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=ti(e.memoizedState):oi(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function oi(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=ri(t)),t}function ci(e,t,r,n,s,a){switch(r.tag){case 1:return"function"===typeof(e=r.payload)?e.call(a,n,s):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(s="function"===typeof(e=r.payload)?e.call(a,n,s):e)||void 0===s)break;return i({},n,s);case 2:ei=!0}return n}function ui(e,t,r,n,i){ei=!1;for(var s=(t=oi(e,t)).baseState,a=null,o=0,c=t.firstUpdate,u=s;null!==c;){var d=c.expirationTime;d<i?(null===a&&(a=c,s=u),o<d&&(o=d)):(u=ci(e,0,c,u,r,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(d=null,c=t.firstCapturedUpdate;null!==c;){var h=c.expirationTime;h<i?(null===d&&(d=c,null===a&&(s=u)),o<h&&(o=h)):(u=ci(e,0,c,u,r,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===d?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===d&&(s=u),t.baseState=s,t.firstUpdate=a,t.firstCapturedUpdate=d,e.expirationTime=o,e.memoizedState=u}function di(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),hi(t.firstEffect,r),t.firstEffect=t.lastEffect=null,hi(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function hi(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;"function"!==typeof r&&a("191",r),r.call(n)}e=e.nextEffect}}function li(e,t){return{value:e,source:t,stack:ct(t)}}var pi={current:null},fi=null,vi=null,mi=null;function yi(e,t){var r=e.type._context;Cn(pi,r._currentValue),r._currentValue=t}function gi(e){var t=pi.current;_n(pi),e.type._context._currentValue=t}function bi(e){fi=e,mi=vi=null,e.firstContextDependency=null}function ki(e,t){return mi!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(mi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===vi?(null===fi&&a("293"),fi.firstContextDependency=vi=t):vi=vi.next=t),e._currentValue}var wi={},xi={current:wi},Ti={current:wi},_i={current:wi};function Ci(e){return e===wi&&a("174"),e}function Oi(e,t){Cn(_i,t),Cn(Ti,e),Cn(xi,wi);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$r(null,"");break;default:t=$r(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}_n(xi),Cn(xi,t)}function Si(e){_n(xi),_n(Ti),_n(_i)}function Ei(e){Ci(_i.current);var t=Ci(xi.current),r=$r(t,e.type);t!==r&&(Cn(Ti,e),Cn(xi,r))}function Bi(e){Ti.current===e&&(_n(xi),_n(Ti))}function Ii(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Ai=He.ReactCurrentOwner,Mi=(new n.Component).refs;function Pi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var Fi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tr(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Ta(),i=ni(n=Ys(n,e));i.payload=t,void 0!==r&&null!==r&&(i.callback=r),Hs(),si(e,i),Js(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Ta(),i=ni(n=Ys(n,e));i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),Hs(),si(e,i),Js(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Ta(),n=ni(r=Ys(r,e));n.tag=2,void 0!==t&&null!==t&&(n.callback=t),Hs(),si(e,n),Js(e,r)}};function Ri(e,t,r,n,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!er(r,n)||!er(i,s))}function Di(e,t,r){var n=!1,i=On,s=t.contextType;return"object"===typeof s&&null!==s?s=Ai.currentDispatcher.readContext(s):(i=An(t)?Bn:Sn.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?In(e,i):On),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fi,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Li(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fi.enqueueReplaceState(t,t.state,null)}function Ni(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Mi;var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ai.currentDispatcher.readContext(s):(s=An(t)?Bn:Sn.current,i.context=In(e,s)),null!==(s=e.updateQueue)&&(ui(e,s,r,i,n),i.state=e.memoizedState),"function"===typeof(s=t.getDerivedStateFromProps)&&(Pi(e,t,s,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Fi.enqueueReplaceState(i,i.state,null),null!==(s=e.updateQueue)&&(ui(e,s,r,i,n),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var qi=Array.isArray;function Gi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;var n=void 0;r&&(1!==r.tag&&a("289"),n=r.stateNode),n||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===Mi&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!==typeof e&&a("284"),r._owner||a("290",e)}return e}function Ui(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Vi(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){return(e=Hn(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Xn(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Gi(e,t,r),n.return=e,n):((n=Kn(r.type,r.key,r.props,null,e.mode,n)).ref=Gi(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Yn(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,s){return null===t||7!==t.tag?((t=Wn(r,e.mode,n,s)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Xn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ze:return(r=Kn(t.type,t.key,t.props,null,e.mode,r)).ref=Gi(e,null,t),r.return=e,r;case Xe:return(t=Yn(t,e.mode,r)).return=e,t}if(qi(t)||at(t))return(t=Wn(t,e.mode,r,null)).return=e,t;Ui(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ze:return r.key===i?r.type===Ye?h(e,t,r.props.children,n,i):u(e,t,r,n):null;case Xe:return r.key===i?d(e,t,r,n):null}if(qi(r)||at(r))return null!==i?null:h(e,t,r,n,null);Ui(e,r)}return null}function f(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ze:return e=e.get(null===n.key?r:n.key)||null,n.type===Ye?h(t,e,n.props.children,i,n.key):u(t,e,n,i);case Xe:return d(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(qi(n)||at(n))return h(t,e=e.get(r)||null,n,i,null);Ui(t,n)}return null}function v(i,a,o,c){for(var u=null,d=null,h=a,v=a=0,m=null;null!==h&&v<o.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=p(i,h,o[v],c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,v),null===d?u=y:d.sibling=y,d=y,h=m}if(v===o.length)return r(i,h),u;if(null===h){for(;v<o.length;v++)(h=l(i,o[v],c))&&(a=s(h,a,v),null===d?u=h:d.sibling=h,d=h);return u}for(h=n(i,h);v<o.length;v++)(m=f(h,i,v,o[v],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=s(m,a,v),null===d?u=m:d.sibling=m,d=m);return e&&h.forEach(function(e){return t(i,e)}),u}function m(i,o,c,u){var d=at(c);"function"!==typeof d&&a("150"),null==(c=d.call(c))&&a("151");for(var h=d=null,v=o,m=o=0,y=null,g=c.next();null!==v&&!g.done;m++,g=c.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=p(i,v,g.value,u);if(null===b){v||(v=y);break}e&&v&&null===b.alternate&&t(i,v),o=s(b,o,m),null===h?d=b:h.sibling=b,h=b,v=y}if(g.done)return r(i,v),d;if(null===v){for(;!g.done;m++,g=c.next())null!==(g=l(i,g.value,u))&&(o=s(g,o,m),null===h?d=g:h.sibling=g,h=g);return d}for(v=n(i,v);!g.done;m++,g=c.next())null!==(g=f(v,i,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),o=s(g,o,m),null===h?d=g:h.sibling=g,h=g);return e&&v.forEach(function(e){return t(i,e)}),d}return function(e,n,s,c){var u="object"===typeof s&&null!==s&&s.type===Ye&&null===s.key;u&&(s=s.props.children);var d="object"===typeof s&&null!==s;if(d)switch(s.$$typeof){case ze:e:{for(d=s.key,u=n;null!==u;){if(u.key===d){if(7===u.tag?s.type===Ye:u.elementType===s.type){r(e,u.sibling),(n=i(u,s.type===Ye?s.props.children:s.props)).ref=Gi(e,u,s),n.return=e,e=n;break e}r(e,u);break}t(e,u),u=u.sibling}s.type===Ye?((n=Wn(s.props.children,e.mode,c,s.key)).return=e,e=n):((c=Kn(s.type,s.key,s.props,null,e.mode,c)).ref=Gi(e,n,s),c.return=e,e=c)}return o(e);case Xe:e:{for(u=s.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){r(e,n.sibling),(n=i(n,s.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Yn(s,e.mode,c)).return=e,e=n}return o(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,s)).return=e,e=n):(r(e,n),(n=Xn(s,e.mode,c)).return=e,e=n),o(e);if(qi(s))return v(e,n,s,c);if(at(s))return m(e,n,s,c);if(d&&Ui(e,s),"undefined"===typeof s&&!u)switch(e.tag){case 1:case 0:a("152",(c=e.type).displayName||c.name||"Component")}return r(e,n)}}var ji=Vi(!0),Hi=Vi(!1),Ki=null,Wi=null,zi=!1;function Xi(e,t){var r=Vn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Yi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zi(e){if(zi){var t=Wi;if(t){var r=t;if(!Yi(e,t)){if(!(t=kn(r))||!Yi(e,t))return e.effectTag|=2,zi=!1,void(Ki=e);Xi(Ki,r)}Ki=e,Wi=wn(t)}else e.effectTag|=2,zi=!1,Ki=e}}function Qi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Ki=e}function Ji(e){if(e!==Ki)return!1;if(!zi)return Qi(e),zi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=Wi;t;)Xi(e,t),t=kn(t);return Qi(e),Wi=Ki?kn(e.stateNode):null,!0}function $i(){Wi=Ki=null,zi=!1}var es=He.ReactCurrentOwner;function ts(e,t,r,n){t.child=null===e?Hi(t,null,r,n):ji(t,e.child,r,n)}function rs(e,t,r,n,i){r=r.render;var s=t.ref;return bi(t),n=r(n,s),t.effectTag|=1,ts(e,t,n,i),t.child}function ns(e,t,r,n,i,s){if(null===e){var a=r.type;return"function"!==typeof a||jn(a)||void 0!==a.defaultProps||null!==r.compare?((e=Kn(r.type,null,n,null,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,is(e,t,a,n,i,s))}return a=e.child,i<s&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:er)(i,n)&&e.ref===t.ref)?hs(e,t,s):(t.effectTag|=1,(e=Hn(a,n)).ref=t.ref,e.return=t,t.child=e)}function is(e,t,r,n,i,s){return null!==e&&i<s&&er(e.memoizedProps,n)&&e.ref===t.ref?hs(e,t,s):as(e,t,r,n,s)}function ss(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function as(e,t,r,n,i){var s=An(r)?Bn:Sn.current;return s=In(t,s),bi(t),r=r(n,s),t.effectTag|=1,ts(e,t,r,i),t.child}function os(e,t,r,n,i){if(An(r)){var s=!0;Dn(t)}else s=!1;if(bi(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Di(t,r,n),Ni(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=Ai.currentDispatcher.readContext(u):u=In(t,u=An(r)?Bn:Sn.current);var d=r.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==n||c!==u)&&Li(t,a,n,u),ei=!1;var l=t.memoizedState;c=a.state=l;var p=t.updateQueue;null!==p&&(ui(t,p,n,a,i),c=t.memoizedState),o!==n||l!==c||En.current||ei?("function"===typeof d&&(Pi(t,r,d,n),c=t.memoizedState),(o=ei||Ri(t,r,o,n,l,c,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):("function"===typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,o=t.memoizedProps,a.props=t.type===t.elementType?o:Ii(t.type,o),c=a.context,"object"===typeof(u=r.contextType)&&null!==u?u=Ai.currentDispatcher.readContext(u):u=In(t,u=An(r)?Bn:Sn.current),(h="function"===typeof(d=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==n||c!==u)&&Li(t,a,n,u),ei=!1,c=t.memoizedState,l=a.state=c,null!==(p=t.updateQueue)&&(ui(t,p,n,a,i),l=t.memoizedState),o!==n||c!==l||En.current||ei?("function"===typeof d&&(Pi(t,r,d,n),l=t.memoizedState),(d=ei||Ri(t,r,o,n,c,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,l,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,l,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=d):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return cs(e,t,r,n,s,i)}function cs(e,t,r,n,i,s){ss(e,t);var a=0!==(64&t.effectTag);if(!n&&!a)return i&&Ln(t,r,!1),hs(e,t,s);n=t.stateNode,es.current=t;var o=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=ji(t,e.child,null,s),t.child=ji(t,null,o,s)):ts(e,t,o,s),t.memoizedState=n.state,i&&Ln(t,r,!0),t.child}function us(e){var t=e.stateNode;t.pendingContext?Fn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fn(0,t.context,!1),Oi(e,t.containerInfo)}function ds(e,t,r){var n=t.mode,i=t.pendingProps,s=t.memoizedState;if(0===(64&t.effectTag)){s=null;var a=!1}else s={timedOutAt:null!==s?s.timedOutAt:0},a=!0,t.effectTag&=-65;return null===e?a?(a=i.fallback,i=Wn(null,n,0,null),0===(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),n=Wn(a,n,r,null),i.sibling=n,(r=i).return=n.return=t):r=n=Hi(t,null,i.children,r):null!==e.memoizedState?(e=(n=e.child).sibling,a?(r=i.fallback,i=Hn(n,n.pendingProps),0===(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==n.child&&(i.child=a)),n=i.sibling=Hn(e,r,e.expirationTime),r=i,i.childExpirationTime=0,r.return=n.return=t):r=n=ji(t,n.child,i.children,r)):(e=e.child,a?(a=i.fallback,(i=Wn(null,n,0,null)).child=e,0===(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(n=i.sibling=Wn(a,n,r,null)).effectTag|=2,r=i,i.childExpirationTime=0,r.return=n.return=t):n=r=ji(t,e,i.children,r)),t.memoizedState=s,t.child=r,n}function hs(e,t,r){if(null!==e&&(t.firstContextDependency=e.firstContextDependency),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(r=Hn(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Hn(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function ls(e,t,r){var n=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!En.current&&n<r){switch(t.tag){case 3:us(t),$i();break;case 5:Ei(t);break;case 1:An(t.type)&&Dn(t);break;case 4:Oi(t,t.stateNode.containerInfo);break;case 10:yi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?ds(e,t,r):null!==(t=hs(e,t,r))?t.sibling:null}return hs(e,t,r)}switch(t.expirationTime=0,t.tag){case 2:n=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=In(t,Sn.current);if(bi(t),i=n(e,i),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,An(n)){var s=!0;Dn(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=n.getDerivedStateFromProps;"function"===typeof o&&Pi(t,n,o,e),i.updater=Fi,t.stateNode=i,i._reactInternalFiber=t,Ni(t,n,e,r),t=cs(null,t,n,!0,s,r)}else t.tag=0,ts(null,t,i,r),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),s=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:throw e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"===typeof e)return jn(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===nt)return 14}return 2}(e),s=Ii(e,s),o=void 0,i){case 0:o=as(null,t,e,s,r);break;case 1:o=os(null,t,e,s,r);break;case 11:o=rs(null,t,e,s,r);break;case 14:o=ns(null,t,e,Ii(e.type,s),n,r);break;default:a("283",e)}return o;case 0:return n=t.type,i=t.pendingProps,as(e,t,n,i=t.elementType===n?i:Ii(n,i),r);case 1:return n=t.type,i=t.pendingProps,os(e,t,n,i=t.elementType===n?i:Ii(n,i),r);case 3:return us(t),null===(n=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,ui(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===i?($i(),t=hs(e,t,r)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(Wi=wn(t.stateNode.containerInfo),Ki=t,i=zi=!0),i?(t.effectTag|=2,t.child=Hi(t,null,n,r)):(ts(e,t,n,r),$i()),t=t.child),t;case 5:return Ei(t),null===e&&Zi(t),n=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,yn(n,i)?o=null:null!==s&&yn(n,s)&&(t.effectTag|=16),ss(e,t),1!==r&&1&t.mode&&i.hidden?(t.expirationTime=1,t=null):(ts(e,t,o,r),t=t.child),t;case 6:return null===e&&Zi(t),null;case 13:return ds(e,t,r);case 4:return Oi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ji(t,null,n,r):ts(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,rs(e,t,n,i=t.elementType===n?i:Ii(n,i),r);case 7:return ts(e,t,t.pendingProps,r),t.child;case 8:case 12:return ts(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,yi(t,s=i.value),null!==o){var c=o.value;if(0===(s=c===s&&(0!==c||1/c===1/s)||c!==c&&s!==s?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(c,s):1073741823))){if(o.children===i.children&&!En.current){t=hs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){if(null!==(c=o.firstContextDependency))do{if(c.context===n&&0!==(c.observedBits&s)){if(1===o.tag){var u=ni(r);u.tag=2,si(o,u)}o.expirationTime<r&&(o.expirationTime=r),null!==(u=o.alternate)&&u.expirationTime<r&&(u.expirationTime=r);for(var d=o.return;null!==d;){if(u=d.alternate,d.childExpirationTime<r)d.childExpirationTime=r,null!==u&&u.childExpirationTime<r&&(u.childExpirationTime=r);else{if(!(null!==u&&u.childExpirationTime<r))break;u.childExpirationTime=r}d=d.return}}u=o.child,c=c.next}while(null!==c);else u=10===o.tag&&o.type===t.type?null:o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}}ts(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(s=t.pendingProps).children,bi(t),n=n(i=ki(i,s.unstable_observedBits)),t.effectTag|=1,ts(e,t,n,r),t.child;case 14:return ns(e,t,i=t.type,s=Ii(i.type,t.pendingProps),n,r);case 15:return is(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ii(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,An(n)?(e=!0,Dn(t)):e=!1,bi(t),Di(t,n,i),Ni(t,n,i,r),cs(null,t,n,!0,e,r);default:a("156")}}function ps(e){e.effectTag|=4}var fs=void 0,vs=void 0,ms=void 0,ys=void 0;function gs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ct(r)),null!==r&&ot(r.type),t=t.value,null!==e&&1===e.tag&&ot(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function bs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Xs(e,r)}else t.current=null}function ks(e){switch("function"===typeof qn&&qn(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var r=t=t.next;do{var n=r.destroy;if(null!==n){var i=e;try{n()}catch(s){Xs(i,s)}}r=r.next}while(r!==t)}break;case 1:if(bs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Xs(e,s)}break;case 5:bs(e);break;case 4:Ts(e)}}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t)){var r=t;break e}t=t.return}a("160"),r=void 0}var n=t=void 0;switch(r.tag){case 5:t=r.stateNode,n=!1;break;case 3:case 4:t=r.stateNode.containerInfo,n=!0;break;default:a("161")}16&r.effectTag&&(nn(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ws(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(r)if(n){var s=t,o=i.stateNode,c=r;8===s.nodeType?s.parentNode.insertBefore(o,c):s.insertBefore(o,c)}else t.insertBefore(i.stateNode,r);else n?(o=t,c=i.stateNode,8===o.nodeType?(s=o.parentNode).insertBefore(c,o):(s=o).appendChild(c),null!==(o=o._reactRootContainer)&&void 0!==o||null!==s.onclick||(s.onclick=pn)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ts(e){for(var t=e,r=!1,n=void 0,i=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&a("160"),r.tag){case 5:n=r.stateNode,i=!1;break e;case 3:case 4:n=r.stateNode.containerInfo,i=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var s=t,o=s;;)if(ks(o),null!==o.child&&4!==o.tag)o.child.return=o,o=o.child;else{if(o===s)break;for(;null===o.sibling;){if(null===o.return||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}i?(s=n,o=t.stateNode,8===s.nodeType?s.parentNode.removeChild(o):s.removeChild(o)):n.removeChild(t.stateNode)}else if(4===t.tag?(n=t.stateNode.containerInfo,i=!0):ks(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(r[F]=n,"input"===e&&"radio"===n.type&&null!=n.name&&wt(r,n),hn(e,i),t=hn(e,n),i=0;i<s.length;i+=2){var o=s[i],c=s[i+1];"style"===o?cn(r,c):"dangerouslySetInnerHTML"===o?rn(r,c):"children"===o?nn(r,c):yt(r,o,c,t)}switch(e){case"input":xt(r,n);break;case"textarea":Yr(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Wr(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Wr(r,!!n.multiple,n.defaultValue,!0):Wr(r,!!n.multiple,n.multiple?[]:"",!1))}}}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(e=t,null===(r=t.memoizedState)?n=!1:(n=!0,e=t.child,0===r.timedOutAt&&(r.timedOutAt=Ta())),null!==e)e:for(t=r=e;;){if(5===t.tag)e=t.stateNode,n?e.style.display="none":(e=t.stateNode,s=void 0!==(s=t.memoizedProps.style)&&null!==s&&s.hasOwnProperty("display")?s.display:null,e.style.display=on("display",s));else if(6===t.tag)t.stateNode.nodeValue=n?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState){(e=t.child.sibling).return=t,t=e;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===r)break e;for(;null===t.sibling;){if(null===t.return||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}break;case 17:break;default:a("163")}}function Cs(e,t,r){(r=ni(r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pa(n),gs(e,t)},r}function Os(e,t,r){(r=ni(r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Vs?Vs=new Set([this]):Vs.add(this));var r=t.value,i=t.stack;gs(e,t),this.componentDidCatch(r,{componentStack:null!==i?i:""})}),r}function Ss(e){switch(e.tag){case 1:An(e.type)&&Mn();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Si(),Pn(),0!==(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Bi(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 4:return Si(),null;case 10:return gi(e),null;default:return null}}fs=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},vs=function(){},ms=function(e,t,r,n,s){var a=e.memoizedProps;if(a!==n){var o=t.stateNode;switch(Ci(xi.current),e=null,r){case"input":a=bt(o,a),n=bt(o,n),e=[];break;case"option":a=Kr(o,a),n=Kr(o,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=zr(o,a),n=zr(o,n),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(o.onclick=pn)}dn(r,n),o=r=void 0;var c=null;for(r in a)if(!n.hasOwnProperty(r)&&a.hasOwnProperty(r)&&null!=a[r])if("style"===r){var u=a[r];for(o in u)u.hasOwnProperty(o)&&(c||(c={}),c[o]="")}else"dangerouslySetInnerHTML"!==r&&"children"!==r&&"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(b.hasOwnProperty(r)?e||(e=[]):(e=e||[]).push(r,null));for(r in n){var d=n[r];if(u=null!=a?a[r]:void 0,n.hasOwnProperty(r)&&d!==u&&(null!=d||null!=u))if("style"===r)if(u){for(o in u)!u.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(c||(c={}),c[o]="");for(o in d)d.hasOwnProperty(o)&&u[o]!==d[o]&&(c||(c={}),c[o]=d[o])}else c||(e||(e=[]),e.push(r,c)),c=d;else"dangerouslySetInnerHTML"===r?(d=d?d.__html:void 0,u=u?u.__html:void 0,null!=d&&u!==d&&(e=e||[]).push(r,""+d)):"children"===r?u===d||"string"!==typeof d&&"number"!==typeof d||(e=e||[]).push(r,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&(b.hasOwnProperty(r)?(null!=d&&ln(s,r),e||u===d||(e=[])):(e=e||[]).push(r,d))}c&&(e=e||[]).push("style",c),s=e,(t.updateQueue=s)&&ps(t)}},ys=function(e,t,r,n){r!==n&&ps(t)};var Es={readContext:ki},Bs=He.ReactCurrentOwner,Is=1073741822,As=0,Ms=!1,Ps=null,Fs=null,Rs=0,Ds=-1,Ls=!1,Ns=null,qs=!1,Gs=null,Us=null,Vs=null;function js(){if(null!==Ps)for(var e=Ps.return;null!==e;){var t=e;switch(t.tag){case 1:var r=t.type.childContextTypes;null!==r&&void 0!==r&&Mn();break;case 3:Si(),Pn();break;case 5:Bi(t);break;case 4:Si();break;case 10:gi(t)}e=e.return}Fs=null,Rs=0,Ds=-1,Ls=!1,Ps=null}function Hs(){null!==Us&&(s.unstable_cancelCallback(Gs),Us())}function Ks(e){for(;;){var t=e.alternate,r=e.return,n=e.sibling;if(0===(1024&e.effectTag)){Ps=e;e:{var s=t,o=Rs,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:An(t.type)&&Mn();break;case 3:Si(),Pn(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==s&&null!==s.child||(Ji(t),t.effectTag&=-3),vs(t);break;case 5:Bi(t);var u=Ci(_i.current);if(o=t.type,null!==s&&null!=t.stateNode)ms(s,t,o,c,u),s.ref!==t.ref&&(t.effectTag|=128);else if(c){var d=Ci(xi.current);if(Ji(t)){s=(c=t).stateNode;var h=c.type,l=c.memoizedProps,p=u;switch(s[P]=c,s[F]=l,o=void 0,u=h){case"iframe":case"object":_r("load",s);break;case"video":case"audio":for(h=0;h<te.length;h++)_r(te[h],s);break;case"source":_r("error",s);break;case"img":case"image":case"link":_r("error",s),_r("load",s);break;case"form":_r("reset",s),_r("submit",s);break;case"details":_r("toggle",s);break;case"input":kt(s,l),_r("invalid",s),ln(p,"onChange");break;case"select":s._wrapperState={wasMultiple:!!l.multiple},_r("invalid",s),ln(p,"onChange");break;case"textarea":Xr(s,l),_r("invalid",s),ln(p,"onChange")}for(o in dn(u,l),h=null,l)l.hasOwnProperty(o)&&(d=l[o],"children"===o?"string"===typeof d?s.textContent!==d&&(h=["children",d]):"number"===typeof d&&s.textContent!==""+d&&(h=["children",""+d]):b.hasOwnProperty(o)&&null!=d&&ln(p,o));switch(u){case"input":Ve(s),Tt(s,l,!0);break;case"textarea":Ve(s),Zr(s);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(s.onclick=pn)}o=h,c.updateQueue=o,(c=null!==o)&&ps(t)}else{l=t,s=o,p=c,h=9===u.nodeType?u:u.ownerDocument,d===Qr.html&&(d=Jr(s)),d===Qr.html?"script"===s?((s=h.createElement("div")).innerHTML="<script><\/script>",h=s.removeChild(s.firstChild)):"string"===typeof p.is?h=h.createElement(s,{is:p.is}):(h=h.createElement(s),"select"===s&&p.multiple&&(h.multiple=!0)):h=h.createElementNS(d,s),(s=h)[P]=l,s[F]=c,fs(s,t,!1,!1),p=s;var f=u,v=hn(h=o,l=c);switch(h){case"iframe":case"object":_r("load",p),u=l;break;case"video":case"audio":for(u=0;u<te.length;u++)_r(te[u],p);u=l;break;case"source":_r("error",p),u=l;break;case"img":case"image":case"link":_r("error",p),_r("load",p),u=l;break;case"form":_r("reset",p),_r("submit",p),u=l;break;case"details":_r("toggle",p),u=l;break;case"input":kt(p,l),u=bt(p,l),_r("invalid",p),ln(f,"onChange");break;case"option":u=Kr(p,l);break;case"select":p._wrapperState={wasMultiple:!!l.multiple},u=i({},l,{value:void 0}),_r("invalid",p),ln(f,"onChange");break;case"textarea":Xr(p,l),u=zr(p,l),_r("invalid",p),ln(f,"onChange");break;default:u=l}dn(h,u),d=void 0;var m=h,y=p,g=u;for(d in g)if(g.hasOwnProperty(d)){var k=g[d];"style"===d?cn(y,k):"dangerouslySetInnerHTML"===d?null!=(k=k?k.__html:void 0)&&rn(y,k):"children"===d?"string"===typeof k?("textarea"!==m||""!==k)&&nn(y,k):"number"===typeof k&&nn(y,""+k):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(b.hasOwnProperty(d)?null!=k&&ln(f,d):null!=k&&yt(y,d,k,v))}switch(h){case"input":Ve(p),Tt(p,l,!1);break;case"textarea":Ve(p),Zr(p);break;case"option":null!=l.value&&p.setAttribute("value",""+gt(l.value));break;case"select":(u=p).multiple=!!l.multiple,null!=(p=l.value)?Wr(u,!!l.multiple,p,!1):null!=l.defaultValue&&Wr(u,!!l.multiple,l.defaultValue,!0);break;default:"function"===typeof u.onClick&&(p.onclick=pn)}(c=mn(o,c))&&ps(t),t.stateNode=s}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:s&&null!=t.stateNode?ys(s,t,s.memoizedProps,c):("string"!==typeof c&&(null===t.stateNode&&a("166")),s=Ci(_i.current),Ci(xi.current),Ji(t)?(o=(c=t).stateNode,s=c.memoizedProps,o[P]=c,(c=o.nodeValue!==s)&&ps(t)):(o=t,(c=(9===s.nodeType?s:s.ownerDocument).createTextNode(c))[P]=t,o.stateNode=c));break;case 11:break;case 13:if(c=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=o,Ps=t;break e}c=null!==c,o=null!==s&&null!==s.memoizedState,null!==s&&!c&&o&&(null!==(s=s.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=s,s.nextEffect=u):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),(c!==o||0===(1&t.effectTag)&&c)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Si(),vs(t);break;case 10:gi(t);break;case 9:case 14:break;case 17:An(t.type)&&Mn();break;default:a("156")}Ps=null}if(t=e,1===Rs||1!==t.childExpirationTime){for(c=0,o=t.child;null!==o;)(s=o.expirationTime)>c&&(c=s),(u=o.childExpirationTime)>c&&(c=u),o=o.sibling;t.childExpirationTime=c}if(null!==Ps)return Ps;null!==r&&0===(1024&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e))}else{if(null!==(e=Ss(e)))return e.effectTag&=1023,e;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=1024)}if(null!==n)return n;if(null===r)break;e=r}return null}function Ws(e){var t=ls(e.alternate,e,Rs);return e.memoizedProps=e.pendingProps,null===t&&(t=Ks(e)),Bs.current=null,t}function zs(e,t){Ms&&a("243"),Hs(),Ms=!0,Bs.currentDispatcher=Es;var r=e.nextExpirationTimeToWorkOn;r===Rs&&e===Fs&&null!==Ps||(js(),Rs=r,Ps=Hn((Fs=e).current,null),e.pendingCommitExpirationTime=0);for(var n=!1;;){try{if(t)for(;null!==Ps&&!Sa();)Ps=Ws(Ps);else for(;null!==Ps;)Ps=Ws(Ps)}catch(v){if(mi=vi=fi=null,null===Ps)n=!0,Pa(v);else{null===Ps&&a("271");var i=Ps,s=i.return;if(null!==s){e:{var o=e,c=s,u=i,d=v;if(s=Rs,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==d&&"object"===typeof d&&"function"===typeof d.then){var h=d;d=c;var l=-1,p=-1;do{if(13===d.tag){var f=d.alternate;if(null!==f&&null!==(f=f.memoizedState)){p=10*(1073741822-f.timedOutAt);break}"number"===typeof(f=d.pendingProps.maxDuration)&&(0>=f?l=0:(-1===l||f<l)&&(l=f))}d=d.return}while(null!==d);d=c;do{if((f=13===d.tag)&&(f=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),f){if(c=Zs.bind(null,o,d,u,0===(1&d.mode)?1073741823:s),h.then(c,c),0===(1&d.mode)){d.effectTag|=64,u.effectTag&=-1957,1===u.tag&&null===u.alternate&&(u.tag=17),u.expirationTime=s;break e}-1===l?o=1073741823:(-1===p&&(p=10*(1073741822-Jn(o,s))-5e3),o=p+l),0<=o&&Ds<o&&(Ds=o),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((ot(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(u))}Ls=!0,d=li(d,u),o=c;do{switch(o.tag){case 3:u=d,o.effectTag|=2048,o.expirationTime=s,ai(o,s=Cs(o,u,s));break e;case 1:if(u=d,c=o.type,h=o.stateNode,0===(64&o.effectTag)&&("function"===typeof c.getDerivedStateFromError||null!==h&&"function"===typeof h.componentDidCatch&&(null===Vs||!Vs.has(h)))){o.effectTag|=2048,o.expirationTime=s,ai(o,s=Os(o,u,s));break e}}o=o.return}while(null!==o)}Ps=Ks(i);continue}n=!0,Pa(v)}}break}if(Ms=!1,mi=vi=fi=Bs.currentDispatcher=null,n)Fs=null,e.finishedWork=null;else if(null!==Ps)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Fs=null,Ls){if(i=e.latestPendingTime,s=e.latestSuspendedTime,o=e.latestPingedTime,0!==i&&i<r||0!==s&&s<r||0!==o&&o<r)return Qn(e,r),void xa(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void xa(e,n,r,t,-1)}t&&-1!==Ds?(Qn(e,r),(t=10*(1073741822-Jn(e,r)))<Ds&&(Ds=t),t=10*(1073741822-Ta()),t=Ds-t,xa(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Xs(e,t){for(var r=e.return;null!==r;){switch(r.tag){case 1:var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Vs||!Vs.has(n)))return si(r,e=Os(r,e=li(t,e),1073741823)),void Js(r,1073741823);break;case 3:return si(r,e=Cs(r,e=li(t,e),1073741823)),void Js(r,1073741823)}r=r.return}3===e.tag&&(si(e,r=Cs(e,r=li(t,e),1073741823)),Js(e,1073741823))}function Ys(e,t){return 0!==As?e=As:Ms?e=qs?1073741823:Rs:1&t.mode?(e=la?1073741822-10*(1+((1073741822-e+15)/10|0)):1073741822-25*(1+((1073741822-e+500)/25|0)),null!==Fs&&e===Rs&&--e):e=1073741823,la&&(0===oa||e<oa)&&(oa=e),e}function Zs(e,t,r,n){var i=e.earliestSuspendedTime,s=e.latestSuspendedTime;if(0!==i&&n<=i&&n>=s){s=i=n,e.didError=!1;var a=e.latestPingedTime;(0===a||a>s)&&(e.latestPingedTime=s),$n(s,e)}else Zn(e,i=Ys(i=Ta(),t));0!==(1&t.mode)&&e===Fs&&Rs===n&&(Fs=null),Qs(t,i),0===(1&t.mode)&&(Qs(r,i),1===r.tag&&null!==r.stateNode&&((t=ni(i)).tag=2,si(r,t))),0!==(r=e.expirationTime)&&_a(e,r)}function Qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return i}function Js(e,t){null!==(e=Qs(e,t))&&(!Ms&&0!==Rs&&t>Rs&&js(),Zn(e,t),Ms&&!qs&&Fs===e||_a(e,e.expirationTime),ga>ya&&(ga=0,a("185")))}function $s(e,t,r,n,i){var s=As;As=1073741823;try{return e(t,r,n,i)}finally{As=s}}var ea=null,ta=null,ra=0,na=void 0,ia=!1,sa=null,aa=0,oa=0,ca=!1,ua=null,da=!1,ha=!1,la=!1,pa=null,fa=s.unstable_now(),va=1073741822-(fa/10|0),ma=va,ya=50,ga=0,ba=null;function ka(){va=1073741822-((s.unstable_now()-fa)/10|0)}function wa(e,t){if(0!==ra){if(t<ra)return;null!==na&&s.unstable_cancelCallback(na)}ra=t,e=s.unstable_now()-fa,na=s.unstable_scheduleCallback(Ea,{timeout:10*(1073741822-t)-e})}function xa(e,t,r,n,i){e.expirationTime=n,0!==i||Sa()?0<i&&(e.timeoutHandle=gn(function(e,t,r){e.pendingCommitExpirationTime=r,e.finishedWork=t,ka(),ma=va,Ia(e,r)}.bind(null,e,t,r),i)):(e.pendingCommitExpirationTime=r,e.finishedWork=t)}function Ta(){return ia?ma:(Ca(),0!==aa&&1!==aa||(ka(),ma=va),ma)}function _a(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ta?(ea=ta=e,e.nextScheduledRoot=e):(ta=ta.nextScheduledRoot=e).nextScheduledRoot=ea):t>e.expirationTime&&(e.expirationTime=t),ia||(da?ha&&(sa=e,aa=1073741823,Aa(e,1073741823,!1)):1073741823===t?Ba(1073741823,!1):wa(e,t))}function Ca(){var e=0,t=null;if(null!==ta)for(var r=ta,n=ea;null!==n;){var i=n.expirationTime;if(0===i){if((null===r||null===ta)&&a("244"),n===n.nextScheduledRoot){ea=ta=n.nextScheduledRoot=null;break}if(n===ea)ea=i=n.nextScheduledRoot,ta.nextScheduledRoot=i,n.nextScheduledRoot=null;else{if(n===ta){(ta=r).nextScheduledRoot=ea,n.nextScheduledRoot=null;break}r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=r.nextScheduledRoot}else{if(i>e&&(e=i,t=n),n===ta)break;if(1073741823===e)break;r=n,n=n.nextScheduledRoot}}sa=t,aa=e}var Oa=!1;function Sa(){return!!Oa||!!s.unstable_shouldYield()&&(Oa=!0)}function Ea(){try{if(!Sa()&&null!==ea){ka();var e=ea;do{var t=e.expirationTime;0!==t&&va<=t&&(e.nextExpirationTimeToWorkOn=va),e=e.nextScheduledRoot}while(e!==ea)}Ba(0,!0)}finally{Oa=!1}}function Ba(e,t){if(Ca(),t)for(ka(),ma=va;null!==sa&&0!==aa&&e<=aa&&!(Oa&&va>aa);)Aa(sa,aa,va>aa),Ca(),ka(),ma=va;else for(;null!==sa&&0!==aa&&e<=aa;)Aa(sa,aa,!1),Ca();if(t&&(ra=0,na=null),0!==aa&&wa(sa,aa),ga=0,ba=null,null!==pa)for(e=pa,pa=null,t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(n){ca||(ca=!0,ua=n)}}if(ca)throw e=ua,ua=null,ca=!1,e}function Ia(e,t){ia&&a("253"),sa=e,aa=t,Aa(e,t,!1),Ba(1073741823,!1)}function Aa(e,t,r){if(ia&&a("245"),ia=!0,r){var n=e.finishedWork;null!==n?Ma(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,bn(n)),zs(e,r),null!==(n=e.finishedWork)&&(Sa()?e.finishedWork=n:Ma(e,n,t)))}else null!==(n=e.finishedWork)?Ma(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,bn(n)),zs(e,r),null!==(n=e.finishedWork)&&Ma(e,n,t));ia=!1}function Ma(e,t,r){var n=e.firstBatch;if(null!==n&&n._expirationTime>=r&&(null===pa?pa=[n]:pa.push(n),n._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ba?ga++:(ba=e,ga=0),qs=Ms=!0,e.current===t&&a("177"),0===(r=e.pendingCommitExpirationTime)&&a("261"),e.pendingCommitExpirationTime=0,n=t.expirationTime;var i=t.childExpirationTime;if(n=i>n?i:n,e.didError=!1,0===n?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(i=e.latestPendingTime)&&(i>n?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>n&&(e.earliestPendingTime=e.latestPendingTime)),0===(i=e.earliestSuspendedTime)?Zn(e,n):n<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zn(e,n)):n>i&&Zn(e,n)),$n(0,e),Bs.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,n=t.firstEffect):n=t:n=t.firstEffect,fn=Tr,Dr(i=Rr())){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{var o=(s=(s=i.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(o&&0!==o.rangeCount){s=o.anchorNode;var c=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{s.nodeType,u.nodeType}catch(D){s=null;break e}var d=0,h=-1,l=-1,p=0,f=0,v=i,m=null;t:for(;;){for(var y;v!==s||0!==c&&3!==v.nodeType||(h=d+c),v!==u||0!==o&&3!==v.nodeType||(l=d+o),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===i)break t;if(m===s&&++p===c&&(h=d),m===u&&++f===o&&(l=d),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}s=-1===h||-1===l?null:{start:h,end:l}}else s=null}s=s||{start:0,end:0}}else s=null;for(vn={focusedElem:i,selectionRange:s},Tr=!1,Ns=n;null!==Ns;){i=!1,s=void 0;try{for(;null!==Ns;){if(256&Ns.effectTag)e:{var g=Ns.alternate;switch((c=Ns).tag){case 0:case 11:case 15:break e;case 1:if(256&c.effectTag&&null!==g){var b=g.memoizedProps,k=g.memoizedState,w=c.stateNode,x=w.getSnapshotBeforeUpdate(c.elementType===c.type?b:Ii(c.type,b),k);w.__reactInternalSnapshotBeforeUpdate=x}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Ns=Ns.nextEffect}}catch(D){i=!0,s=D}i&&(null===Ns&&a("178"),Xs(Ns,s),null!==Ns&&(Ns=Ns.nextEffect))}for(Ns=n;null!==Ns;){g=!1,b=void 0;try{for(;null!==Ns;){var T=Ns.effectTag;if(16&T&&nn(Ns.stateNode,""),128&T){var _=Ns.alternate;if(null!==_){var C=_.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(14&T){case 2:xs(Ns),Ns.effectTag&=-3;break;case 6:xs(Ns),Ns.effectTag&=-3,_s(Ns.alternate,Ns);break;case 4:_s(Ns.alternate,Ns);break;case 8:Ts(k=Ns),k.return=null,k.child=null,k.alternate&&(k.alternate.child=null,k.alternate.return=null)}Ns=Ns.nextEffect}}catch(D){g=!0,b=D}g&&(null===Ns&&a("178"),Xs(Ns,b),null!==Ns&&(Ns=Ns.nextEffect))}if(C=vn,_=Rr(),T=C.focusedElem,b=C.selectionRange,_!==T&&T&&T.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(T.ownerDocument.documentElement,T)){null!==b&&Dr(T)&&(_=b.start,void 0===(C=b.end)&&(C=_),"selectionStart"in T?(T.selectionStart=_,T.selectionEnd=Math.min(C,T.value.length)):(C=(_=T.ownerDocument||document)&&_.defaultView||window).getSelection&&(C=C.getSelection(),k=T.textContent.length,g=Math.min(b.start,k),b=void 0===b.end?g:Math.min(b.end,k),!C.extend&&g>b&&(k=b,b=g,g=k),k=Fr(T,g),w=Fr(T,b),k&&w&&(1!==C.rangeCount||C.anchorNode!==k.node||C.anchorOffset!==k.offset||C.focusNode!==w.node||C.focusOffset!==w.offset)&&((_=_.createRange()).setStart(k.node,k.offset),C.removeAllRanges(),g>b?(C.addRange(_),C.extend(w.node,w.offset)):(_.setEnd(w.node,w.offset),C.addRange(_))))),_=[];for(C=T;C=C.parentNode;)1===C.nodeType&&_.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof T.focus&&T.focus(),T=0;T<_.length;T++)(C=_[T]).element.scrollLeft=C.left,C.element.scrollTop=C.top}for(vn=null,Tr=!!fn,fn=null,e.current=t,Ns=n;null!==Ns;){n=!1,T=void 0;try{for(_=r;null!==Ns;){var O=Ns.effectTag;if(36&O){var S=Ns.alternate;switch(g=_,(C=Ns).tag){case 0:case 11:case 15:break;case 1:var E=C.stateNode;if(4&C.effectTag)if(null===S)E.componentDidMount();else{var B=C.elementType===C.type?S.memoizedProps:Ii(C.type,S.memoizedProps);E.componentDidUpdate(B,S.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var I=C.updateQueue;null!==I&&di(0,I,E);break;case 3:var A=C.updateQueue;if(null!==A){if(b=null,null!==C.child)switch(C.child.tag){case 5:b=C.child.stateNode;break;case 1:b=C.child.stateNode}di(0,A,b)}break;case 5:var M=C.stateNode;null===S&&4&C.effectTag&&mn(C.type,C.memoizedProps)&&M.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}if(128&O){var P=Ns.ref;if(null!==P){var F=Ns.stateNode;switch(Ns.tag){case 5:var R=F;break;default:R=F}"function"===typeof P?P(R):P.current=R}}Ns=Ns.nextEffect}}catch(D){n=!0,T=D}n&&(null===Ns&&a("178"),Xs(Ns,T),null!==Ns&&(Ns=Ns.nextEffect))}Ms=qs=!1,"function"===typeof Nn&&Nn(t.stateNode),O=t.expirationTime,0===(t=(t=t.childExpirationTime)>O?t:O)&&(Vs=null),e.expirationTime=t,e.finishedWork=null}function Pa(e){null===sa&&a("246"),sa.expirationTime=0,ca||(ca=!0,ua=e)}function Fa(e,t){var r=da;da=!0;try{return e(t)}finally{(da=r)||ia||Ba(1073741823,!1)}}function Ra(e,t){if(da&&!ha){ha=!0;try{return e(t)}finally{ha=!1}}return e(t)}function Da(e,t,r){if(la)return e(t,r);da||ia||0===oa||(Ba(oa,!1),oa=0);var n=la,i=da;da=la=!0;try{return e(t,r)}finally{la=n,(da=i)||ia||Ba(1073741823,!1)}}function La(e,t,r,n,i){var s=t.current;e:if(r){t:{2===tr(r=r._reactInternalFiber)&&1===r.tag||a("170");var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(An(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);a("171"),o=void 0}if(1===r.tag){var c=r.type;if(An(c)){r=Rn(r,c,o);break e}}r=o}else r=On;return null===t.context?t.context=r:t.pendingContext=r,t=i,(i=ni(n)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Hs(),si(s,i),Js(s,n),n}function Na(e,t,r,n){var i=t.current;return La(e,t,r,i=Ys(Ta(),i),n)}function qa(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ga(e){var t=1073741822-25*(1+((1073741822-Ta()+500)/25|0));t>=Is&&(t=Is-1),this._expirationTime=Is=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ua(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Va(e,t,r){e={current:t=Vn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:r,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function ja(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ha(e,t,r,n,i){ja(r)||a("200");var s=r._reactRootContainer;if(s){if("function"===typeof i){var o=i;i=function(){var e=qa(s._internalRoot);o.call(e)}}null!=e?s.legacy_renderSubtreeIntoContainer(e,t,i):s.render(t,i)}else{if(s=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Va(e,!1,t)}(r,n),"function"===typeof i){var c=i;i=function(){var e=qa(s._internalRoot);c.call(e)}}Ra(function(){null!=e?s.legacy_renderSubtreeIntoContainer(e,t,i):s.render(t,i)})}return qa(s._internalRoot)}function Ka(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ja(t)||a("200"),function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}Oe=function(e,t,r){switch(t){case"input":if(xt(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=N(n);i||a("90"),je(n),xt(n,i)}}}break;case"textarea":Yr(e,r);break;case"select":null!=(t=r.value)&&Wr(e,!!r.multiple,t,!1)}},Ga.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,r=this._expirationTime,n=new Ua;return La(e,t,null,r,n._onCommit),n},Ga.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ga.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,i=t;i!==this;)n=i,i=i._next;null===n&&a("251"),n._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ia(e,r),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ga.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ua.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ua.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!==typeof r&&a("191",r),r()}}},Va.prototype.render=function(e,t){var r=this._internalRoot,n=new Ua;return null!==(t=void 0===t?null:t)&&n.then(t),Na(e,r,null,n._onCommit),n},Va.prototype.unmount=function(e){var t=this._internalRoot,r=new Ua;return null!==(e=void 0===e?null:e)&&r.then(e),Na(null,t,null,r._onCommit),r},Va.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var n=this._internalRoot,i=new Ua;return null!==(r=void 0===r?null:r)&&i.then(r),Na(t,n,e,i._onCommit),i},Va.prototype.createBatch=function(){var e=new Ga(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime>=t;)r=n,n=n._next;e._next=n,null!==r&&(r._next=e)}return e},Me=Fa,Pe=Da,Fe=function(){ia||0===oa||(Ba(oa,!1),oa=0)};var Wa={createPortal:Ka,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=nr(t))?null:e.stateNode},hydrate:function(e,t,r){return Ha(null,e,t,!0,r)},render:function(e,t,r){return Ha(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){return(null==e||void 0===e._reactInternalFiber)&&a("38"),Ha(e,t,r,!1,n)},unmountComponentAtNode:function(e){return ja(e)||a("40"),!!e._reactRootContainer&&(Ra(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ka.apply(void 0,arguments)},unstable_batchedUpdates:Fa,unstable_interactiveUpdates:Da,flushSync:function(e,t){ia&&a("187");var r=da;da=!0;try{return $s(e,t)}finally{da=r,Ba(1073741823,!1)}},unstable_flushControlled:function(e){var t=da;da=!0;try{$s(e)}finally{(da=t)||ia||Ba(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[D,L,N,B.injectEventPluginsByName,g,H,function(e){O(e,j)},Ie,Ae,Sr,A]},unstable_createRoot:function(e,t){return ja(e)||a("299","unstable_createRoot"),new Va(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Nn=Gn(function(e){return t.onCommitFiberRoot(r,e)}),qn=Gn(function(e){return t.onCommitFiberUnmount(r,e)})}catch(n){}})(i({},e,{findHostInstanceByFiber:function(e){return null===(e=nr(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:R,bundleType:0,version:"16.6.3",rendererPackageName:"react-dom"});var za={default:Wa},Xa=za&&Wa||za;e.exports=Xa.default||Xa},function(e,t,r){"use strict";e.exports=r(293)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=null,n=!1,i=3,s=-1,a=-1,o=!1,c=!1;function u(){if(!o){var e=r.expirationTime;c?T():c=!0,x(l,e)}}function d(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var s=i,o=a;i=e,a=t;try{var c=n()}finally{i=s,a=o}if("function"===typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=c.next=c.previous=c;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=c,u()),(t=n.previous).next=n.previous=c,c.next=n,c.previous=t}}function h(){if(-1===s&&null!==r&&1===r.priorityLevel){o=!0;try{do{d()}while(null!==r&&1===r.priorityLevel)}finally{o=!1,null!==r?u():c=!1}}}function l(e){o=!0;var i=n;n=e;try{if(e)for(;null!==r;){var s=t.unstable_now();if(!(r.expirationTime<=s))break;do{d()}while(null!==r&&r.expirationTime<=s)}else if(null!==r)do{d()}while(null!==r&&!_())}finally{o=!1,n=i,null!==r?u():c=!1,h()}}var p,f,v=Date,m="function"===typeof setTimeout?setTimeout:void 0,y="function"===typeof clearTimeout?clearTimeout:void 0,g="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function k(e){p=g(function(t){y(f),e(t)}),f=m(function(){b(p),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return v.now()};var x,T,_,C=null;if("undefined"!==typeof window?C=window:"undefined"!==typeof e&&(C=e),C&&C._schedMock){var O=C._schedMock;x=O[0],T=O[1],_=O[2],t.unstable_now=O[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var S=null,E=function(e){if(null!==S)try{S(e)}finally{S=null}};x=function(e){null!==S?setTimeout(x,0,e):(S=e,setTimeout(E,0,!1))},T=function(){S=null},_=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var B=null,I=!1,A=-1,M=!1,P=!1,F=0,R=33,D=33;_=function(){return F<=t.unstable_now()};var L=new MessageChannel,N=L.port2;L.port1.onmessage=function(){I=!1;var e=B,r=A;B=null,A=-1;var n=t.unstable_now(),i=!1;if(0>=F-n){if(!(-1!==r&&r<=n))return M||(M=!0,k(q)),B=e,void(A=r);i=!0}if(null!==e){P=!0;try{e(i)}finally{P=!1}}};var q=function e(t){if(null!==B){k(e);var r=t-F+D;r<D&&R<D?(8>r&&(r=8),D=r<R?R:r):R=r,F=t+D,I||(I=!0,N.postMessage(void 0))}else M=!1};x=function(e,t){B=e,A=t,P||0>t?N.postMessage(void 0):M||(M=!0,k(q))},T=function(){B=null,I=!1,A=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,r){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=i,a=s;i=e,s=t.unstable_now();try{return r()}finally{i=n,s=a,h()}},t.unstable_scheduleCallback=function(e,n){var a=-1!==s?s:t.unstable_now();if("object"===typeof n&&null!==n&&"number"===typeof n.timeout)n=a+n.timeout;else switch(i){case 1:n=a+-1;break;case 2:n=a+250;break;case 5:n=a+1073741823;break;case 4:n=a+1e4;break;default:n=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,u();else{a=null;var o=r;do{if(o.expirationTime>n){a=o;break}o=o.next}while(o!==r);null===a?a=r:a===r&&(r=e,u()),(n=a.previous).next=a.previous=e,e.next=a,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var r=i;return function(){var n=i,a=s;i=r,s=t.unstable_now();try{return e.apply(this,arguments)}finally{i=n,s=a,h()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!n&&(null!==r&&r.expirationTime<a||_())}}).call(this,r(56))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(e.hasOwnProperty(t)){for(var n={},i=e[t],a=(0,s.default)(t),o=Object.keys(r),c=0;c<o.length;c++){var u=o[c];if(u===t)for(var d=0;d<i.length;d++)n[i[d]+a]=r[t];n[u]=r[u]}return n}return r};var n,i=r(88),s=(n=i)&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,i){for(var s=0,a=e.length;s<a;++s){var o=e[s](t,r,n,i);if(o)return o}}},function(e,t,r){"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e)};var n,i=r(41),s=(n=i)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,r){"use strict";var n=r(47),i=r(301),s=r(302),a="mixins";e.exports=function(e,t,r){var o=[],c={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},d={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)l(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=n({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=n({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=n({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){var i=r in d;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r);var a=r in e;if(a){var o=u.hasOwnProperty(r)?u[r]:null;return s("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(e[r]=f(e[r],n))}e[r]=n}}}(e,t)},autobind:function(){}};function h(e,t){var r=c.hasOwnProperty(t)?c[t]:null;b.hasOwnProperty(t)&&s("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function l(e,r){if(r){s("function"!==typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,i=n.__reactAutoBindPairs;for(var o in r.hasOwnProperty(a)&&d.mixins(e,r.mixins),r)if(r.hasOwnProperty(o)&&o!==a){var u=r[o],l=n.hasOwnProperty(o);if(h(l,o),d.hasOwnProperty(o))d[o](e,u);else{var p=c.hasOwnProperty(o);if("function"!==typeof u||p||l||!1===r.autobind)if(l){var m=c[o];s(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,o),"DEFINE_MANY_MERGED"===m?n[o]=f(n[o],u):"DEFINE_MANY"===m&&(n[o]=v(n[o],u))}else n[o]=u;else i.push(o,u),n[o]=u}}}}function p(e,t){for(var r in s(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(r)&&(s(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function f(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var i={};return p(i,r),p(i,n),i}}function v(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var y={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},k=function(){};return n(k.prototype,e.prototype,b),function(e){var t=function(e,n,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e[n]=m(e,i)}}(this),this.props=e,this.context=n,this.refs=i,this.updater=a||r,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"===typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o};for(var n in t.prototype=new k,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(l.bind(null,t)),l(t,y),l(t,e),l(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),c)t.prototype[n]||(t.prototype[n]=null);return t}}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,i,s,a,o,c){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,s,a,o,c],h=0;(u=new Error(t.replace(/%s/g,function(){return d[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";var n;r(16).canUseDOM&&(n=window.performance||window.msPerformance||window.webkitPerformance),e.exports=n||{}},,,,,,,function(e,t,r){"use strict";var n=r(35),i=r(27),s=r(0),a=r(7),o=r(25),c=r(15);var u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{isInAParentText:!0}},i.render=function(){var e=this.props,t=e.dir,r=e.numberOfLines,n=e.onPress,i=e.selectable,s=e.style,a=(e.adjustsFontSizeToFit,e.allowFontScaling,e.ellipsizeMode,e.lineBreakMode,e.minimumFontScale,e.onLayout,e.onLongPress,e.pressRetentionOffset,e.selectionColor,e.suppressHighlighting,e.textBreakStrategy,e.tvParallaxProperties,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["dir","numberOfLines","onPress","selectable","style","adjustsFontSizeToFit","allowFontScaling","ellipsizeMode","lineBreakMode","minimumFontScale","onLayout","onLongPress","pressRetentionOffset","selectionColor","suppressHighlighting","textBreakStrategy","tvParallaxProperties"])),c=this.context.isInAParentText;n&&(a.accessible=!0,a.onClick=this._createPressHandler(n),a.onKeyDown=this._createEnterHandler(n)),a.dir=void 0!==t?t:"auto",a.style=[d.initial,!0===this.context.isInAParentText&&d.isInAParentText,s,!1===i&&d.notSelectable,1===r&&d.singleLineStyle,n&&d.pressable];var u=c?"span":"div";return Object(o.a)(u,a)},i._createEnterHandler=function(e){return function(t){13===t.keyCode&&e&&e(t)}},i._createPressHandler=function(e){return function(t){t.stopPropagation(),e&&e(t)}},n}(a.Component);u.displayName="Text",u.childContextTypes={isInAParentText:s.bool},u.contextTypes={isInAParentText:s.bool},u.propTypes={};var d=c.a.create({initial:{borderWidth:0,boxSizing:"border-box",color:"inherit",display:"inline",fontFamily:"System",fontSize:14,fontStyle:"inherit",fontVariant:["inherit"],fontWeight:"inherit",lineHeight:"inherit",margin:0,padding:0,textDecorationLine:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},isInAParentText:{fontFamily:"inherit",fontSize:"inherit",whiteSpace:"inherit"},notSelectable:{userSelect:"none"},pressable:{cursor:"pointer"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});t.a=Object(n.a)(Object(i.a)(u))},function(e,t,r){"use strict";var n=r(35),i=r(27),s=r(16),a=r(7),o=r(25),c=r(22),u=r(15),d=r(24);r(0);var h=s.canUseDOM&&/Android/i.test(navigator&&navigator.userAgent),l={},p=function(e){return function(t){if(e)return t.nativeEvent.text=t.target.value,e(t)}},f=function(e,t){if(e&&t){var r=e.selectionEnd,n=e.selectionStart,i=t.start,s=t.end;return i!==n||s!==r}return!1},v=function(e,t){try{if(f(e,t)){var r=t.start,n=t.end;h?setTimeout(function(){return e.setSelectionRange(r,n||r)},10):e.setSelectionRange(r,n||r)}}catch(i){}},m=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._handleBlur=function(e){var r=t.props.onBlur;d.a._currentlyFocusedNode=null,r&&r(e)},t._handleChange=function(e){var r=t.props,n=r.onChange,i=r.onChangeText,s=e.nativeEvent.text;n&&n(e),i&&i(s),t._handleSelectionChange(e)},t._handleFocus=function(e){var r=t.props,n=r.clearTextOnFocus,i=r.onFocus,s=r.selectTextOnFocus,a=t._node;d.a._currentlyFocusedNode=t._node,i&&i(e),n&&t.clear(),s&&a&&a.select()},t._handleKeyDown=function(e){e.stopPropagation(),("ArrowLeft"===e.key||"ArrowUp"===e.key||"ArrowRight"===e.key||"ArrowDown"===e.key||"Backspace"===e.key||"Escape"===e.key||"Enter"===e.key&&e.metaKey||"Tab"===e.key)&&t._handleKeyPress(e)},t._handleKeyPress=function(e){var r=t.props,n=r.blurOnSubmit,i=r.multiline,s=r.onKeyPress,a=r.onSubmitEditing,o=null==n?!i:n;if(s){var c=e.key;c&&(e.nativeEvent={altKey:e.altKey,ctrlKey:e.ctrlKey,key:c,metaKey:e.metaKey,shiftKey:e.shiftKey,target:e.target},s(e))}e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||(!n&&i||!a||(e.preventDefault(),e.nativeEvent={target:e.target,text:e.target.value},a(e)),o&&t.blur())},t._handleSelectionChange=function(e){var r=t.props,n=r.onSelectionChange,i=r.selection,s=void 0===i?l:i;if(n)try{var a=e.target;if(f(a,s)){var o=a.selectionStart,c=a.selectionEnd;e.nativeEvent.selection={start:o,end:c},n(e)}}catch(e){}},t._setNode=function(e){t._node=Object(c.a)(e)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.clear=function(){this._node.value=""},i.isFocused=function(){return d.a.currentlyFocusedField()===this._node},i.componentDidMount=function(){v(this._node,this.props.selection),document.activeElement===this._node&&(d.a._currentlyFocusedNode=this._node)},i.componentDidUpdate=function(){v(this._node,this.props.selection)},i.render=function(){var e,t=this.props,r=t.autoCorrect,n=t.editable,i=t.keyboardType,s=t.multiline,a=t.numberOfLines,c=t.secureTextEntry,u=t.style,d=(t.blurOnSubmit,t.clearTextOnFocus,t.onChangeText,t.onLayout,t.onSelectionChange,t.onSubmitEditing,t.selection,t.selectTextOnFocus,t.spellCheck),h=(t.accessibilityViewIsModal,t.allowFontScaling,t.caretHidden,t.clearButtonMode,t.dataDetectorTypes,t.disableFullscreenUI,t.enablesReturnKeyAutomatically,t.hitSlop,t.inlineImageLeft,t.inlineImagePadding,t.inputAccessoryViewID,t.keyboardAppearance,t.needsOffscreenAlphaCompositing,t.onAccessibilityTap,t.onContentSizeChange,t.onEndEditing,t.onMagicTap,t.onScroll,t.removeClippedSubviews,t.renderToHardwareTextureAndroid,t.returnKeyLabel,t.returnKeyType,t.scrollEnabled,t.selectionColor,t.selectionState,t.shouldRasterizeIOS,t.textBreakStrategy,t.textContentType,t.underlineColorAndroid,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["autoCorrect","editable","keyboardType","multiline","numberOfLines","secureTextEntry","style","blurOnSubmit","clearTextOnFocus","onChangeText","onLayout","onSelectionChange","onSubmitEditing","selection","selectTextOnFocus","spellCheck","accessibilityViewIsModal","allowFontScaling","caretHidden","clearButtonMode","dataDetectorTypes","disableFullscreenUI","enablesReturnKeyAutomatically","hitSlop","inlineImageLeft","inlineImagePadding","inputAccessoryViewID","keyboardAppearance","needsOffscreenAlphaCompositing","onAccessibilityTap","onContentSizeChange","onEndEditing","onMagicTap","onScroll","removeClippedSubviews","renderToHardwareTextureAndroid","returnKeyLabel","returnKeyType","scrollEnabled","selectionColor","selectionState","shouldRasterizeIOS","textBreakStrategy","textContentType","underlineColorAndroid"]));switch(i){case"email-address":e="email";break;case"number-pad":case"numeric":e="number";break;case"phone-pad":e="tel";break;case"search":case"web-search":e="search";break;case"url":e="url";break;default:e="text"}c&&(e="password");var l=s?"textarea":"input";return Object.assign(h,{autoCorrect:r?"on":"off",dir:"auto",onBlur:p(this._handleBlur),onChange:p(this._handleChange),onFocus:p(this._handleFocus),onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onSelect:p(this._handleSelectionChange),readOnly:!n,ref:this._setNode,spellCheck:null!=d?d:r,style:[y.initial,u]}),s?h.rows=a:h.type=e,Object(o.a)(l,h)},n}(a.Component);m.displayName="TextInput",m.defaultProps={autoCapitalize:"sentences",autoComplete:"on",autoCorrect:!0,editable:!0,keyboardType:"default",multiline:!1,numberOfLines:1,secureTextEntry:!1,style:l},m.State=d.a,m.propTypes={};var y=u.a.create({initial:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",borderColor:"black",borderRadius:0,borderStyle:"solid",borderWidth:0,boxSizing:"border-box",fontFamily:"System",fontSize:14,padding:0,resize:"none"}});t.a=Object(n.a)(Object(i.a)(m))},function(e,t,r){"use strict";var n=r(21),i=r(7),s=r.n(i);var a=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.setNativeProps=function(){},a.render=function(){return s.a.createElement(n.a,{style:[o,this.props.style]},this.props.children)},i}(i.Component),o={},c=a,u=r(12),d=r.n(u),h=r(16),l=h.canUseDOM&&"undefined"!==typeof window.requestIdleCallback,p=l?window.requestIdleCallback:function(e,t){return setTimeout(function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},f=l?window.cancelIdleCallback:function(e){clearTimeout(e)},v=p,m={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t,r=new Promise(function(r){t=v(function(){e&&r(e())})});return{then:r.then.bind(r),done:r.then.bind(r),cancel:function(){f(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){d()(!!e,"Must provide a handle to clear.")},addListener:function(){}},y=function(){function e(e,t){this._delay=t,this._callback=e}var t=e.prototype;return t.dispose=function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)},t.schedule=function(){var e=this;if(!this._taskHandle){var t=setTimeout(function(){e._taskHandle=m.runAfterInteractions(function(){e._taskHandle=null,e._callback()})},this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}},e}(),g=r(55),b=r.n(g),k=r(37),w=r.n(k);function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},_=[],C=10,O=null,S=function(){function e(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new T,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(O||0)>Math.random(),this._resetData()}e.addListener=function(e){return w()(null!==O,"Call `FillRateHelper.setSampleRate` before `addListener`."),_.push(e),{remove:function(){_=_.filter(function(t){return e!==t})}}},e.setSampleRate=function(e){O=e},e.setMinSampleCount=function(e){C=e};var t=e.prototype;return t.activate=function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=b()())},t.deactivateAndFlush=function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<C)this._resetData();else{var t=b()()-e,r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){x(e,t,r[t])})}return e}({},this._info,{total_time_spent:t});_.forEach(function(e){return e(r)}),this._resetData()}}},t.computeBlankness=function(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||null==this._samplesStartTime)return 0;var n=r.dOffset,i=r.offset,s=r.velocity,a=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(a),this._info.pixels_scrolled+=Math.round(Math.abs(n));var o=Math.round(1e3*Math.abs(s)),c=b()();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var u=0,d=t.first,h=this._getFrameMetrics(d);d<=t.last&&(!h||!h.inLayout);)h=this._getFrameMetrics(d),d++;h&&d>0&&(u=Math.min(a,Math.max(0,h.offset-i)));for(var l=0,p=t.last,f=this._getFrameMetrics(p);p>=t.first&&(!f||!f.inLayout);)f=this._getFrameMetrics(p),p--;if(f&&p<e.getItemCount(e.data)-1){var v=f.offset+f.length;l=Math.min(a,Math.max(0,i+a-v))}var m=Math.round(u+l),y=m/a;return y>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=o,this._info.any_blank_count++,this._info.pixels_blank+=m,y>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(o<.01||Math.abs(n)<1)&&this.deactivateAndFlush(),y},t.enabled=function(){return this._enabled},t._resetData=function(){this._anyBlankStartTime=null,this._info=new T,this._mostlyBlankStartTime=null,this._samplesStartTime=null},e}(),E=r(0),B=r.n(E);var I=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=(e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"]));return s.a.createElement(n.a,t)},i}(i.Component);I.propTypes={};var A=I,M=r(107),P=r.n(M),F=r(24),R=function(){F.a.blurTextInput(F.a.currentlyFocusedField())},D=r(22),L=r(36),N=r.n(L),q=h.canUseDOM?window:{devicePixelRatio:void 0,innerHeight:void 0,innerWidth:void 0,screen:{height:void 0,width:void 0}},G={},U={},V=function(){function e(){}return e.get=function(e){return d()(G[e],"No dimension set for key "+e),G[e]},e.set=function(e){e&&(h.canUseDOM?d()(!1,"Dimensions cannot be set in the browser"):(G.screen=e.screen,G.window=e.window))},e._update=function(){G.window={fontScale:1,height:q.innerHeight,scale:q.devicePixelRatio||1,width:q.innerWidth},G.screen={fontScale:1,height:q.screen.height,scale:q.devicePixelRatio||1,width:q.screen.width},Array.isArray(U.change)&&U.change.forEach(function(e){return e(G)})},e.addEventListener=function(e,t){U[e]=U[e]||[],U[e].push(t)},e.removeEventListener=function(e,t){Array.isArray(U[e])&&(U[e]=U[e].filter(function(e){return e!==t}))},e}();V._update(),h.canUseDOM&&window.addEventListener("resize",N()(V._update,16),!1);var j={OS:"web",select:function(e){return"web"in e?e.web:e.default}},H=r(23),K={},W={Mixin:{scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(){return!1},scrollResponderHandleStartShouldSetResponderCapture:function(e){return this.scrollResponderIsAnimating()},scrollResponderHandleResponderReject:function(){w()(!1,"ScrollView doesn't take rejection well - scrolls anyway")},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(e){var t=e.nativeEvent;this.state.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},scrollResponderHandleResponderRelease:function(e){this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=F.a.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),F.a.blurTextInput(t))},scrollResponderHandleScroll:function(e){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},scrollResponderHandleResponderGrant:function(e){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(e){this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},scrollResponderHandleScrollEndDrag:function(e){this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},scrollResponderHandleMomentumScrollBegin:function(e){this.state.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},scrollResponderHandleMomentumScrollEnd:function(e){this.state.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},scrollResponderHandleTouchStart:function(e){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},scrollResponderHandleTouchMove:function(e){this.props.onTouchMove&&this.props.onTouchMove(e)},scrollResponderIsAnimating:function(){return Date.now()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():Object(D.a)(this)},scrollResponderScrollTo:function(e,t,r){if("number"===typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var n=e||K;e=n.x,t=n.y,r=n.animated}var i=this.scrollResponderGetScrollableNode(),s=e||0,a=t||0;"function"===typeof i.scroll?i.scroll({top:a,left:s,behavior:r?"smooth":"auto"}):(i.scrollLeft=s,i.scrollTop=a)},scrollResponderScrollWithoutAnimationTo:function(e,t){console.warn("`scrollResponderScrollWithoutAnimationTo` is deprecated. Use `scrollResponderScrollTo` instead"),this.scrollResponderScrollTo({x:e,y:t,animated:!1})},scrollResponderZoomTo:function(e,t){"ios"!==j.OS&&d()("zoomToRect is not implemented")},scrollResponderFlashScrollIndicators:function(){},scrollResponderScrollNativeHandleToKeyboard:function(e,t,r){this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!r,H.a.measureLayout(e,Object(D.a)(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},scrollResponderInputMeasureAndScrollToKeyboard:function(e,t,r,n){var i=V.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var s=t-i+n+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(s=Math.max(0,s)),this.scrollResponderScrollTo({x:0,y:s,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(e){console.error("Error measuring text field: ",e)},componentWillMount:function(){this.keyboardWillOpenTo=null,this.additionalScrollOffset=0},scrollResponderKeyboardWillShow:function(e){this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},scrollResponderKeyboardWillHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},scrollResponderKeyboardDidShow:function(e){e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},scrollResponderKeyboardDidHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)}}},z=r(15);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Y=function(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}},Z=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._debouncedOnScrollEnd=N()(t._handleScrollEnd,100),t._state={isScrolling:!1,scrollLastTick:0},t._createPreventableScrollHandler=function(e){return function(r){t.props.scrollEnabled?e&&e(r):r.preventDefault()}},t._handleScroll=function(e){e.persist(),e.stopPropagation();var r=t.props.scrollEventThrottle;t._debouncedOnScrollEnd(e),t._state.isScrolling?t._shouldEmitScrollEvent(t._state.scrollLastTick,r)&&t._handleScrollTick(e):t._handleScrollStart(e)},t._setViewRef=function(e){t._viewRef=e},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.setNativeProps=function(e){this._viewRef&&this._viewRef.setNativeProps(e)},a.render=function(){var e=this.props,t=e.scrollEnabled,r=e.style,i=(e.alwaysBounceHorizontal,e.alwaysBounceVertical,e.automaticallyAdjustContentInsets,e.bounces,e.bouncesZoom,e.canCancelContentTouches,e.centerContent,e.contentInset,e.contentInsetAdjustmentBehavior,e.contentOffset,e.decelerationRate,e.directionalLockEnabled,e.endFillColor,e.indicatorStyle,e.keyboardShouldPersistTaps,e.maximumZoomScale,e.minimumZoomScale,e.onMomentumScrollBegin,e.onMomentumScrollEnd,e.onScrollBeginDrag,e.onScrollEndDrag,e.overScrollMode,e.pinchGestureEnabled,e.removeClippedSubviews,e.scrollEventThrottle,e.scrollIndicatorInsets,e.scrollPerfTag,e.scrollsToTop,e.showsHorizontalScrollIndicator,e.showsVerticalScrollIndicator,e.snapToInterval,e.snapToAlignment,e.zoomScale,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["scrollEnabled","style","alwaysBounceHorizontal","alwaysBounceVertical","automaticallyAdjustContentInsets","bounces","bouncesZoom","canCancelContentTouches","centerContent","contentInset","contentInsetAdjustmentBehavior","contentOffset","decelerationRate","directionalLockEnabled","endFillColor","indicatorStyle","keyboardShouldPersistTaps","maximumZoomScale","minimumZoomScale","onMomentumScrollBegin","onMomentumScrollEnd","onScrollBeginDrag","onScrollEndDrag","overScrollMode","pinchGestureEnabled","removeClippedSubviews","scrollEventThrottle","scrollIndicatorInsets","scrollPerfTag","scrollsToTop","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","snapToInterval","snapToAlignment","zoomScale"]));return s.a.createElement(n.a,X({},i,{onScroll:this._handleScroll,onTouchMove:this._createPreventableScrollHandler(this.props.onTouchMove),onWheel:this._createPreventableScrollHandler(this.props.onWheel),ref:this._setViewRef,style:z.a.compose(r,!t&&Q.scrollDisabled)}))},a._handleScrollStart=function(e){this._state.isScrolling=!0,this._state.scrollLastTick=Date.now()},a._handleScrollTick=function(e){var t=this.props.onScroll;this._state.scrollLastTick=Date.now(),t&&t(Y(e))},a._handleScrollEnd=function(e){var t=this.props.onScroll;this._state.isScrolling=!1,t&&t(Y(e))},a._shouldEmitScrollEvent=function(e,t){var r=Date.now()-e;return t>0&&r>=t},i}(i.Component);Z.defaultProps={scrollEnabled:!0,scrollEventThrottle:0},Z.propTypes={};var Q=z.a.create({scrollDisabled:{touchAction:"none"}}),J=r(26);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){te(e,t,r[t])})}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re={},ne=P()({displayName:"ScrollView",propTypes:ee({},J.a,{contentContainerStyle:J.a.style,horizontal:E.bool,keyboardDismissMode:Object(E.oneOf)(["none","interactive","on-drag"]),onContentSizeChange:E.func,onScroll:E.func,pagingEnabled:E.bool,refreshControl:E.element,scrollEnabled:E.bool,scrollEventThrottle:E.number,stickyHeaderIndices:Object(E.arrayOf)(E.number),style:J.a.style}),mixins:[W.Mixin],getInitialState:function(){return this.scrollResponderMixinGetInitialState()},flashScrollIndicators:function(){this.scrollResponderFlashScrollIndicators()},setNativeProps:function(e){this._scrollViewRef&&this._scrollViewRef.setNativeProps(e)},getScrollResponder:function(){return this},getScrollableNode:function(){return Object(D.a)(this._scrollViewRef)},getInnerViewNode:function(){return Object(D.a)(this._innerViewRef)},scrollTo:function(e,t,r){if("number"===typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var n=e||re;t=n.x,e=n.y,r=n.animated}this.getScrollResponder().scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==r})},scrollToEnd:function(e){var t=!1!==(e&&e.animated),r=this.props.horizontal,n=this.getScrollResponder(),i=n.scrollResponderGetScrollableNode(),s=r?i.scrollWidth:0,a=r?0:i.scrollHeight;n.scrollResponderScrollTo({x:s,y:a,animated:t})},scrollWithoutAnimationTo:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),console.warn("`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead"),this.scrollTo({x:t,y:e,animated:!1})},render:function(){var e=this.props,t=e.contentContainerStyle,r=e.horizontal,i=e.onContentSizeChange,a=e.refreshControl,o=e.stickyHeaderIndices,c=e.pagingEnabled,u=(e.keyboardDismissMode,e.onScroll,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","keyboardDismissMode","onScroll"])),h={};i&&(h={onLayout:this._handleContentOnLayout});var l=!r&&Array.isArray(o),p=l||c?s.a.Children.map(this.props.children,function(e,t){var r=l&&o.indexOf(t)>-1;return null!=e&&(r||c)?s.a.createElement(n.a,{style:z.a.compose(r&&se.stickyHeader,c&&se.pagingEnabledChild)},e):e}):this.props.children,f=s.a.createElement(n.a,$({},h,{children:p,collapsable:!1,ref:this._setInnerViewRef,style:z.a.compose(r&&se.contentContainerHorizontal,t)})),v=r?se.baseHorizontal:se.baseVertical,m=r?se.pagingEnabledHorizontal:se.pagingEnabledVertical,y=ee({},u,{style:[v,c&&m,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),g=Z;return d()(void 0!==g,"ScrollViewClass must not be undefined"),a?s.a.cloneElement(a,{style:y.style},s.a.createElement(g,$({},y,{ref:this._setScrollViewRef,style:v}),f)):s.a.createElement(g,$({},y,{ref:this._setScrollViewRef}),f)},_handleContentOnLayout:function(e){var t=e.nativeEvent.layout,r=t.width,n=t.height;this.props.onContentSizeChange(r,n)},_handleScroll:function(e){"on-drag"===this.props.keyboardDismissMode&&R(),this.scrollResponderHandleScroll(e)},_setInnerViewRef:function(e){this._innerViewRef=e},_setScrollViewRef:function(e){this._scrollViewRef=e}}),ie={flexGrow:1,flexShrink:1,transform:[{translateZ:0}],WebkitOverflowScrolling:"touch"},se=z.a.create({baseVertical:ee({},ie,{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:ee({},ie,{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),ae=ne;function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ce(e,t,r[t])})}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t,r,n,i,s){if(function(e,t,r){return e>=0&&t<=r&&t>e}(r,n,i))return!0;var a=function(e,t,r){var n=Math.min(t,r)-Math.max(e,0);return Math.max(0,n)}(r,n,i);return 100*(e?a/i:a/s)>=t}var de=function(){function e(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}var t=e.prototype;return t.dispose=function(){this._timers.forEach(clearTimeout)},t.computeViewableItems=function(e,t,r,n,i){var s=this._config,a=s.itemVisiblePercentThreshold,o=s.viewAreaCoveragePercentThreshold,c=null!=o,u=c?o:a;d()(null!=u&&null!=a!==(null!=o),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var h=[];if(0===e)return h;var l=-1,p=i||{first:0,last:e-1},f=p.first,v=p.last;d()(v<e,"Invalid render range "+JSON.stringify({renderRange:i,itemCount:e}));for(var m=f;m<=v;m++){var y=n(m);if(y){var g=y.offset-t,b=g+y.length;if(g<r&&b>0)l=m,ue(c,u,g,b,r,y.length)&&h.push(m);else if(l>=0)break}}return h},t.onUpdate=function(e,t,r,n,i,s,a){var o=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&n(0)){var c=[];if(e&&(c=this.computeViewableItems(e,t,r,n,a)),this._viewableIndices.length!==c.length||!this._viewableIndices.every(function(e,t){return e===c[t]}))if(this._viewableIndices=c,this._config.minimumViewTime){var u=setTimeout(function(){o._timers.delete(u),o._onUpdateSync(c,s,i)},this._config.minimumViewTime);this._timers.add(u)}else this._onUpdateSync(c,s,i)}},t.resetViewableIndices=function(){this._viewableIndices=[]},t.recordInteraction=function(){this._hasInteracted=!0},t._onUpdateSync=function(e,t,r){var n=this;e=e.filter(function(e){return n._viewableIndices.includes(e)});var i=this._viewableItems,s=new Map(e.map(function(e){var t=r(e,!0);return[t.key,t]})),a=[],o=s,c=Array.isArray(o),u=0;for(o=c?o:o[Symbol.iterator]();;){var d;if(c){if(u>=o.length)break;d=o[u++]}else{if((u=o.next()).done)break;d=u.value}var h=d,l=h[0],p=h[1];i.has(l)||a.push(p)}var f=i,v=Array.isArray(f),m=0;for(f=v?f:f[Symbol.iterator]();;){var y;if(v){if(m>=f.length)break;y=f[m++]}else{if((m=f.next()).done)break;y=m.value}var g=y;l=g[0],p=g[1];s.has(l)||a.push(oe({},p,{isViewable:!1}))}a.length>0&&(this._viewableItems=s,t({viewableItems:Array.from(s.values()),changed:a,viewabilityConfig:this._config}))},e}();function he(e,t,r){for(var n=[],i=0,s=0;s<t;s++)for(var a=r(s),o=a.offset+a.length,c=0;c<e.length;c++)if(null==n[c]&&o>=e[c]&&(n[c]=s,i++,c===e.length-1))return d()(i===e.length,"bad offsets input, should be in increasing order: %s",JSON.stringify(e)),n;return n}function le(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}function pe(e,t,r,n){var i=e.data,s=e.getItemCount,a=e.maxToRenderPerBatch,o=e.windowSize,c=s(i);if(0===c)return t;var u=n.offset,d=n.velocity,h=n.visibleLength,l=Math.max(0,u),p=l+h,f=(o-1)*h,v=d>1?"after":d<-1?"before":"none",m=Math.max(0,l-.5*f),y=Math.max(0,p+.5*f);if(r(c-1).offset<m)return{first:Math.max(0,c-1-a),last:c-1};var g=he([m,l,p,y],e.getItemCount(e.data),r),b=g[0],k=g[1],w=g[2],x=g[3];b=null==b?0:b,x=null==x?c-1:x;for(var T={first:k=null==k?Math.max(0,b):k,last:w=null==w?Math.min(x,k+a-1):w},_=le(t,T);!(k<=b&&w>=x);){var C=_>=a,O=k<=t.first||k>t.last,S=k>b&&(!C||!O),E=w>=t.last||w<t.first,B=w<x&&(!C||!E);if(C&&!S&&!B)break;!S||"after"===v&&B&&E||(O&&_++,k--),!B||"before"===v&&S&&O||(E&&_++,w++)}if(!(w>=k&&k>=0&&w<c&&k>=b&&w<=x&&k<=T.first&&w>=T.last))throw new Error("Bad window calculation "+JSON.stringify({first:k,last:w,itemCount:c,overscanFirst:b,overscanLast:x,visible:T}));return{first:k,last:w}}var fe=function(){var e;return(e=console).log.apply(e,arguments)};function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ye(e,t,r[t])})}return e}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ke=z.a.flatten,we=!1,xe=!1,Te=function(e){ge(r,e);var t=r.prototype;function r(t,r){var i;(i=e.call(this,t,r)||this)._getScrollMetrics=function(){return i._scrollMetrics},i._getOutermostParentListRef=function(){return i._isNestedWithSameOrientation()?i.context.virtualizedList.getOutermostParentListRef():be(be(i))},i._getNestedChildState=function(e){var t=i._nestedChildLists.get(e);return t&&t.state},i._registerAsNestedChild=function(e){var t=i._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),i._cellKeysToChildListKeys.set(e.cellKey,t);var r=i._nestedChildLists.get(e.key);d()(!(r&&null!==r.ref),"A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list."),i._nestedChildLists.set(e.key,{ref:e.ref,state:null}),i._hasInteracted&&e.ref.recordInteraction()},i._unregisterAsNestedChild=function(e){i._nestedChildLists.set(e.key,{ref:null,state:e.state})},i._onUpdateSeparators=function(e,t){e.forEach(function(e){var r=null!=e&&i._cellRefs[e];r&&r.updateSeparatorProps(t)})},i._averageCellLength=0,i._cellKeysToChildListKeys=new Map,i._cellRefs={},i._frames={},i._footerLength=0,i._hasDataChangedSinceEndReached=!0,i._hasInteracted=!1,i._hasMore=!1,i._hasWarned={},i._highestMeasuredFrameIndex=0,i._headerLength=0,i._indicesToKeys=new Map,i._hasDoneInitialScroll=!1,i._nestedChildLists=new Map,i._offsetFromParentVirtualizedList=0,i._prevParentOffset=0,i._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},i._scrollRef=null,i._sentEndForContentLength=0,i._totalCellLength=0,i._totalCellsMeasured=0,i._viewabilityTuples=[],i._captureScrollRef=function(e){i._scrollRef=e},i._defaultRenderScrollComponent=function(e){return i._isNestedWithSameOrientation()?s.a.createElement(n.a,e):e.onRefresh?(d()("boolean"===typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(e.refreshing)+"`"),s.a.createElement(ae,ve({},e,{refreshControl:s.a.createElement(A,{refreshing:e.refreshing,onRefresh:e.onRefresh,progressViewOffset:e.progressViewOffset})}))):s.a.createElement(ae,e)},i._onCellUnmount=function(e){var t=i._frames[e];t&&(i._frames[e]=me({},t,{inLayout:!1}))},i._onLayout=function(e){i._isNestedWithSameOrientation()?i._measureLayoutRelativeToContainingList():i._scrollMetrics.visibleLength=i._selectLength(e.nativeEvent.layout),i.props.onLayout&&i.props.onLayout(e),i._scheduleCellsToRenderUpdate(),i._maybeCallOnEndReached()},i._onLayoutEmpty=function(e){i.props.onLayout&&i.props.onLayout(e)},i._onLayoutFooter=function(e){i._footerLength=i._selectLength(e.nativeEvent.layout)},i._onLayoutHeader=function(e){i._headerLength=i._selectLength(e.nativeEvent.layout)},i._onContentSizeChange=function(e,t){e>0&&t>0&&null!=i.props.initialScrollIndex&&i.props.initialScrollIndex>0&&!i._hasDoneInitialScroll&&(i.scrollToIndex({animated:!1,index:i.props.initialScrollIndex}),i._hasDoneInitialScroll=!0),i.props.onContentSizeChange&&i.props.onContentSizeChange(e,t),i._scrollMetrics.contentLength=i._selectLength({height:t,width:e}),i._scheduleCellsToRenderUpdate(),i._maybeCallOnEndReached()},i._convertParentScrollMetrics=function(e){var t=e.offset-i._offsetFromParentVirtualizedList,r=e.visibleLength,n=t-i._scrollMetrics.offset;return{visibleLength:r,contentLength:i._scrollMetrics.contentLength,offset:t,dOffset:n}},i._onScroll=function(e){i._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScroll(e)}),i.props.onScroll&&i.props.onScroll(e);var t=e.timeStamp,r=i._selectLength(e.nativeEvent.layoutMeasurement),n=i._selectLength(e.nativeEvent.contentSize),s=i._selectOffset(e.nativeEvent.contentOffset),a=s-i._scrollMetrics.offset;if(i._isNestedWithSameOrientation()){if(0===i._scrollMetrics.contentLength)return;var o=i._convertParentScrollMetrics({visibleLength:r,offset:s});r=o.visibleLength,n=o.contentLength,s=o.offset,a=o.dOffset}var c=i._scrollMetrics.timestamp?Math.max(1,t-i._scrollMetrics.timestamp):1,u=a/c;c>500&&i._scrollMetrics.dt>500&&n>5*r&&!i._hasWarned.perf&&(fe("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:c,prevDt:i._scrollMetrics.dt,contentLength:n}),i._hasWarned.perf=!0),i._scrollMetrics={contentLength:n,dt:c,dOffset:a,offset:s,timestamp:t,velocity:u,visibleLength:r},i._updateViewableItems(i.props.data),i.props&&(i._maybeCallOnEndReached(),0!==u&&i._fillRateHelper.activate(),i._computeBlankness(),i._scheduleCellsToRenderUpdate())},i._onScrollBeginDrag=function(e){i._nestedChildLists.forEach(function(t){t.ref&&t.ref._onScrollBeginDrag(e)}),i._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),i._hasInteracted=!0,i.props.onScrollBeginDrag&&i.props.onScrollBeginDrag(e)},i._onScrollEndDrag=function(e){var t=e.nativeEvent.velocity;t&&(i._scrollMetrics.velocity=i._selectOffset(t)),i._computeBlankness(),i.props.onScrollEndDrag&&i.props.onScrollEndDrag(e)},i._onMomentumScrollEnd=function(e){i._scrollMetrics.velocity=0,i._computeBlankness(),i.props.onMomentumScrollEnd&&i.props.onMomentumScrollEnd(e)},i._updateCellsToRender=function(){var e=i.props,t=e.data,r=e.getItemCount,n=e.onEndReachedThreshold,s=i._isVirtualizationDisabled();i._updateViewableItems(t),t&&i.setState(function(e){var a;if(s){var o=i._scrollMetrics,c=o.contentLength,u=o.offset,d=o.visibleLength,h=c-d-u<n*d?i.props.maxToRenderPerBatch:0;a={first:0,last:Math.min(e.last+h,r(t)-1)}}else i._scrollMetrics.visibleLength&&(i.props.initialScrollIndex&&!i._scrollMetrics.offset||(a=pe(i.props,e,i._getFrameMetricsApprox,i._scrollMetrics)));if(a&&i._nestedChildLists.size>0)for(var l=a.first,p=a.last,f=l;f<=p;f++){var v=i._indicesToKeys.get(f),m=v&&i._cellKeysToChildListKeys.get(v);if(m){var y=!1,g=m,b=Array.isArray(g),k=0;for(g=b?g:g[Symbol.iterator]();;){var w;if(b){if(k>=g.length)break;w=g[k++]}else{if((k=g.next()).done)break;w=k.value}var x=w,T=i._nestedChildLists.get(x);if(T&&T.ref&&T.ref.hasMore()){y=!0;break}}if(y){a.last=f;break}}}return a})},i._createViewToken=function(e,t){var r=i.props,n=r.data,s=r.getItem,a=r.keyExtractor,o=s(n,e);return{index:e,item:o,key:a(o,e),isViewable:t}},i._getFrameMetricsApprox=function(e){var t=i._getFrameMetrics(e);if(t&&t.index===e)return t;var r=i.props.getItemLayout;return d()(!r,"Should not have to estimate frames when a measurement metrics function is provided"),{length:i._averageCellLength,offset:i._averageCellLength*e}},i._getFrameMetrics=function(e){var t=i.props,r=t.data,n=t.getItem,s=t.getItemCount,a=t.getItemLayout,o=t.keyExtractor;d()(s(r)>e,"Tried to get frame for out of range index "+e);var c=n(r,e),u=c&&i._frames[o(c,e)];if((!u||u.index!==e)&&a&&(u=a(r,e),we)){var h=B.a.shape({length:B.a.number.isRequired,offset:B.a.number.isRequired,index:B.a.number.isRequired}).isRequired;B.a.checkPropTypes({frame:h},{frame:u},"frame","VirtualizedList.getItemLayout")}return u},d()(!t.onScroll||!t.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),d()(t.windowSize>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),i._fillRateHelper=new S(i._getFrameMetrics),i._updateCellsToRenderBatcher=new y(i._updateCellsToRender,i.props.updateCellsBatchingPeriod),i.props.viewabilityConfigCallbackPairs?i._viewabilityTuples=i.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityHelper:new de(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}}):i.props.onViewableItemsChanged&&i._viewabilityTuples.push({viewabilityHelper:new de(i.props.viewabilityConfig),onViewableItemsChanged:i.props.onViewableItemsChanged});var a={first:i.props.initialScrollIndex||0,last:Math.min(i.props.getItemCount(i.props.data),(i.props.initialScrollIndex||0)+i.props.initialNumToRender)-1};if(i._isNestedWithSameOrientation()){var o=i.context.virtualizedList.getNestedChildState(i.props.listKey||i._getCellKey());o&&(a=o,i.state=o,i._frames=o.frames)}return i.state=a,i}return t.scrollToEnd=function(e){var t=!e||e.animated,r=this.props.getItemCount(this.props.data)-1,n=this._getFrameMetricsApprox(r),i=Math.max(0,n.offset+n.length+this._footerLength-this._scrollMetrics.visibleLength);this._scrollRef.scrollTo(this.props.horizontal?{x:i,animated:t}:{y:i,animated:t})},t.scrollToIndex=function(e){var t=this.props,r=t.data,n=t.horizontal,i=t.getItemCount,s=t.getItemLayout,a=t.onScrollToIndexFailed,o=e.animated,c=e.index,u=e.viewOffset,h=e.viewPosition;if(d()(c>=0&&c<i(r),"scrollToIndex out of range: "+c+" vs "+(i(r)-1)),!s&&c>this._highestMeasuredFrameIndex)return d()(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:c});var l=this._getFrameMetricsApprox(c),p=Math.max(0,l.offset-(h||0)*(this._scrollMetrics.visibleLength-l.length))-(u||0);this._scrollRef.scrollTo(n?{x:p,animated:o}:{y:p,animated:o})},t.scrollToItem=function(e){for(var t=e.item,r=this.props,n=r.data,i=r.getItem,s=(0,r.getItemCount)(n),a=0;a<s;a++)if(i(n,a)===t){this.scrollToIndex(me({},e,{index:a}));break}},t.scrollToOffset=function(e){var t=e.animated,r=e.offset;this._scrollRef.scrollTo(this.props.horizontal?{x:r,animated:t}:{y:r,animated:t})},t.recordInteraction=function(){this._nestedChildLists.forEach(function(e){e.ref&&e.ref.recordInteraction()}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props.data)},t.flashScrollIndicators=function(){this._scrollRef.flashScrollIndicators()},t.getScrollResponder=function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()},t.getScrollableNode=function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():Object(D.a)(this._scrollRef)},t.setNativeProps=function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)},t.getChildContext=function(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}}},t._getCellKey=function(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||"rootList"},t.hasMore=function(){return this._hasMore},t.componentDidMount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this.props.listKey||this._getCellKey(),ref:this})},t.componentWillUnmount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.unregisterAsNestedChild({key:this.props.listKey||this._getCellKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush()},r.getDerivedStateFromProps=function(e,t){var r=e.data,n=(e.extraData,e.getItemCount),i=e.maxToRenderPerBatch;return{first:Math.max(0,Math.min(t.first,n(r)-1-i)),last:Math.max(0,Math.min(t.last,n(r)-1))}},t._pushCells=function(e,t,r,n,i,a){var o,c=this,u=this.props,d=u.CellRendererComponent,h=u.ItemSeparatorComponent,l=u.data,p=u.getItem,f=u.getItemCount,v=u.horizontal,m=u.keyExtractor,y=this.props.ListHeaderComponent?1:0,g=f(l)-1;i=Math.min(g,i);for(var b=function(n){var i=p(l,n),u=m(i,n);c._indicesToKeys.set(n,u),r.has(n+y)&&t.push(e.length),e.push(s.a.createElement(_e,{CellRendererComponent:d,ItemSeparatorComponent:n<g?h:void 0,cellKey:u,fillRateHelper:c._fillRateHelper,horizontal:v,index:n,inversionStyle:a,item:i,key:u,prevCellKey:o,onUpdateSeparators:c._onUpdateSeparators,onLayout:function(e){return c._onCellLayout(e,u,n)},onUnmount:c._onCellUnmount,parentProps:c.props,ref:function(e){c._cellRefs[u]=e}})),o=u},k=n;k<=i;k++)b(k)},t._isVirtualizationDisabled=function(){return this.props.disableVirtualization},t._isNestedWithSameOrientation=function(){var e=this.context.virtualizedList;return!(!e||!!e.horizontal!==!!this.props.horizontal)},t.render=function(){if(we){var e=ke(this.props.contentContainerStyle);w()(null==e||"wrap"!==e.flexWrap,"`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.Consider using `numColumns` with `FlatList` instead.")}var t=this.props,r=t.ListEmptyComponent,i=t.ListFooterComponent,a=t.ListHeaderComponent,o=this.props,c=o.data,u=o.horizontal,d=this._isVirtualizationDisabled(),h=this.props.inverted?this.props.horizontal?Oe.horizontallyInverted:Oe.verticallyInverted:null,l=[],p=new Set(this.props.stickyHeaderIndices),f=[];if(a){p.has(0)&&f.push(0);var v=s.a.isValidElement(a)?a:s.a.createElement(a,null);l.push(s.a.createElement(Ce,{cellKey:this._getCellKey()+"-header",key:"$header"},s.a.createElement(n.a,{onLayout:this._onLayoutHeader,style:h},v)))}var m=this.props.getItemCount(c);if(m>0){xe=!1;var y=u?"width":"height",g=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,b=this.state,k=b.first,x=b.last;this._pushCells(l,f,p,0,g,h);var T=Math.max(g+1,k);if(!d&&k>g+1){var _=!1;if(p.size>0)for(var C=a?1:0,O=T-1;O>g;O--)if(p.has(O+C)){var S,E,B=this._getFrameMetricsApprox(g),I=this._getFrameMetricsApprox(O),A=I.offset-(B.offset+B.length);l.push(s.a.createElement(n.a,{key:"$sticky_lead",style:(S={},S[y]=A,S)})),this._pushCells(l,f,p,O,O,h);var M=this._getFrameMetricsApprox(k).offset-(I.offset+I.length);l.push(s.a.createElement(n.a,{key:"$sticky_trail",style:(E={},E[y]=M,E)})),_=!0;break}if(!_){var P,F=this._getFrameMetricsApprox(g),R=this._getFrameMetricsApprox(k).offset-(F.offset+F.length);l.push(s.a.createElement(n.a,{key:"$lead_spacer",style:(P={},P[y]=R,P)}))}}if(this._pushCells(l,f,p,T,x,h),!this._hasWarned.keys&&xe&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key property on each item or provide a custom keyExtractor."),this._hasWarned.keys=!0),!d&&x<m-1){var D,L=this._getFrameMetricsApprox(x),N=this.props.getItemLayout?m-1:Math.min(m-1,this._highestMeasuredFrameIndex),q=this._getFrameMetricsApprox(N),G=q.offset+q.length-(L.offset+L.length);l.push(s.a.createElement(n.a,{key:"$tail_spacer",style:(D={},D[y]=G,D)}))}}else if(r){var U=s.a.isValidElement(r)?r:s.a.createElement(r,null);l.push(s.a.createElement(n.a,{key:"$empty",onLayout:this._onLayoutEmpty,style:h},U))}if(i){var V=s.a.isValidElement(i)?i:s.a.createElement(i,null);l.push(s.a.createElement(Ce,{cellKey:this._getCellKey()+"-footer",key:"$footer"},s.a.createElement(n.a,{onLayout:this._onLayoutFooter,style:h},V)))}var j=me({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:f});h&&(j.style=[h,this.props.style]),this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var H=s.a.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(j),{ref:this._captureScrollRef},l);return this.props.debug?s.a.createElement(n.a,{style:{flex:1}},H,this._renderDebugOverlay()):H},t.componentDidUpdate=function(e){var t=this.props,r=t.data,n=t.extraData;r===e.data&&n===e.extraData||(this._hasDataChangedSinceEndReached=!0,this._viewabilityTuples.forEach(function(e){e.viewabilityHelper.resetViewableIndices()})),this._scheduleCellsToRenderUpdate()},t._computeBlankness=function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)},t._onCellLayout=function(e,t,r){var n=e.nativeEvent.layout,i={offset:this._selectOffset(n),length:this._selectLength(n),index:r,inLayout:!0},s=this._frames[t];s&&i.offset===s.offset&&i.length===s.length&&r===s.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(s?s.length:0),this._totalCellsMeasured+=s?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,r),this._scheduleCellsToRenderUpdate()),this._computeBlankness()},t._measureLayoutRelativeToContainingList=function(){var e=this;H.a.measureLayout(Object(D.a)(this),Object(D.a)(this.context.virtualizedList.getOutermostParentListRef()),function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")},function(t,r,n,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:r}),e._scrollMetrics.contentLength=e._selectLength({width:n,height:i});var s=e._convertParentScrollMetrics(e.context.virtualizedList.getScrollMetrics());e._scrollMetrics.visibleLength=s.visibleLength,e._scrollMetrics.offset=s.offset})},t._renderDebugOverlay=function(){for(var e=this._scrollMetrics.visibleLength/this._scrollMetrics.contentLength,t=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var a=this._getFrameMetricsApprox(i);a.inLayout&&t.push(a)}var o=this._getFrameMetricsApprox(this.state.first).offset,c=this._getFrameMetricsApprox(this.state.last),u=c.offset+c.length-o,d=this._scrollMetrics.offset,h=this._scrollMetrics.visibleLength,l={position:"absolute",top:0,right:0};return s.a.createElement(n.a,{style:me({},l,{bottom:0,width:20,borderColor:"blue",borderWidth:1})},t.map(function(t,r){return s.a.createElement(n.a,{key:"f"+r,style:me({},l,{left:0,top:t.offset*e,height:t.length*e,backgroundColor:"orange"})})}),s.a.createElement(n.a,{style:me({},l,{left:0,top:o*e,height:u*e,borderColor:"green",borderWidth:2})}),s.a.createElement(n.a,{style:me({},l,{left:0,top:d*e,height:h*e,borderColor:"red",borderWidth:2})}))},t._selectLength=function(e){return this.props.horizontal?e.width:e.height},t._selectOffset=function(e){return this.props.horizontal?e.x:e.y},t._maybeCallOnEndReached=function(){var e=this.props,t=e.data,r=e.getItemCount,n=e.onEndReached,i=e.onEndReachedThreshold,s=this._scrollMetrics,a=s.contentLength,o=s.visibleLength,c=a-o-s.offset;n&&this.state.last===r(t)-1&&c<i*o&&(this._hasDataChangedSinceEndReached||this._scrollMetrics.contentLength!==this._sentEndForContentLength)&&(this._hasDataChangedSinceEndReached=!1,this._sentEndForContentLength=this._scrollMetrics.contentLength,n({distanceFromEnd:c}))},t._scheduleCellsToRenderUpdate=function(){var e=this.state,t=e.first,r=e.last,n=this._scrollMetrics,i=n.offset,s=n.visibleLength,a=n.velocity,o=this.props.getItemCount(this.props.data),c=!1;if(t>0||r<o-1){var u=i-this._getFrameMetricsApprox(t).offset,d=this._getFrameMetricsApprox(r).offset-(i+s),h=this.props.onEndReachedThreshold*s/2;c=Math.min(u,d)<0||a<-2&&u<h||a>2&&d<h}if(c&&this._averageCellLength)return this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()},t._updateViewableItems=function(e){var t=this,r=this.props.getItemCount;this._viewabilityTuples.forEach(function(n){n.viewabilityHelper.onUpdate(r(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,n.onViewableItemsChanged,t.state)})},r}(s.a.PureComponent);Te.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(e,t){return null!=e.key?e.key:(xe=!0,String(t))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},Te.contextTypes={virtualizedCell:B.a.shape({cellKey:B.a.string}),virtualizedList:B.a.shape({getScrollMetrics:B.a.func,horizontal:B.a.bool,getOutermostParentListRef:B.a.func,getNestedChildState:B.a.func,registerAsNestedChild:B.a.func,unregisterAsNestedChild:B.a.func})},Te.childContextTypes={virtualizedList:B.a.shape({getScrollMetrics:B.a.func,horizontal:B.a.bool,getOutermostParentListRef:B.a.func,getNestedChildState:B.a.func,registerAsNestedChild:B.a.func,unregisterAsNestedChild:B.a.func})};var _e=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item}},t._separators={highlight:function(){var e=t.props,r=e.cellKey,n=e.prevCellKey;t.props.onUpdateSeparators([r,n],{highlighted:!0})},unhighlight:function(){var e=t.props,r=e.cellKey,n=e.prevCellKey;t.props.onUpdateSeparators([r,n],{highlighted:!1})},updateProps:function(e,r){var n=t.props,i=n.cellKey,s=n.prevCellKey;t.props.onUpdateSeparators(["leading"===e?s:i],r)}},t}ge(t,e);var r=t.prototype;return r.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},r.updateSeparatorProps=function(e){this.setState(function(t){return{separatorProps:me({},t.separatorProps,e)}})},r.componentWillUnmount=function(){this.props.onUnmount(this.props.cellKey)},r.render=function(){var e=this.props,t=e.CellRendererComponent,r=e.ItemSeparatorComponent,i=e.fillRateHelper,a=e.horizontal,o=e.item,c=e.index,u=e.inversionStyle,h=e.parentProps,l=h.renderItem,p=h.getItemLayout;d()(l,"no renderItem!");var f=l({item:o,index:c,separators:this._separators}),v=!p||h.debug||i.enabled()?this.props.onLayout:void 0,m=r&&s.a.createElement(r,this.state.separatorProps),y=u?a?[Oe.rowReverse,u]:[Oe.columnReverse,u]:a?[Oe.row,u]:u;return t?s.a.createElement(t,ve({},this.props,{style:y,onLayout:v}),f,m):s.a.createElement(n.a,{style:y,onLayout:v},f,m)},t}(s.a.Component);_e.childContextTypes={virtualizedCell:B.a.shape({cellKey:B.a.string})};var Ce=function(e){function t(){return e.apply(this,arguments)||this}ge(t,e);var r=t.prototype;return r.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},r.render=function(){return this.props.children},t}(s.a.Component);Ce.childContextTypes={virtualizedCell:B.a.shape({cellKey:B.a.string})};var Oe=z.a.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),Se=Te;function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Ie(e,t,r[t])})}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae=Be({},Se.defaultProps,{numColumns:1}),Me=function(e){var t,r;r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;function a(t){var r;return(r=e.call(this,t)||this)._hasWarnedLegacy=!1,r._virtualizedListPairs=[],r._captureRef=function(e){r._listRef=e},r._getItem=function(e,t){var n=r.props.numColumns;if(n>1){for(var i=[],s=0;s<n;s++){var a=e[t*n+s];a&&i.push(a)}return i}return e[t]},r._getItemCount=function(e){return e?Math.ceil(e.length/r.props.numColumns):0},r._keyExtractor=function(e,t){var n=r.props,i=n.keyExtractor,s=n.numColumns;return s>1?(d()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",s),e.map(function(e,r){return i(e,t*s+r)}).join(":")):i(e,t)},r._renderItem=function(e){var t=r.props,i=t.renderItem,a=t.numColumns,o=t.columnWrapperStyle;if(a>1){var c=e.item,u=e.index;return d()(Array.isArray(c),"Expected array of items with numColumns > 1"),s.a.createElement(n.a,{style:[{flexDirection:"row"},o]},c.map(function(t,r){var n=i({item:t,index:u*a+r,separators:e.separators});return n&&s.a.cloneElement(n,{key:r})}))}return i(e)},r.props.viewabilityConfigCallbackPairs?r._virtualizedListPairs=r.props.viewabilityConfigCallbackPairs.map(function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:r._createOnViewableItemsChanged(e.onViewableItemsChanged)}}):r.props.onViewableItemsChanged&&r._virtualizedListPairs.push({viewabilityConfig:r.props.viewabilityConfig,onViewableItemsChanged:r._createOnViewableItemsChanged(r.props.onViewableItemsChanged)}),r}return i.scrollToEnd=function(e){this._listRef&&this._listRef.scrollToEnd(e)},i.scrollToIndex=function(e){this._listRef&&this._listRef.scrollToIndex(e)},i.scrollToItem=function(e){this._listRef&&this._listRef.scrollToItem(e)},i.scrollToOffset=function(e){this._listRef&&this._listRef.scrollToOffset(e)},i.recordInteraction=function(){this._listRef&&this._listRef.recordInteraction()},i.flashScrollIndicators=function(){this._listRef&&this._listRef.flashScrollIndicators()},i.getScrollResponder=function(){if(this._listRef)return this._listRef.getScrollResponder()},i.getScrollableNode=function(){if(this._listRef)return this._listRef.getScrollableNode()},i.setNativeProps=function(e){this._listRef&&this._listRef.setNativeProps(e)},i.UNSAFE_componentWillMount=function(){this._checkProps(this.props)},i.UNSAFE_componentWillReceiveProps=function(e){d()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),d()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),d()(e.viewabilityConfig===this.props.viewabilityConfig,"Changing viewabilityConfig on the fly is not supported"),d()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(e)},i._checkProps=function(e){var t=e.getItem,r=e.getItemCount,n=e.horizontal,i=e.legacyImplementation,s=e.numColumns,a=e.columnWrapperStyle,o=e.onViewableItemsChanged,c=e.viewabilityConfigCallbackPairs;d()(!t&&!r,"FlatList does not support custom data formats."),s>1?d()(!n,"numColumns does not support horizontal."):d()(!a,"columnWrapperStyle not supported for single column lists"),i&&(d()(1===s,"Legacy list does not support multiple columns."),this._hasWarnedLegacy||(console.warn("FlatList: Using legacyImplementation - some features not supported and performance may suffer"),this._hasWarnedLegacy=!0)),d()(!(o&&c),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")},i._pushMultiColumnViewable=function(e,t){var r=this.props,n=r.numColumns,i=r.keyExtractor;t.item.forEach(function(r,s){d()(null!=t.index,"Missing index!");var a=t.index*n+s;e.push(Be({},t,{item:r,key:i(r,a),index:a}))})},i._createOnViewableItemsChanged=function(e){var t=this;return function(r){var n=t.props.numColumns;if(e)if(n>1){var i=[],s=[];r.viewableItems.forEach(function(e){return t._pushMultiColumnViewable(s,e)}),r.changed.forEach(function(e){return t._pushMultiColumnViewable(i,e)}),e({viewableItems:s,changed:i})}else e(r)}},i.render=function(){return this.props.legacyImplementation?s.a.createElement(c,Ee({},this.props,{items:this.props.data,ref:this._captureRef})):s.a.createElement(Se,Ee({},this.props,{renderItem:this._renderItem,getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs}))},a}(s.a.PureComponent);Me.defaultProps=Ae;var Pe=Me;t.a=Pe},function(e,t,r){"use strict";var n=r(12),i=r.n(n),s=r(31),a=s.unmountComponentAtNode,o=r(15),c=r(21),u=r(0),d=r(7),h=r.n(d);var l=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={mainKey:1},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{rootTag:this.props.rootTag}},i.render=function(){var e=this.props,t=e.children,r=e.WrapperComponent,n=h.a.createElement(c.a,{children:t,key:this.state.mainKey,pointerEvents:"box-none",style:p.appContainer});return r&&(n=h.a.createElement(r,null,n)),h.a.createElement(c.a,{pointerEvents:"box-none",style:p.appContainer},n)},n}(d.Component);l.childContextTypes={rootTag:u.any},l.propTypes={};var p=o.a.create({appContainer:{flex:1}}),f=s.hydrate,v=r(38);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=f;r.d(t,"a",function(){return x});var g,b={},k={},w=function(e){return e()},x=function(){function e(){}return e.getAppKeys=function(){return Object.keys(k)},e.getApplication=function(e,t){return i()(k[e]&&k[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),k[e].getApplication(t)},e.registerComponent=function(e,t){return k[e]={getApplication:function(e){return r=w(t),n=e?e.initialProps:b,i=g&&g(e),{element:h.a.createElement(l,{WrapperComponent:i,rootTag:{}},h.a.createElement(r,n)),getStyleElement:function(e){var t=v.a.getStyleSheet();return h.a.createElement("style",m({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var r,n,i},run:function(e){return r=w(t),n=e.initialProps||b,s=e.rootTag,a=g&&g(e),o=e.callback,i()(s,"Expect to have a valid rootTag, instead got ",s),void y(h.a.createElement(l,{WrapperComponent:a,rootTag:s},h.a.createElement(r,n)),s,o);var r,n,s,a,o}},e},e.registerConfig=function(t){t.forEach(function(t){var r=t.appKey,n=t.component,s=t.run;s?e.registerRunnable(r,s):(i()(n,"No component provider passed in"),e.registerComponent(r,n))})},e.registerRunnable=function(e,t){return k[e]={run:t},e},e.runApplication=function(e,t){i()(k[e]&&k[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),k[e].run(t)},e.setComponentProviderInstrumentationHook=function(e){w=e},e.setWrapperComponentProvider=function(e){g=e},e.unmountApplicationComponentAtRootTag=function(e){a(e)},e}()},function(e,t,r){"use strict";var n=r(27),i=r(7),s=r(25);r(0);var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.color,r=e.label,n=e.testID,i=e.value,a={color:t};return Object(s.a)("option",{style:a,testID:n,value:i},r)},n}(i.Component);a.propTypes={};var o=r(17);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}({},r(54).a,{color:o.a}),d=r(42),h=r(15);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object(d.a)(u);var p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._handleChange=function(e){var r=t.props.onValueChange,n=e.target,i=n.selectedIndex,s=n.value;r&&r(s,i)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.children,r=e.enabled,n=e.selectedValue,i=e.style,a=e.testID,o=(e.itemStyle,e.mode,e.prompt,e.onValueChange,function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["children","enabled","selectedValue","style","testID","itemStyle","mode","prompt","onValueChange"]));return Object(s.a)("select",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){l(e,t,r[t])})}return e}({children:t,disabled:!1===r||void 0,onChange:this._handleChange,style:[f.initial,i],testID:a,value:n},o))},n}(i.Component);p.Item=a,p.propTypes={};var f=h.a.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}});t.a=Object(n.a)(p)}]]);
//# sourceMappingURL=1.3cde5719.chunk.js.map