(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,r){e.exports=r(250)},151:function(e,t,r){},250:function(e,t,r){"use strict";r.r(t);r(146);var a=r(82),n=r.n(a),c=r(75),o=r(92),i=r(118),l=r(119),s=r(141),u=r(120),m=r(142),b=r(1),d=r.n(b),f=(r(151),r(73)),p=r(256),h=r(259),g=r(260),k=r(257),E=r(94),x=r(124),w=r.n(x).a.create({baseURL:"https://telegrafme.herokuapp.com/indicator/"}),v={fetchOhlcv:function(){return w.get("/binance")}},y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={market:[],chunk:[],base:"BTC",search:"",sort:!1},e.fetchLocalData=function(){e.localData=JSON.parse(localStorage.getItem("ohlcvData"))},e.fetchAllTickers=Object(o.a)(n.a.mark(function t(){var r,a,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.fetchOhlcv();case 2:r=t.sent,a=r.data,o=a.map(function(e){return Object(c.a)({},e,{bg:"white"})}),e.setState({market:o},function(){e.getSocket()});case 6:case"end":return t.stop()}},t,this)})),e.renderIndicator=function(t){var r=t.index,a=t.key,n=t.style,c=e.state.market.filter(function(t){return t.base===e.state.base}).filter(function(t){return-1!==[t.id,t.fib.s1.percentage].join("").indexOf(e.state.search.toUpperCase())})[r],o=c.id,i=c.ticker,l=c.rsi,s=l.daily,u=l.fourly,m=c.market.precision,b=c.bg,p=c.fib,h=p.s3,g=p.s2,k=p.s1,E=p.p,x=p.r3,w=p.r2,v=p.r1,y=c.ma.maFourly;return d.a.createElement(f.a,{style:[{flexDirection:"row",justifyContent:"space-between",flex:1,borderBottomColor:"black",borderWidth:1},n],key:a},d.a.createElement(S,{text:o}),d.a.createElement(S,{text:j(i.last,m.price),backgroundColor:b,bold:!0}),d.a.createElement(S,{text:Number(i.percentage).toFixed(2),percentage:!0,backgroundColor:i.percentage>0?"#42f474":i.percentage<0?"#f44141":"white"}),d.a.createElement(S,{text:j(u.lastRSI,2),backgroundColor:u.lastRSI<25?"#42f474":"white"}),d.a.createElement(S,{text:j(s.lastRSI,2),backgroundColor:s.lastRSI<25?"#42f474":"white"}),d.a.createElement(S,{text:k.percentage,percentage:!0,backgroundColor:k.percentage<1?"#42f474":"white"}),d.a.createElement(S,{text:y.percentage,percentage:!0,backgroundColor:i.last>y.price?"#42f474":"#f44141"}),d.a.createElement(S,{text:j(x.price,m.price)}),d.a.createElement(S,{text:j(w.price,m.price)}),d.a.createElement(S,{text:j(v.price,m.price)}),d.a.createElement(S,{text:j(E.price,m.price)}),d.a.createElement(S,{text:j(k.price,m.price)}),d.a.createElement(S,{text:j(g.price,m.price)}),d.a.createElement(S,{text:j(h.price,m.price)}))},e.orderBy=function(){e.setState(function(e){return{sort:!e.sort,market:e.sort?e.market.sort(function(e,t){return e.ma.maFourly.percentage-t.ma.maFourly.percentage}):e.market.sort(function(e,t){return t.ma.maFourly.percentage-e.ma.maFourly.percentage})}})},e.socket=new WebSocket("wss://stream.binance.com:9443/ws/!miniTicker@arr@3000ms"),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchAllTickers(),this.interval=setInterval(Object(o.a)(n.a.mark(function t(){var r,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.fetchOhlcv();case 2:r=t.sent,a=r.data,e.setState(function(e){return{market:e.market.map(function(e){return Object(c.a)({bg:e.bg},a.find(function(t){return t.id===e.id}))})}});case 5:case"end":return t.stop()}},t,this)})),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getSocket",value:function(){var e=this;this.socket.onmessage=function(t){var r=t.data;e.setState(function(e){return{market:e.market.map(function(e){var t=JSON.parse(r).find(function(t){return t.s===e.id});return Object(c.a)({},e,{ticker:Object(c.a)({},e.ticker,{last:t?Number(t.c):Number(e.ticker.last),percentage:t?O({lastPrice:t.c,openPrice:t.o}):Number(e.ticker.percentage)}),fib:Object(c.a)({},e.fib,{s1:Object(c.a)({},e.fib.s1,{percentage:t?O({lastPrice:t.c,openPrice:e.data.s1}):e.fib.s1.percentage})}),bg:t?Number(t.c)>Number(e.ticker&&e.ticker.last)?"#42f474":Number(t.c)<Number(e.ticker&&e.ticker.last)?"#f44141":"white":e.bg})})}})}}},{key:"render",value:function(){var e=this,t=this.state.market.filter(function(t){return t.base===e.state.base}).filter(function(t){return-1!==[t.id,t.fib.s1.percentage].join("").indexOf(e.state.search.toUpperCase())});return d.a.createElement(f.a,null,d.a.createElement(f.a,{style:{width:"100%",backgroundColor:"white",borderColor:"black",position:"fixed",left:10,top:0,paddingTop:10,zIndex:1,flexDirection:"row",alignItems:"center"}},d.a.createElement(p.a,null,"Base Pair : "),d.a.createElement(h.a,{selectedValue:this.state.base,style:{height:30,width:100},onValueChange:function(t){return e.setState({base:t})}},d.a.createElement(h.a.Item,{label:"BTC",value:"BTC"}),d.a.createElement(h.a.Item,{label:"USDT",value:"USDT"}),d.a.createElement(h.a.Item,{label:"TUSD",value:"TUSD"}),d.a.createElement(h.a.Item,{label:"PAX",value:"PAX"}),d.a.createElement(h.a.Item,{label:"ETH",value:"ETH"})),d.a.createElement(f.a,{style:{flexDirection:"row",alignItems:"center",width:"20%"}}),d.a.createElement(p.a,null,"Search :"),d.a.createElement(g.a,{onChange:function(t){var r=t.target.value;return e.setState({search:r})},style:{borderColor:"black",width:150,height:25,borderWidth:1}})),d.a.createElement(C,{orderBy:this.orderBy}),d.a.createElement(E.a,null,function(r){var a=r.width;return d.a.createElement(E.b,{style:{marginTop:40},rowCount:t.length,rowRenderer:e.renderIndicator,width:a,height:580,overscanRowCount:10,rowHeight:35})}))}}]),t}(d.a.PureComponent),C=function(e){var t=e.orderBy;return d.a.createElement(f.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",top:40,borderColor:"black",backgroundColor:"white",borderWidth:1}},d.a.createElement(S,{bold:!0,text:"Pair"}),d.a.createElement(S,{bold:!0,text:"Last Price"}),d.a.createElement(S,{bold:!0,text:"24h Chg%"}),d.a.createElement(S,{bold:!0,text:"RSI 4H"}),d.a.createElement(S,{bold:!0,text:"RSI 1D"}),d.a.createElement(S,{bold:!0,text:"S1%"}),d.a.createElement(k.a,{onPress:function(){return t()},style:{alignItems:"center"}},d.a.createElement(S,{bold:!0,text:"MA90%"})),d.a.createElement(S,{bold:!0,text:"R3"}),d.a.createElement(S,{bold:!0,text:"R2"}),d.a.createElement(S,{bold:!0,text:"R1"}),d.a.createElement(S,{bold:!0,text:"P"}),d.a.createElement(S,{bold:!0,text:"S1"}),d.a.createElement(S,{bold:!0,text:"S2"}),d.a.createElement(S,{bold:!0,text:"S3"}))},S=function(e){var t=e.text,r=e.percentage,a=e.bold,n=e.backgroundColor;return d.a.createElement(f.a,{style:{width:"6.0%",alignItems:"center",backgroundColor:n,justifyContent:"center"}},d.a.createElement(p.a,{style:{fontWeight:a?"bold":"normal"}},t," ",r?"%":""))},I=y,O=function(e){var t=e.lastPrice,r=e.openPrice;return((P(t)-P(r))/P(r)*100).toFixed(2)},j=function(e,t){return Number(e).toFixed(t)},P=function(e){return Number(e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=r(258);r(248);T.a.registerComponent("App",function(){return I}),T.a.runApplication("App",{initialProps:{},rootTag:document.getElementById("root")}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[145,2,1]]]);
//# sourceMappingURL=main.055b0a2d.chunk.js.map