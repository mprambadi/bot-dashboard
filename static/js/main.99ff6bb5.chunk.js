(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(304)},118:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);a(113);var r=a(8),n=a.n(r),o=a(32),c=a(69),l=a(89),i=a(90),s=a(108),u=a(91),m=a(109),h=a(7),b=a.n(h),d=(a(118),a(92)),f=a.n(d),p=a(21),v=a(310),x=a(314),g=a(311),k=a(312),E=function(e){var t=e.map(function(e){var t=(e[2]+e[3]+e[4])/3,a={r3:Number(t+1*(e[2]-e[3])).toFixed(8),r2:Number(t+.618*(e[2]-e[3])).toFixed(8),r1:Number(t+.382*(e[2]-e[3])).toFixed(8),p:Number(t).toFixed(8),s1:Number(t-.382*(e[2]-e[3])).toFixed(8),s2:Number(t-.618*(e[2]-e[3])).toFixed(8),s3:Number(t-1*(e[2]-e[3])).toFixed(8)};return Object(o.a)({close:Number(e[4]).toFixed(8)},a)});return t.length>=2?t[t.length-2]:{r3:0,r2:0,r1:0,p:0,s1:0,s2:0,s3:0}},w=(a(286),new f.a.binance({proxy:"https://cors-anywhere.herokuapp.com/"})),y=function(e){return new Promise(function(t){return setTimeout(t,e)})},C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={market:[],chunk:[],base:"BTC",search:""},e.fetchMarkets=Object(c.a)(n.a.mark(function t(){var a,r,c,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.fetchTickers();case 2:a=t.sent,r=Object.values(a),c=r.filter(function(t){return t.symbol.split("/")[1]===e.state.base}),console.log(c),l=c.map(function(e){return Object(o.a)({},e,{ohlcv:[],id:e.symbol.split("/").join(""),bg:"white"})}),e.setState({market:l},function(){e.fetchOhlcv()});case 8:case"end":return t.stop()}},t,this)})),e.fetchOhlcv=Object(c.a)(n.a.mark(function t(){var a,r,c,l,i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=!0,r=!1,c=void 0,t.prev=4,l=n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.value,t.next=3,w.fetchOHLCV(a.symbol,"1w");case 3:r=t.sent,e.setState(function(e){return{market:e.market.map(function(e){return e.id===a.id?Object(o.a)({},e,{ohlcv:r}):Object(o.a)({},e)})}}),y(w.rateLimit);case 6:case"end":return t.stop()}},t,this)}),i=e.state.market[Symbol.iterator]();case 7:if(a=(s=i.next()).done){t.next=12;break}return t.delegateYield(l(),"t0",9);case 9:a=!0,t.next=7;break;case 12:t.next=18;break;case 14:t.prev=14,t.t1=t.catch(4),r=!0,c=t.t1;case 18:t.prev=18,t.prev=19,a||null==i.return||i.return();case 21:if(t.prev=21,!r){t.next=24;break}throw c;case 24:return t.finish(21);case 25:return t.finish(18);case 26:e.getSocket(),t.next=32;break;case 29:t.prev=29,t.t2=t.catch(0),console.log(t.t2);case 32:case"end":return t.stop()}},t,this,[[0,29],[4,14,18,26],[19,,21,25]])})),e.socket=new WebSocket("wss://stream.binance.com:9443/ws/!miniTicker@arr@3000ms"),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchMarkets()}},{key:"getSocket",value:function(){var e=this;this.socket.onmessage=function(t){var a=t.data;e.setState(function(e){return{market:e.market.map(function(e){var t=JSON.parse(a).find(function(t){return t.s===e.id});return Object(o.a)({},e,{last:t?Number(t.c):Number(e.last),bg:t?Number(t.c)>Number(e.last)?"#42f474":Number(t.c)<Number(e.last)?"#f44141":"white":e.bg})})}})}}},{key:"render",value:function(){var e=this,t=this.state.market.filter(function(t){return-1!==t.id.indexOf(e.state.search.toUpperCase())});return b.a.createElement(p.a,null,b.a.createElement(p.a,{style:{width:"100%",backgroundColor:"white",borderColor:"black",position:"fixed",left:10,top:0,paddingTop:10,zIndex:1,flexDirection:"row",alignItems:"center"}},b.a.createElement(v.a,null,"Base Pair : "),b.a.createElement(x.a,{selectedValue:this.state.base,style:{height:30,width:100},onValueChange:function(t,a){return e.setState({base:t,market:[]},function(){e.fetchMarkets()})}},b.a.createElement(x.a.Item,{label:"BTC",value:"BTC"}),b.a.createElement(x.a.Item,{label:"USDT",value:"USDT"}),b.a.createElement(x.a.Item,{label:"TUSD",value:"TUSD"}),b.a.createElement(x.a.Item,{label:"PAX",value:"PAX"}),b.a.createElement(x.a.Item,{label:"ETH",value:"ETH"})),b.a.createElement(p.a,{style:{flexDirection:"row",alignItems:"center",width:"20%"}},b.a.createElement(v.a,null,"Pagination : ")),b.a.createElement(v.a,null,"Search :"),b.a.createElement(g.a,{onChange:function(t){var a=t.target.value;return e.setState({search:a})},style:{borderColor:"black",width:100,height:25,borderWidth:1}})),b.a.createElement(S,null),b.a.createElement(k.a,{refreshing:this.state.market.length<5,data:t,keyExtractor:function(e,t){return e+t},renderItem:function(e){var t=e.item;return b.a.createElement(N,{item:t})},extraData:t,showsHorizontalScrollIndicator:!1,style:{padding:10,marginTop:80},ItemSeparatorComponent:function(){return b.a.createElement(p.a,{style:{borderBottomColor:"black",borderBottomWidth:1}})},stickyHeaderIndices:[0]}))}}]),t}(h.Component),S=function(){return b.a.createElement(p.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%",alignItems:"center",position:"fixed",top:40,zIndex:1,borderColor:"black",backgroundColor:"white",borderWidth:1}},b.a.createElement(O,{bold:!0,text:"Pair"}),b.a.createElement(O,{bold:!0,text:"Last Price"}),b.a.createElement(O,{bold:!0,text:"24h Chg%"}),b.a.createElement(p.a,{style:{width:"100%"}},b.a.createElement(p.a,{style:{alignContent:"center"}},b.a.createElement(v.a,null," Pivot Fibonnaci Weekly")),b.a.createElement(p.a,{style:{flexDirection:"row",width:"100%"}},b.a.createElement(O,{bold:!0,text:"R3"}),b.a.createElement(O,{bold:!0,text:"R2"}),b.a.createElement(O,{bold:!0,text:"R1"}),b.a.createElement(O,{bold:!0,text:"P"}),b.a.createElement(O,{bold:!0,text:"S1"}),b.a.createElement(O,{bold:!0,text:"S2"}),b.a.createElement(O,{bold:!0,text:"S3"}))))},O=function(e){var t=e.text,a=e.percentage,r=e.bold,n=e.backgroundColor;return b.a.createElement(p.a,{style:{width:"10%",alignItems:"center",backgroundColor:n}},b.a.createElement(v.a,{style:{fontWeight:r?"bold":"normal"}},t," ",a?"%":""))},N=function(e){var t=e.item;return b.a.createElement(p.a,{style:{flexDirection:"row",justifyContent:"space-between",flex:1}},b.a.createElement(O,{text:t.symbol}),b.a.createElement(O,{text:Number(t.last).toFixed(8),backgroundColor:t.bg,bold:!0}),b.a.createElement(O,{text:Number(t.percentage).toFixed(2),percentage:!0}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).r3}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).r2}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).r1}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).p}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).s1}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).s2}),!!t.ohlcv.length&&b.a.createElement(O,{text:E(t.ohlcv).s3}))},j=C;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(313);I.a.registerComponent("App",function(){return j}),I.a.runApplication("App",{initialProps:{},rootTag:document.getElementById("root")}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[112,2,1]]]);
//# sourceMappingURL=main.99ff6bb5.chunk.js.map